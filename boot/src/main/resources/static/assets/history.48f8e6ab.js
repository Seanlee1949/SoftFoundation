import{g as S,f as ct,q as B}from"./api.595e2602.js";import{g as M}from"./gTabs.c16c087c.js";import{h as u,i as v,c as A}from"./moment.fa453fbd.js";import{r as E}from"./report.49a5d5ac.js";import{_ as R,a as K,b as V,c as W,d as ht}from"./c-i1.67ae4128.js";import{n as L}from"./index.ee77bd4e.js";import{b as ot}from"./b4.8568b0da.js";/* empty css                                                          */var mt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e(t.report,{tag:"component",attrs:{firstDowntime2:t.firstDowntime2,firstDowntime:t.firstDowntime,partcurrent:t.partcurrent,downspeed:t.downspeed,upspeed:t.upspeed,ashReport:t.ashReport,selectItem:t.selectItem,checkedData:t.checkedData,depthReport:t.depthReport,pulpReport:t.pulpReport}}),e("a",{attrs:{id:"simulation",href:""}}),e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.moreConditions()}}},[t._v("\u66F4\u591A\u6761\u4EF6")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showData()}}},[t._v("\u9009\u62E9\u53C2\u6570")])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.pileDescribe,callback:function(a){t.pileDescribe=a},expression:"pileDescribe"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticClass:"jbThead",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id",align:"center","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{width:t.columnWidth(i),prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"160px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label))])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1),e("el-dialog",{attrs:{title:"\u66F4\u591A\u6761\u4EF6",width:"40%",visible:t.dialogFormVisibleMore},on:{"update:visible":function(a){t.dialogFormVisibleMore=a}}},[e("div",[e("el-form",{staticClass:"more-filterbox"},[e("div",{staticClass:"moreConditions"},[e("div",{staticClass:"items"},[t._v(t._s("\xA0\xA0\xA0\xA0\xA0")+"\u65BD\u5DE5\u6869\u957F(m)")]),e("el-input",{staticClass:"input",model:{value:t.pileDepth,callback:function(a){t.pileDepth=a},expression:"pileDepth"}}),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-input",{staticClass:"input",model:{value:t.pileDepth2,callback:function(a){t.pileDepth2=a},expression:"pileDepth2"}})],1),e("div",{staticClass:"moreConditions"},[e("div",{staticClass:"items"},[t._v("\u5E73\u5747\u7070\u91CF(kg/m)")]),e("el-input",{staticClass:"input",model:{value:t.pileAsh,callback:function(a){t.pileAsh=a},expression:"pileAsh"}}),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-input",{staticClass:"input",model:{value:t.pileAsh2,callback:function(a){t.pileAsh2=a},expression:"pileAsh2"}})],1),e("div",{staticClass:"moreConditions"},[e("div",{staticClass:"items"},[t._v(t._s("\xA0\xA0\xA0\xA0")+"\u7D2F\u8BA1\u7070\u91CF(kg)")]),e("el-input",{staticClass:"input",model:{value:t.cumulativePileAsh,callback:function(a){t.cumulativePileAsh=a},expression:"cumulativePileAsh"}}),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-input",{staticClass:"input",model:{value:t.cumulativePileAsh2,callback:function(a){t.cumulativePileAsh2=a},expression:"cumulativePileAsh2"}})],1),e("div",{staticClass:"moreConditions"},[e("div",{staticClass:"items"},[t._v(t._s("\xA0\xA0\xA0\xA0\xA0")+"\u6210\u6869\u65F6\u957F(s)")]),e("el-input",{staticClass:"input",model:{value:t.pileTime,callback:function(a){t.pileTime=a},expression:"pileTime"}}),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-input",{staticClass:"input",model:{value:t.pileTime2,callback:function(a){t.pileTime2=a},expression:"pileTime2"}})],1)])],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogFormVisibleMore=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.moreDetermine()}}},[t._v("\u786E \u5B9A")])],1)])],1),e("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1),e("div",{staticClass:"right"},[t.show?e("div",{staticClass:"export_echart",on:{click:t.download}},[t._v("\u56FE\u7247\u4E0B\u8F7D")]):t._e(),e("el-dropdown",{attrs:{placement:"top-start"},on:{command:t.downLoad}},[e("span",{staticClass:"more"},[t._v("\u62A5\u8868\u4E0B\u8F7D ")]),e("el-dropdown-menu",{staticClass:"g-dropdown"},[e("el-dropdown-item",{attrs:{command:0}},[e("span",{staticClass:"icon icon01"}),e("span",{staticClass:"name"},[t._v("\u6253\u5370\u7248")])]),e("el-dropdown-item",{attrs:{command:1}},[e("span",{staticClass:"icon icon02"}),e("span",{staticClass:"name"},[t._v("\u7EFC\u5408\u7248")])]),e("el-dropdown-item",{attrs:{command:2}},[e("span",{staticClass:"icon icon03"}),e("span",{staticClass:"name"},[t._v("\u8BE6\u7EC6\u7248")])])],1)],1)],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value valuepile",attrs:{title:this.selectItem.pileDescribe}},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u6869\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth))+"(m)")])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u521D\u6405\u6DF1\u5EA6(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.frDepth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u590D\u6405\u6DF1\u5EA6(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.reDepth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7A7A\u6405\u6DF1\u5EA6(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.emDepth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.downSpeed,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u63D0\u94BB\u901F\u5EA6(cm/min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upSpeed,1)))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6C34\u7070\u6BD4(:1)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.waterCementRatio)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativeAsh,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u6D46\u91CF(L/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averagePulp)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u7070\u91CF(kg/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averageAsh)))])])])]),e("li",{staticClass:"s4"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4(min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u7AEF\u7535\u6D41(A)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.pileTopCurrent,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6(%)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.xAngle,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u7535\u6D41(A)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.maxCurrent,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u55B7\u6D46\u538B\u529B(MPa)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averagePressure)))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em"}},[e("el-table-column",{attrs:{property:"partId",label:"\u5E8F\u53F7","min-width":"4.33%",align:"center"}}),e("el-table-column",{attrs:{property:"partDeep",label:"\u6BB5\u6DF1\u5EA6(m)","min-width":"8.83%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDeep))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulp",label:"\u6BB5\u6D46\u91CF(L)","min-width":"8.83%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAsh",label:"\u6BB5\u7070\u91CF(kg)","min-width":"8.83%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAsh))+" ")]}}])}),e("el-table-column",{attrs:{property:"partCurrent",label:"\u6BB5\u7535\u6D41(A)","min-width":"8.83%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partCurrent,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDensity",label:"\u6BB5\u5BC6\u5EA6(g/cm\xB3)","min-width":"10.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDensity,3))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u901F\u5EA6(cm/min)","min-width":"9.83%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num3filters")(a.row.partDownSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPressure",label:"\u6BB5\u55B7\u538B(MPa)","min-width":"9.83%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPressure,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partTime",label:"\u6BB5\u65F6\u957F(s)","min-width":"8.83%",align:"center"}}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u72B6\u6001","min-width":"4.66%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num5filters")(a.row.partDownSpeed))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart",attrs:{id:"echarts"}},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart03",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])])],1)],1),e("div",{staticClass:"echatrs",attrs:{id:"echartss"}},[e("div",{ref:"myChart06",style:{width:"100%",height:"33.33%"}}),e("div",{ref:"myChart07",style:{width:"100%",height:"33.33%"}}),e("div",{ref:"myChart08",style:{width:"100%",height:"33.33%"}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===2,expression:"tab2===2"}],staticClass:"m-tab-table"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner inner1 backEchart"},[e("div",{staticClass:"m-statusinfo"},[e("div",{staticClass:"top"},[e("h3",[t._v(t._s(t.selectItem.deviceTypeName))]),e("div",{staticClass:"info"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.selectItem.pileDescribe)+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8BBE\u5907\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])])]),e("div",{staticClass:"status"},[e("ul",{staticClass:"ul-status"},[e("li",{class:t.recordStatusClass},[e("div",{staticClass:"btn"},[t._v(t._s(t.pileDownStatus))])]),e("li",{class:t.pipeStatusClass},[e("div",{staticClass:"btn"},[t._v(t._s(t.pileStatusStr))])]),e("li",{class:t.nozzleStatusClass},[e("div",{staticClass:"btn"},[t._v(t._s(t.pulpStatus))])])])])]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"item"},[e("h3",[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u6C34\u7070\u6BD4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.waterCementRatio)))])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u5BC6\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.dataNum.partDensity,3))+" g/cm\xB3")])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.designDownSpeed,2))+" cm/min")])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.designUpSpeed,2))+" cm/min")])])])])])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner backEchart"},[e("div",{ref:"myChart05",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"m-box m-map",staticStyle:{height:"27rem"}},[e("div",{staticClass:"con"},[e("div",{staticClass:"mapDiv",attrs:{id:"mapDiv"}})])])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{staticClass:"m-datab1",staticStyle:{height:"27rem"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[e("div",{ref:"angle",staticClass:"icon"}),e("div",{staticClass:"t1"},[e("p",[t._v("X"),e("b",[t._v(t._s(t._f("numfilters")(t.selectItem.xAngle)))])]),e("p",[t._v("Y"),e("b",[t._v(t._s(t._f("numfilters")(t.selectItem.yAngle)))])])])]),e("div",{staticClass:"oh"},[e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u6301\u7EED\u65F6\u957F(min)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("minfilters")(t.LastTime)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.totalPartPulp)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.totalPartAsh)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u6BB5\u6D46\u91CF(L)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.dataNum.partPulp)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u6BB5\u7070\u91CF(kg)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.dataNum.partAsh)))])])])]),e("div",{staticClass:"picbox"},[e("img",{staticClass:"bg",attrs:{src:R,alt:""}}),e("div",{staticClass:"databar"},[e("div",{staticClass:"data",style:{bottom:t.ztTop}},[e("img",{class:t.image,attrs:{src:K,alt:""}}),e("img",{staticClass:"zt",attrs:{src:V,alt:""}}),e("div",{staticClass:"info"},[e("p",[e("b",[t._v(t._s(t.pileStatusStr))])]),e("p",[t._v("\u6DF1\u5EA6"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partDeep))+"(m)")])]),e("p",[t._v("\u901F\u5EA6"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partDownSpeed))+"(cm/min)")])]),e("p",[t._v(" \u7535\u6D41"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partCurrent))+"(A)")])]),e("p",[t._v(" \u6D41\u91CF"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partPulp/t.dataNum.partTime*60))+"(L/min)")])]),e("img",{staticClass:"line",attrs:{src:W,alt:""}})])])])])])])])],1),e("div",{staticClass:"backplayBottom"},[e("el-progress",{staticClass:"progress_bar",attrs:{"show-text":!1,"stroke-width":15,percentage:t.percentage,color:t.color}}),e("i",{staticClass:"iconBack el-icon-refresh-right",on:{click:t.stop}}),e("i",{staticClass:"iconBack",class:t.icon,on:{click:t.backPlay}}),e("el-select",{staticClass:"selectspeed",attrs:{size:"small",placeholder:"\u6B63\u5E38"},on:{change:t.change},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},t._l(t.options,function(a){return e("el-option",{key:a.value,staticClass:"selectspeedOpt",attrs:{label:a.label,value:a.value}})}),1)],1)],1)])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("el-checkbox",{staticClass:"total",on:{change:t.totalChange},model:{value:t.totalChecked,callback:function(a){t.totalChecked=a},expression:"totalChecked"}},[t._v(" \u5168\u9009 ")])],1),e("div",{staticClass:"item"},[e("div",{staticClass:"export",attrs:{id:"simulations",href:""},on:{click:t.exportAll}},[t._v("\u5BFC\u51FA ")])])]),e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot, jumper, sizes",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},dt=[];const pt=["pileDescribe","deviceKey","beginTime","endTime","designDepth","depth","frDepth","reDepth","waterCementRatio","cumulativePulp","averagePulp","cumulativeAsh","averageAsh","pileTopCurrent","maxCurrent","downSpeed","upSpeed","averageCurrent","maxDownSpeed","maxUpSpeed","xAngle","pileTime","tTypeLength","tTypePulp","tTypeAsh","bottomPartPulp","bottomPartAsh","emDepth"],ut={components:{gTabs:M,report:E},name:"carrousel",props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage"],data(){return{options:[{value:"ordinary",label:"\u6B63\u5E38"},{value:"fast",label:"\u5FEB\u901F"},{value:"topspeed",label:"\u6781\u901F"}],value:"ordinary",datalength:[],totalPartTime:0,f:0,t:0,PlaybackTime:"",pileDeep:0,icon:"el-icon-video-pause",percentage:0,color:"#000",playbackTimeDepth:[],playbackTimeFlow:[],LastTime:0,totalPartPulp:0,totalPartAsh:0,ztTop:100,pileStatusStr:"\u505C\u94BB",pileDownStatus:"\u7ED3\u675F",pulpStatus:"\u6B62\u55B7",image:"stop",playBack:null,dingshi:null,y:0,dataNum:[],recordStatusClass:"",pipeStatusClass:"",nozzleStatusClass:"",map:null,pileDepth:"",pileDepth2:"",pileAsh:"",pileAsh2:"",pileTime:"",pileTime2:"",cumulativePileAsh:"",cumulativePileAsh2:"",depthReport:[],pulpReport:{},ashReport:{},upspeed:{},downspeed:{},partcurrent:{},report:"report",checkedData:[],totalChecked:!1,startDate:"",endDate:"",pileDescribe:"",deviceKey:"",checkedId:[],checkAll:!1,checkedFileds:["pileDescribe","deviceKey","beginTime","endTime","designDepth","depth","pileTime","cumulativePulp","averageAsh","cumulativeAsh","downSpeed","upSpeed","pileTopCurrent"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u8BBE\u5907\u7F16\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"designDepth",label:"\u8BBE\u8BA1\u6869\u957F",formatter:this.designnumFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"frDepth",label:"\u521D\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"reDepth",label:"\u590D\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"waterCementRatio",label:"\u6C34\u7070\u6BD4(:1)",formatter:this.numFormatter},{prop:"cumulativePulp",label:"\u7D2F\u8BA1\u6D46\u91CF(L)",formatter:this.numsFormatter},{prop:"averagePulp",label:"\u5E73\u5747\u6D46\u91CF(L/m)",formatter:this.numFormatter},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numsFormatter},{prop:"averageAsh",label:"\u5E73\u5747\u7070\u91CF(kg/m)",formatter:this.numFormatter},{prop:"pileTopCurrent",label:"\u6869\u7AEF\u7535\u6D41(A)",formatter:this.numsFormatter},{prop:"maxCurrent",label:"\u6700\u5927\u7535\u6D41(A)",formatter:this.numsFormatter},{prop:"downSpeed",label:"\u4E0B\u94BB\u901F\u5EA6(cm/min)",formatter:this.numsFormatter},{prop:"upSpeed",label:"\u63D0\u94BB\u901F\u5EA6(cm/min)",formatter:this.numsFormatter},{prop:"averageCurrent",label:"\u5E73\u5747\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"maxDownSpeed",label:"\u6700\u5927\u94BB\u901F(cm/min)",formatter:this.numsFormatter},{prop:"maxUpSpeed",label:"\u6700\u5927\u63D0\u901F(cm/min)",formatter:this.numsFormatter},{prop:"xAngle",label:"\u6700\u5927\u659C\u5EA6(%)",formatter:this.numsFormatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)	",formatter:this.minFormatter},{prop:"tTypeLength",label:"\u6269\u5927\u5934\u6869\u957F(m)	",formatter:this.numFormatter},{prop:"tTypePulp",label:"\u6269\u5927\u5934\u6D46\u91CF(L)",formatter:this.numFormatter},{prop:"tTypeAsh",label:"\u6269\u5927\u5934\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"bottomPartPulp",label:"\u4E0B\u90E8\u6869\u6D46\u91CF(L)",formatter:this.numsFormatter},{prop:"bottomPartAsh",label:"\u4E0B\u90E8\u6869\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"emDepth",label:"\u7A7A\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter}],isIndeterminate:!1,dialogFormVisible:!1,dialogFormVisibleMore:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u8BBE\u5907\u7F16\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"designDepth",label:"\u8BBE\u8BA1\u6869\u957F",formatter:this.designnumFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"cumulativePulp",label:"\u7D2F\u8BA1\u6D46\u91CF(L)",formatter:this.numsFormatter},{prop:"averageAsh",label:"\u5E73\u5747\u7070\u91CF(kg/m)",formatter:this.numFormatter},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numsFormatter},{prop:"pileTopCurrent",label:"\u6869\u7AEF\u7535\u6D41(A)",formatter:this.numsFormatter},{prop:"downSpeed",label:"\u4E0B\u94BB\u901F\u5EA6(cm/min)",formatter:this.numsFormatter},{prop:"upSpeed",label:"\u63D0\u94BB\u901F\u5EA6(cm/min)",formatter:this.numsFormatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],tempCols:[],centerDialogVisible:!1,data:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],firstDowntime:[],firstDowntime2:[],inquire:[],totalNum:0,echartAll:[],echartsAll:[],show:!1}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},minfilters(t){return(parseFloat(t)/60).toFixed(2)},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)},num3filters(t){return parseFloat(t).toFixed(2)},num5filters(t){return t<0?"\u63D0\u94BB":"\u4E0B\u94BB"}},watch:{centerDialogVisible(t,s){if(window.onresize=null,t==!1){if(this.show=!1,this.playBackClear(),clearInterval(this.playBack),this.tab2=0,this.selectItem=[],this.data=[],this.upspeed=[],this.downspeed=[],this.ashReport=[],this.depthReport=[],this.partcurrent=[],this.myChart01===void 0||this.myChart01._disposed)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart03.dispose(),this.myChart04.dispose(),this.myChart06.dispose(),this.myChart07.dispose(),this.myChart08.dispose()}}},mounted(){sessionStorage.pileDepth=this.pileDepth,sessionStorage.cumulativePileAsh=this.cumulativePileAsh,sessionStorage.pileTime=this.pileTime,setTimeout(()=>{this.deviceKey=this.device},2e3)},methods:{download(){let t=document.createElement("a");t.href=this.myChart06.getConnectedDataURL({pixelRatio:2,backgroundColor:"#fff"}),t.download="\u56FE\u7247\u4E0B\u8F7D.png",t.click()},playBackClear(){this.value="ordinary",this.datalength=[],this.totalPartTime=0,this.f=0,this.t=0,this.PlaybackTime="",this.pileDeep=0,this.icon="el-icon-video-pause",this.percentage=0,this.playbackTimeDepth=[],this.playbackTimeFlow=[],this.LastTime=0,this.totalPartPulp=0,this.totalPartAsh=0,this.ztTop=100,this.pileStatusStr="\u505C\u94BB",this.pileDownStatus="\u7ED3\u675F",this.pulpStatus="\u6B62\u55B7",this.image="stop",this.y=0,this.dataNum=[],this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",clearInterval(this.playBack),clearInterval(this.dingshi),!(this.myChart05===void 0||this.myChart05._disposed)&&this.myChart05.dispose()},columnWidth(t){if(t==4||t==5||t==6||t==7||t==8||t==9)return 120;if(t==10||t==11||t==12)return 150},exportAll(){this.tableToExcel("statisticsTableRecord","-\u6405\u62CC\u6869-\u7EDF\u8BA1\u62A5\u8868")},downLoad(t){switch(t){case 0:{this.tableToExcel("statisticsTablePrint",u(this.selectItem.beginTime*1e3).format("YYYY-MM-DD")+"-\u6405\u62CC\u6869-\u6253\u5370\u7248");break}case 1:{this.tableToExcel("statisticsTable",u(this.selectItem.beginTime*1e3).format("YYYY-MM-DD")+"-\u6405\u62CC\u6869-\u7EFC\u5408\u7248");break}case 2:{this.tableToExcel("statisticsTabledetailed",u(this.selectItem.beginTime*1e3).format("YYYY-MM-DD")+"-\u6405\u62CC\u6869_\u8BE6\u7EC6\u7248");break}}},tableToExcel(t,s){let e="data:application/vnd.ms-excel;base64,",a='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--> <style type="text/css">table td {height: 25px;font-family: \u5B8B\u4F53;font-size: 13px;text-align: left;border: 0.5px solid #000000; }table .tHead {font-size: 20px;text-align:center;font-weight: bold;height: 40px; }table tfoot tr{height: 25px; }table tbody td{text-align: center;height: 20px;mso-number-format:"@"; }</style></head><body ><table class="excelTable">{table}</table></body></html>';t.nodeType||(t=document.getElementById(t));let i;t&&(i={worksheet:s||"Worksheet",table:t.innerHTML},document.getElementById("simulation").href=e+this.base64(this.format(a,i)),document.getElementById("simulation").download=s+".xls",document.getElementById("simulation").click())},base64(t){return window.btoa(unescape(encodeURIComponent(t)))},format(t,s){return t.replace(/{(\w+)}/g,function(e,a){return s[a]})},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("JBZ",0,this.deviceKey,this.pageSize,this.pileDescribe,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.pileDescribe,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.pileDescribe="",this.startDate="",this.endDate=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},minFormatter(t,s,e,a){return(parseFloat(e)/60).toFixed(0)},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},numsFormatter(t,s,e,a){return parseFloat(e).toFixed(1)},designnumFormatter(t,s,e,a){return e==null?"--":parseFloat(e).toFixed(2)},handleCheckAllChange(t){this.checkedFileds=t?pt:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},moreConditions(){this.dialogFormVisibleMore=!0},moreDetermine(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("JBZ",0,this.device,this.pageSize,this.pileDescribe,this.startDate,this.endDate,this.pileDepth,this.cumulativePileAsh,this.pileTime,this.pileDepth2,this.pileAsh,this.pileAsh2,this.cumulativePileAsh2,this.pileTime2).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.device,this.pileDescribe,this.startDate,this.endDate,this.inquire,this.totalNum,this.pileDepth2,this.pileAsh,this.pileAsh2,this.cumulativePileAsh2,this.pileTime2,this.pileDepth,this.pileTime,this.cumulativePileAsh),t.close()}),this.dialogFormVisibleMore=!1},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},initechart06(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDensity.toFixed(3)+""]),a={title:{text:"\u6DF1\u5EA6\u3001\u5BC6\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u5BC6\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6(m)  ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u5BC6\u5EA6(g/cm\xB3)",nameLocation:"end",inverse:!0,type:"value",splitLine:{show:!1},nameTextStyle:{padding:[10,20,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s,animation:!1},{name:"\u5BC6\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e,animation:!1}]};this.myChart06=v(this.$refs.myChart06,null,{devicePixelRatio:2.5}),this.myChart06.setOption(a),this.echartsAll.push(this.myChart06)},initechart07(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep]),e=this.selectItem.data.map((i,l)=>[t[l],i.partCurrent.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7535\u6D41"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6(m)       ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"      \u7535\u6D41(A)",type:"value",nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s,animation:!1},{name:"\u7535\u6D41",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e,animation:!1}]};this.myChart07=v(this.$refs.myChart07,null,{devicePixelRatio:2.5}),this.myChart07.setOption(a),this.echartsAll.push(this.myChart07)},initechart08(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],(i.partPulp/i.partTime*60).toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDownSpeed.toFixed(2)]),a={title:{text:"\u6D41\u91CF\u3001\u901F\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6D41\u91CF","\u901F\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6D41\u91CF(L/min)",type:"value",nameLocation:"start",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]},max:150,min:0},{name:"\u901F\u5EA6(cm/min)      ",type:"value",nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6D41\u91CF",type:"line",showSymbol:!1,data:s,animation:!1},{name:"\u901F\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e,animation:!1}]};this.myChart08=v(this.$refs.myChart08,null,{devicePixelRatio:2.5}),this.myChart08.setOption(a),this.echartsAll.push(this.myChart08)},initEchart01(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDensity.toFixed(3)+""]),a={title:{text:"\u6DF1\u5EA6\u3001\u5BC6\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u5BC6\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{type:"png"}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6(m)  ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u5BC6\u5EA6(g/cm\xB3)",nameLocation:"end",inverse:!0,type:"value",splitLine:{show:!1},nameTextStyle:{padding:[10,20,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u5BC6\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(a),this.echartAll.push(this.myChart01)},initEchart02(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep]),e=this.selectItem.data.map((i,l)=>[t[l],i.partCurrent.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7535\u6D41"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6(m)       ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"      \u7535\u6D41(A)",type:"value",nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u7535\u6D41",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(a),this.echartAll.push(this.myChart02)},initEchart03(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],(i.partPulp/i.partTime*60).toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDownSpeed.toFixed(2)]),a={title:{text:"\u6D41\u91CF\u3001\u901F\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6D41\u91CF","\u901F\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6D41\u91CF(L/min)",type:"value",nameLocation:"start",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]},max:150,min:0},{name:"\u901F\u5EA6(cm/min)      ",type:"value",nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6D41\u91CF",type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart03=v(this.$refs.myChart03,null,{devicePixelRatio:2.5}),this.myChart03.setOption(a),this.echartAll.push(this.myChart03)},initEchart04(){for(var t=[],s=0;s<this.selectItem.data.length;s++)t[Math.ceil(this.selectItem.data[s].partDeep-1)]==null&&(t[Math.ceil(this.selectItem.data[s].partDeep-1)]=0),t[Math.ceil(this.selectItem.data[s].partDeep-1)]+=this.selectItem.data[s].partAsh;var e=t.map(a);function a(l,h,f){var n={value:Number(l.toFixed(2)),name:h+1};return n}let i={title:{text:"\u6210\u6869\u7070\u91CF\u5206\u5E03",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"item",formatter:"{a} : {c}Kg"},grid:{top:"10%",bottom:"10%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"\u7070\u91CF\u5206\u5E03",type:"funnel",width:"50%",left:"center",top:"15%",bottom:"8%",label:{show:!0},labelLine:{show:!0},data:e,sort:"none",color:"#5470c6"}]};this.myChart04=v(this.$refs.myChart04,null,{renderer:"svg"}),this.myChart04.setOption(i)},initEchart05(){let t={title:{text:"\u6DF1\u5EA6\u3001\u6D41\u91CF\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6D41\u91CF"]},grid:{top:"15%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6(m)  ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},max:30,nameTextStyle:{padding:[10,0,0,15]}},{name:" \u6D41\u91CF(L/min)",nameLocation:"start",type:"value",splitLine:{show:!1},max:120,min:0,nameTextStyle:{padding:[10,20,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.playbackTimeDepth},{name:"\u6D41\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.playbackTimeFlow}]};this.myChart05.setOption(t)},setAngle(t,s){let e={tooltip:{show:!1,trigger:"axis",formatter:"x: "+t+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-20",max:"20",axisLabel:{show:!1}},yAxis:{type:"value",min:"-20",max:"20",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[t,s]],type:"scatter"}]};this.angle==null&&(this.angle=v(this.$refs.angle)),this.angle.setOption(e)},changeHandle(t){let s=this;if(this.tab2=t,t===0&&(this.show=!1,this.playBackClear()),t===1&&(this.show=!0,this.$nextTick(()=>{this.initechart06(),this.initechart07(),this.initechart08(),A(this.echartsAll),this.initEchart04(),this.initEchart01(),this.initEchart02(),this.initEchart03(),A(this.echartAll),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart03.resize(),s.myChart04.resize()}}),this.playBackClear()),t===2){this.show=!1,this.$nextTick(()=>{this.myChart05=v(this.$refs.myChart05,null,{renderer:"svg"}),this.initEchart05(),window.onresize=function(){s.myChart05.resize(),s.map.checkResize()}}),this.selectItem.xAngle==null&&(this.selectItem.xAngle=0),this.selectItem.yAngle==null&&(this.selectItem.yAngle=0),this.setAngle(this.selectItem.xAngle,this.selectItem.yAngle),this.datalength=this.selectItem.data;for(let e=0;e<this.datalength.length;e++)this.totalPartTime+=this.datalength[e].partTime;this.PlaybackTime=this.selectItem.beginTime,this.playbackTimeDepth.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),0]),this.playbackTimeFlow.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),0]),this.dingshi=setInterval(()=>{this.dataHistoryBack2()},3e3),this.playBack=setInterval(()=>{this.dataHistoryBack()},3e3)}},dataHistoryBack(){this.percentage=Number((this.LastTime/this.totalPartTime*100).toFixed(1)),this.pileDownStatus="\u5F00\u59CB",this.recordStatusClass="on",this.myFun(this.datalength[this.f++].partDeep),this.f==this.datalength.length&&(this.percentage=100,this.pileDownStatus="\u7ED3\u675F",this.icon="el-icon-video-play",this.recordStatusClass="",clearInterval(this.playBack))},dataHistoryBack2(){this.dataNum=this.datalength[this.t++],this.PlaybackTime+=this.dataNum.partTime,this.playbackTimeDepth.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.dataNum.partDeep]),this.playbackTimeFlow.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),(this.dataNum.partPulp/this.dataNum.partTime*60).toFixed(2)]),this.LastTime+=this.dataNum.partTime,this.totalPartPulp+=this.dataNum.partPulp,this.totalPartAsh+=this.dataNum.partAsh,this.pileDeep<this.dataNum.partDeep?(this.pileStatusStr="\u4E0B\u94BB",this.image="down",this.pulpStatus="\u55B7\u6D46"):(this.pileStatusStr="\u63D0\u94BB",this.image="up",this.pulpStatus="\u6B62\u55B7"),this.pileDeep=this.dataNum.partDeep,this.pipeStatusClass="on",this.nozzleStatusClass="on",this.initEchart05(),this.t==this.datalength.length&&(this.pipeStatusClass="",this.nozzleStatusClass="",this.pileStatusStr="\u505C\u94BB",this.image="stop",this.pulpStatus="\u6B62\u55B7",clearInterval(this.dingshi))},change(){this.pileDownStatus!="\u7ED3\u675F"&&(this.value=="fast"?(clearInterval(this.playBack),clearInterval(this.dingshi),this.dingshi=setInterval(()=>{this.dataHistoryBack2()},2e3),this.playBack=setInterval(()=>{this.dataHistoryBack()},2e3)):this.value=="topspeed"?(clearInterval(this.playBack),clearInterval(this.dingshi),this.dingshi=setInterval(()=>{this.dataHistoryBack2()},1e3),this.playBack=setInterval(()=>{this.dataHistoryBack()},1e3)):this.value=="ordinary"&&(clearInterval(this.playBack),clearInterval(this.dingshi),this.dingshi=setInterval(()=>{this.dataHistoryBack2()},3e3),this.playBack=setInterval(()=>{this.dataHistoryBack()},3e3)))},backPlay(){if(this.icon=="el-icon-video-pause")clearInterval(this.playBack),clearInterval(this.dingshi),this.icon="el-icon-video-play";else if(this.icon=="el-icon-video-play"){if(this.pileDownStatus=="\u7ED3\u675F")this.value="ordinary",this.f=0,this.t=0,this.playbackTimeDepth=[],this.playbackTimeFlow=[],this.LastTime=0,this.totalPartPulp=0,this.totalPartAsh=0,this.ztTop=100,this.pileStatusStr="\u505C\u94BB",this.pileDownStatus="\u7ED3\u675F",this.pulpStatus="\u6B62\u55B7",this.image="stop",this.y=0,this.dataNum=[],this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",clearInterval(this.playBack),clearInterval(this.dingshi),this.dingshi=setInterval(()=>{this.dataHistoryBack2()},3e3),this.playBack=setInterval(()=>{this.dataHistoryBack()},3e3);else{let t=3e3;this.value=="ordinary"?t=3e3:this.value=="fast"?t=2e3:this.value=="topspeed"&&(t=1e3),this.dingshi=setInterval(()=>{this.dataHistoryBack2()},t),this.playBack=setInterval(()=>{this.dataHistoryBack()},t)}this.icon="el-icon-video-pause"}},stop(){this.value="ordinary",this.f=0,this.t=0,this.playbackTimeDepth=[],this.playbackTimeFlow=[],this.LastTime=0,this.totalPartPulp=0,this.totalPartAsh=0,this.ztTop=100,this.pileStatusStr="\u505C\u94BB",this.pileDownStatus="\u7ED3\u675F",this.pulpStatus="\u6B62\u55B7",this.image="stop",this.y=0,this.dataNum=[],this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",clearInterval(this.playBack),clearInterval(this.dingshi),this.dingshi=setInterval(()=>{this.dataHistoryBack2()},3e3),this.playBack=setInterval(()=>{this.dataHistoryBack()},3e3)},handleCommand(t){this.selectItem=this.tableData[t],this.centerDialogVisible=!0;var s=this.selectItem.beginTime,e,a=[],i=[],l=[],h=[],f=[],n=[];let p=new Map,_=new Map;for(var r=0;r<this.tableData[t].data.length;r++){s+=this.tableData[t].data[r].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.data.push(e),this.tableData[t].data[r].partDeep!=0&&this.depthReport.push(Math.ceil(this.tableData[t].data[r].partDeep));for(var g=0;g<this.depthReport.length;g++)for(var w=g+1;w<this.depthReport.length;w++)this.depthReport[g]==this.depthReport[w]&&(this.depthReport.splice(w,1),w--);if(this.tableData[t].data[r].partDeep==Math.floor(this.tableData[t].data[r].partDeep)+.25){let d={key:Math.floor(this.tableData[t].data[r].partDeep)+.25,value:Number(this.tableData[t].data[r].partPulp)};a.push(d);var P={};a.forEach(C=>{P[C.key]?P[C.key]+=C.value:P[C.key]=C.value})}if(this.tableData[t].data[r].partDeep==Math.floor(this.tableData[t].data[r].partDeep)+.5){let d={key:Math.floor(this.tableData[t].data[r].partDeep)+.5,value:Number(this.tableData[t].data[r].partPulp.toFixed(2))};i.push(d);var D={};i.forEach(C=>{D[C.key]?D[C.key]+=C.value:D[C.key]=C.value})}if(this.tableData[t].data[r].partDeep==Math.floor(this.tableData[t].data[r].partDeep)+.75){let d={key:Math.floor(this.tableData[t].data[r].partDeep)+.75,value:Number(this.tableData[t].data[r].partPulp.toFixed(2))};l.push(d);var k={};l.forEach(C=>{k[C.key]?k[C.key]+=C.value:k[C.key]=C.value})}if(this.tableData[t].data[r].partDeep==Math.floor(this.tableData[t].data[r].partDeep)){let d={key:Math.floor(this.tableData[t].data[r].partDeep),value:Number(this.tableData[t].data[r].partPulp.toFixed(2))};h.push(d);var F={};h.forEach(C=>{F[C.key]?F[C.key]+=C.value:F[C.key]=C.value})}if(f[Math.ceil(this.tableData[t].data[r].partDeep-1)]==null&&(f[Math.ceil(this.tableData[t].data[r].partDeep-1)]=0),f[Math.ceil(this.tableData[t].data[r].partDeep-1)]+=Number(this.tableData[t].data[r].partAsh.toFixed(2)),n[Math.ceil(this.tableData[t].data[r].partDeep-1)]==null&&(n[Math.ceil(this.tableData[t].data[r].partDeep-1)]=0),n[Math.ceil(this.tableData[t].data[r].partDeep-1)]=Number(this.tableData[t].data[r].partCurrent.toFixed(2)),this.tableData[t].data[r].partDeep>0&&this.tableData[t].data[r].partDownSpeed>0)if(p.get(Math.ceil(this.tableData[t].data[r].partDeep))==null){let d=[];d.push(this.tableData[t].data[r].partDownSpeed),p.set(Math.ceil(this.tableData[t].data[r].partDeep),d)}else{let d=p.get(Math.ceil(this.tableData[t].data[r].partDeep));d.push(this.tableData[t].data[r].partDownSpeed),p.set(Math.ceil(this.tableData[t].data[r].partDeep),d)}if(this.tableData[t].data[r].partDownSpeed<0)if(_.get(Math.ceil(this.tableData[t].data[r].partDeep))==null){let d=[];d.push(this.tableData[t].data[r].partDownSpeed),_.set(Math.ceil(this.tableData[t].data[r].partDeep),d)}else{let d=_.get(Math.ceil(this.tableData[t].data[r].partDeep));d.push(this.tableData[t].data[r].partDownSpeed),_.set(Math.ceil(this.tableData[t].data[r].partDeep),d)}}var z=[];for(let d=0;d<n.length;d++){let C={key:d,value:n[d]};z.push(C)}z.forEach(d=>{this.partcurrent[d.key]?this.partcurrent[d.key]+=d.value:this.partcurrent[d.key]=d.value});var T=[];_.forEach(function(d){T.push(d)});var m=[],x=0;for(let d=0;d<T.length;d++){for(let c=0;c<T[d].length;c++)x+=T[d][c];let C=Math.abs((x/T[d].length).toFixed(2));m.push(C),x=0}m=m.reverse();var I=[];for(let d=0;d<m.length;d++){let C={key:d,value:m[d]};I.push(C)}I.forEach(d=>{this.upspeed[d.key]?this.upspeed[d.key]+=d.value:this.upspeed[d.key]=d.value});var o=[];p.forEach(function(d){o.push(d)});var b=[],H=0;for(let d=0;d<o.length;d++){for(let c=0;c<o[d].length;c++)H+=o[d][c];let C=Number((H/o[d].length).toFixed(2));b.push(C),H=0}var Y=[];for(let d=0;d<b.length;d++){let C={key:d,value:b[d]};Y.push(C)}Y.forEach(d=>{this.downspeed[d.key]?this.downspeed[d.key]+=d.value:this.downspeed[d.key]=d.value});var N=[];for(let d=0;d<f.length;d++){let C={key:d,value:f[d]};N.push(C)}N.forEach(d=>{this.ashReport[d.key]?this.ashReport[d.key]+=d.value:this.ashReport[d.key]=d.value}),this.depthReport.unshift(0),this.depthReport.splice(this.depthReport.length-1,1),this.pulpReport=Object.assign(P,D,k,F)},selectionChange(t){this.checkedData=t.reverse();var s=[];for(let o=0;o<t.length;o++)s.push(t[o].data);var e=[],a=[],i=[],l=[];for(let o=0;o<s.length;o++){for(let b=0;b<s[o].length;b++)s[o][b].partDownSpeed>0&&e.push([s[o][b].partDeep,s[o][b].partTime,s[o][b].partDownSpeed]),s[o][b].partDownSpeed<0&&l.push([s[o][b].partDeep,s[o][b].partTime,s[o][b].partDownSpeed]);a.push(e),i.push(l),l=[],e=[]}var h=[];for(let o=0;o<a.length;o++){for(let b=1;b<a[o].length;b++)if(a[o][b-1][0]>a[o][b][0])var f=b;(f==0||f==null)&&(f=a[o].length),h.push(f),f=0}var n=[],p=[];for(let o=0;o<a.length;o++)n.push(a[o].slice(0,h[o])),p.push(a[o].slice(h[o]));var _=0,r=0;for(let o=0;o<n.length;o++){for(let b=0;b<n[o].length;b++)_+=n[o][b][1],r+=n[o][b][1]*n[o][b][2];r/_=="Infinity"||n[o].length==0?this.checkedData[o].speed1=0:this.checkedData[o].speed1=(r/_).toFixed(2),_=0,r=0}var g=0,w=0;for(let o=0;o<p.length;o++){for(let b=0;b<p[o].length;b++)g+=p[o][b][1],w+=p[o][b][1]*p[o][b][2];w/g=="Infinity"||p[o].length==0?this.checkedData[o].speed2=0:this.checkedData[o].speed2=(w/g).toFixed(2),g=0,w=0}var P=[];for(let o=0;o<i.length;o++){for(let b=1;b<i[o].length;b++)if(i[o][b-1][0]<i[o][b][0])var D=b;(D==0||D==null)&&(D=i[o].length),P.push(D),D=0}var k=[],F=[];for(let o=0;o<i.length;o++)k.push(i[o].slice(0,P[o])),F.push(i[o].slice(P[o]));var z=0,T=0;for(let o=0;o<k.length;o++){for(let b=0;b<k[o].length;b++)z+=k[o][b][1],T+=k[o][b][1]*k[o][b][2];T/z=="Infinity"||k[o].length==0?this.checkedData[o].speed3=0:this.checkedData[o].speed3=Math.abs((T/z).toFixed(2)),z=0,T=0}var m=0,x=0;for(let o=0;o<F.length;o++){for(let b=0;b<F[o].length;b++)m+=F[o][b][1],x+=F[o][b][1]*F[o][b][2];x/m=="Infinity"||F[o].length==0?this.checkedData[o].speed4=0:this.checkedData[o].speed4=Math.abs((x/m).toFixed(2)),m=0,x=0}this.checkedData.startDate=u(this.checkedData[0].beginTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.checkedData.endDate=u(this.checkedData[this.checkedData.length-1].endTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.checkedData.milePartNo=this.checkedData[this.checkedData.length-1].milePartNo,this.checkedId=[];for(var I=0;I<t.length;I++)this.checkedId.push(t[I]._id);t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()},myFun(t){var s=this;s.y=Number(t).toFixed(2),s.ztTop=100-t/this.selectItem.depth.toFixed(2)*100+"%"},loadmap(){var t=window.T;this.map=new t.Map("mapDiv"),this.map.centerAndZoom(new t.LngLat(this.selectItem.longitude,this.selectItem.latitude),10);const s=new t.Control.MapType([{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:window.TMAP_NORMAL_MAP},{title:"\u536B\u661F",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:window.TMAP_SATELLITE_MAP}]);this.map.addControl(s);const e=new t.LngLat(this.selectItem.longitude,this.selectItem.latitude),a=new t.Icon({iconUrl:"@/assets/images/map/b4.png"}),i=new t.Marker(e,a);this.map.addOverLay(i),this.map.enableScrollWheelZoom()}}},O={};var vt=L(ut,mt,dt,!1,ft,"cd8e6a98",null,null);function ft(t){for(let s in O)this[s]=O[s]}var bt=function(){return vt.exports}(),gt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e(t.report,{tag:"component",attrs:{selectItem:t.selectItem,depthReport:t.depthReport,pulpReport:t.pulpReport,partcurrent:t.partcurrent,downspeed:t.downspeed,upspeed:t.upspeed,ashReport:t.ashReport,checkedData:t.checkedData}}),e("a",{attrs:{id:"simulation",href:""}}),e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showData()}}},[t._v("\u9009\u62E9\u53C2\u6570")])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{width:t.tablewidth(i),prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"148px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label))])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1),e("div",{staticClass:"right"},[t.showbtn?e("el-button",{staticClass:"rightBtn",staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small"},on:{click:t.download}},[t._v("\u56FE\u7247\u4E0B\u8F7D")]):t._e(),e("el-dropdown",{attrs:{placement:"top-start"},on:{command:t.downLoad}},[e("span",{staticClass:"more"},[t._v("\u62A5\u8868\u4E0B\u8F7D ")]),e("el-dropdown-menu",{staticClass:"g-dropdown"},[e("el-dropdown-item",{attrs:{command:0}},[e("span",{staticClass:"icon icon01"}),e("span",{staticClass:"name"},[t._v("\u6253\u5370\u7248")])]),e("el-dropdown-item",{attrs:{command:1}},[e("span",{staticClass:"icon icon02"}),e("span",{staticClass:"name"},[t._v("\u7EFC\u5408\u7248")])]),e("el-dropdown-item",{attrs:{command:2}},[e("span",{staticClass:"icon icon03"}),e("span",{staticClass:"name"},[t._v("\u8BE6\u7EC6\u7248")])])],1)],1)],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u6869\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth))+t._s("\xA0")+"m")])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u521D\u6405\u6DF1\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.frDepth))+t._s("\xA0")+"m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u590D\u6405\u6DF1\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.reDepth))+t._s("\xA0")+"m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7A7A\u6405\u6DF1\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.emDepth))+t._s("\xA0")+"m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u4E0B\u94BB\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.downSpeed))+t._s("\xA0")+"cm/min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u63D0\u94BB\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upSpeed))+t._s("\xA0")+"cm/min")])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativeAsh))+t._s("\xA0")+"kg")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u7070\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averageAsh))+t._s("\xA0")+"kg/m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime))+t._s("\xA0")+"min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u7535\u6D41")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.maxCurrent,1))+t._s("\xA0")+"A")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.maxAngle))+t._s("\xA0")+"%")])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em"}},[e("el-table-column",{attrs:{property:"partId",label:"\u5E8F\u53F7","min-width":"8.33%",align:"center"}}),e("el-table-column",{attrs:{property:"partDeep",label:"\u6BB5\u6DF1\u5EA6(m)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDeep,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAsh",label:"\u6BB5\u7070\u91CF(kg)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAsh))+" ")]}}])}),e("el-table-column",{attrs:{property:"partCurrent",label:"\u6BB5\u7535\u6D41(A)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partCurrent,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u901F\u5EA6(cm/min)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num3filters")(a.row.partDownSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"partTime",label:"\u6BB5\u65F6\u957F(s)","min-width":"8.33%",align:"center"}}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u72B6\u6001","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num5filters")(a.row.partDownSpeed))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart03",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])])],1)],1),e("div",{staticClass:"echartdownLoad"},[e("div",{ref:"myChart06",style:{width:"100%",height:"33.3%"}}),e("div",{ref:"myChart07",style:{width:"100%",height:"33.3%"}}),e("div",{ref:"myChart08",style:{width:"100%",height:"33.3%"}})])])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("el-checkbox",{staticClass:"total",on:{change:t.totalChange},model:{value:t.totalChecked,callback:function(a){t.totalChecked=a},expression:"totalChecked"}},[t._v("\u5168\u9009 ")])],1),e("div",{staticClass:"item"},[e("div",{staticClass:"export",on:{click:t.exportAll}},[t._v("\u5BFC\u51FA")])])]),e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes,jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Ct=[];const yt=["pileDescribe","deviceKey","beginTime","endTime","depth","pileTime","frDepth","reDepth","emDepth","pileTopCurrent","cumulativeAsh","maxCurrent","downSpeed","upSpeed","maxAngle","averageAsh","averageCurrent"],_t={components:{gTabs:M,report:E},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{checkedData:[],depthReport:[],ashReport:{},pulpReport:{},upspeed:{},downspeed:{},partcurrent:{},report:"report",totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",checkAll:!1,checkedFileds:["pileDescribe","deviceKey","beginTime","endTime","depth","cumulativeAsh","pileTopCurrent","maxAngle","pileTime"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter},{prop:"frDepth",label:"\u521D\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"reDepth",label:"\u590D\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"emDepth",label:"\u7A7A\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"pileTopCurrent",label:"\u6869\u7AEF\u7535\u6D41(A)",formatter:this.num11Formatter},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u6700\u5927\u659C\u5EA6",formatter:this.num1Formatter},{prop:"maxCurrent",label:"\u6700\u5927\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"downSpeed",label:"\u4E0B\u94BB\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"upSpeed",label:"\u63D0\u94BB\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"averageAsh",label:"\u5E73\u5747\u7070\u91CF(kg/m)",formatter:this.numFormatter},{prop:"averageCurrent",label:"\u5E73\u5747\u7535\u6D41(A)",formatter:this.numFormatter}],isIndeterminate:!1,dialogFormVisible:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"pileTopCurrent",label:"\u6869\u7AEF\u7535\u6D41(A)",formatter:this.num11Formatter},{prop:"maxAngle",label:"\u6700\u5927\u659C\u5EA6",formatter:this.num1Formatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],tempCols:[],centerDialogVisible:!1,data:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],inquire:[],totalNum:0,echart:[],echartload:[],showbtn:!1}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)},minfilters(t){return(parseFloat(t)/60).toFixed(2)},num1filters(t){return parseFloat(t).toFixed(2)+"%"},num3filters(t){return Math.abs(parseFloat(t).toFixed(2))},num5filters(t){return t<0?"\u63D0\u94BB":"\u4E0B\u94BB"}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.showbtn=!1,this.tab2=0,this.upspeed=[],this.downspeed=[],this.partcurrent=[],this.ashReport=[],this.depthReport=[],this.myChart01==null)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart03.dispose(),this.myChart04.dispose(),this.myChart06.dispose(),this.myChart07.dispose(),this.myChart08.dispose()}}},mounted(){this.deviceKey=this.device},methods:{download(){let t=document.createElement("a");t.href=this.myChart06.getConnectedDataURL({pixelRatio:2,backgroundColor:"#fff"}),t.download="\u56FE\u7247\u4E0B\u8F7D.png",t.click()},tablewidth(t){if(t==1||t==2||t==3)return 170},exportAll(){this.tableToExcel("FPZstatisticsTableRecord","\u7C89\u55B7\u6869\u6869-\u5BFC\u51FA")},downLoad(t){switch(t){case 0:{this.tableToExcel("FPZstatisticsTablePrint","\u7C89\u55B7\u6869\u6869-\u6253\u5370\u7248");break}case 1:{this.tableToExcel("FPZstatisticsTable","\u7C89\u55B7\u6869\u6869-\u7EFC\u5408\u7248");break}case 2:{this.tableToExcel("FPZstatisticsTabledetailed","\u7C89\u55B7\u6869\u6869-\u8BE6\u7EC6\u7248");break}}},tableToExcel(t,s){let e="data:application/vnd.ms-excel;base64,",a='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--> <style type="text/css">table td {height: 25px;font-family: \u5B8B\u4F53;font-size: 13px;text-align: left;border: 0.5px solid #000000; }table .tHead {font-size: 20px;text-align:center;font-weight: bold;height: 40px; }table tfoot tr{height: 25px; }table tbody td{text-align: center;height: 20px; }</style></head><body ><table class="excelTable">{table}</table></body></html>';t.nodeType||(t=document.getElementById(t));let i;t&&(i={worksheet:s||"Worksheet",table:t.innerHTML},document.getElementById("simulation").href=e+this.base64(this.format(a,i)),document.getElementById("simulation").download=s+".xls",document.getElementById("simulation").click())},base64(t){return window.btoa(unescape(encodeURIComponent(t)))},format(t,s){return t.replace(/{(\w+)}/g,function(e,a){return s[a]})},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("FPZ",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.number="",this.startDate="",this.endDate=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},num11Formatter(t,s,e,a){return parseFloat(e).toFixed(1)},minFormatter(t,s,e,a){return(parseFloat(e)/60).toFixed(0)},num1Formatter(t,s,e,a){return parseFloat(e).toFixed(1)+"%"},handleCheckAllChange(t){this.checkedFileds=t?yt:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},initEchart01(){let t=this.data,s=this.selectItem.data.map((a,i)=>[t[i],a.partDeep]),e={title:{text:"\u6DF1\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",type:"value",inverse:!0,nameLocation:"end",max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(e),this.echart.push(this.myChart01)},initEchart02(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep]),e=this.selectItem.data.map((i,l)=>[t[l],i.partCurrent.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7535\u6D41"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]},max:30},{name:"          \u7535\u6D41",type:"value",nameLocation:"start",max:300,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u7535\u6D41",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(a),this.echart.push(this.myChart02)},initEchart03(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.partAsh.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDownSpeed.toFixed(2)]),a={title:{text:"\u6BB5\u7070\u91CF\u3001\u901F\u5EA6\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6BB5\u7070\u91CF","\u901F\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6BB5\u7070\u91CF(kg)",type:"value",nameLocation:"start",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u901F\u5EA6(cm/min)      ",type:"value",nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6BB5\u7070\u91CF",type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart03=v(this.$refs.myChart03,null,{devicePixelRatio:2.5}),this.myChart03.setOption(a),this.echart.push(this.myChart03)},initEchart04(){for(var t=[],s=0;s<this.selectItem.data.length;s++)t[Math.ceil(this.selectItem.data[s].partDeep-1)]==null&&(t[Math.ceil(this.selectItem.data[s].partDeep-1)]=0),t[Math.ceil(this.selectItem.data[s].partDeep-1)]+=this.selectItem.data[s].partAsh;var e=t.map(a);function a(l,h,f){var n={value:Number(l.toFixed(2)),name:h+1};return n}let i={title:{text:"\u6210\u6869\u7070\u91CF\u5206\u5E03",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"item",formatter:"{a} : {c}"},grid:{top:"10%",bottom:"10%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"\u6210\u6869\u7070\u91CF\u5206\u5E03",type:"funnel",width:"50%",left:"center",top:"15%",bottom:"8%",label:{show:!0},labelLine:{show:!0},data:e,sort:"none",color:"#5470c6"}]};this.myChart04=v(this.$refs.myChart04,null,{renderer:"svg"}),this.myChart04.setOption(i)},initEchart06(){let t=this.data,s=this.selectItem.data.map((a,i)=>[t[i],a.partDeep]),e={title:{text:"\u6DF1\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",type:"value",inverse:!0,nameLocation:"end",max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s}]};this.myChart06=v(this.$refs.myChart06,null,{devicePixelRatio:2.5}),this.myChart06.setOption(e),this.echartload.push(this.myChart06)},initEchart07(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep]),e=this.selectItem.data.map((i,l)=>[t[l],i.partCurrent.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7535\u6D41"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]},max:30},{name:"          \u7535\u6D41",type:"value",nameLocation:"start",max:300,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u7535\u6D41",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart07=v(this.$refs.myChart07,null,{devicePixelRatio:2.5}),this.myChart07.setOption(a),this.echartload.push(this.myChart07)},initEchart08(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.partAsh.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDownSpeed.toFixed(2)]),a={title:{text:"\u6BB5\u7070\u91CF\u3001\u901F\u5EA6\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6BB5\u7070\u91CF","\u901F\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6BB5\u7070\u91CF(kg)",type:"value",nameLocation:"start",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u901F\u5EA6(cm/min)      ",type:"value",nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6BB5\u7070\u91CF",type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart08=v(this.$refs.myChart08,null,{devicePixelRatio:2.5}),this.myChart08.setOption(a),this.echartload.push(this.myChart08)},changeHandle(t){let s=this;this.tab2=t,t==0&&(this.showbtn=!1),t===1&&(this.showbtn=!0,this.$nextTick(()=>{this.initEchart06(),this.initEchart07(),this.initEchart08(),A(this.echartload),this.initEchart01(),this.initEchart02(),this.initEchart03(),this.initEchart04(),A(this.echart),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart03.resize(),s.myChart04.resize()}}))},handleCommand(t){this.selectItem=this.tableData[t],this.centerDialogVisible=!0;var s=this.selectItem.beginTime,e,a=[],i=[];let l=new Map,h=new Map;for(var f=0;f<this.tableData[t].data.length;f++){s+=this.tableData[t].data[f].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.data.push(e),this.tableData[t].data[f].partDeep!=0&&this.depthReport.push(Math.ceil(this.tableData[t].data[f].partDeep));for(var n=0;n<this.depthReport.length;n++)for(var p=n+1;p<this.depthReport.length;p++)this.depthReport[n]==this.depthReport[p]&&(this.depthReport.splice(p,1),p--);if(a[Math.ceil(this.tableData[t].data[f].partDeep-1)]==null&&(a[Math.ceil(this.tableData[t].data[f].partDeep-1)]=0),a[Math.ceil(this.tableData[t].data[f].partDeep-1)]+=Number(this.tableData[t].data[f].partAsh.toFixed(2)),i[Math.ceil(this.tableData[t].data[f].partDeep-1)]==null&&(i[Math.ceil(this.tableData[t].data[f].partDeep-1)]=0),i[Math.ceil(this.tableData[t].data[f].partDeep-1)]=Number(this.tableData[t].data[f].partCurrent.toFixed(2)),this.tableData[t].data[f].partDeep>0&&this.tableData[t].data[f].partDownSpeed>0)if(l.get(Math.ceil(this.tableData[t].data[f].partDeep))==null){let m=[];m.push(this.tableData[t].data[f].partDownSpeed),l.set(Math.ceil(this.tableData[t].data[f].partDeep),m)}else{let m=l.get(Math.ceil(this.tableData[t].data[f].partDeep));m.push(this.tableData[t].data[f].partDownSpeed),l.set(Math.ceil(this.tableData[t].data[f].partDeep),m)}if(this.tableData[t].data[f].partDownSpeed<0)if(h.get(Math.ceil(this.tableData[t].data[f].partDeep))==null){let m=[];m.push(this.tableData[t].data[f].partDownSpeed),h.set(Math.ceil(this.tableData[t].data[f].partDeep),m)}else{let m=h.get(Math.ceil(this.tableData[t].data[f].partDeep));m.push(this.tableData[t].data[f].partDownSpeed),h.set(Math.ceil(this.tableData[t].data[f].partDeep),m)}}var _=[];for(let m=0;m<i.length;m++){let x={key:m,value:i[m]};_.push(x)}_.forEach(m=>{this.partcurrent[m.key]?this.partcurrent[m.key]+=m.value:this.partcurrent[m.key]=m.value});var r=[];h.forEach(function(m){r.push(m)});var g=[],w=0;for(let m=0;m<r.length;m++){for(let I=0;I<r[m].length;I++)w+=r[m][I];let x=Math.abs((w/r[m].length).toFixed(2));g.push(x),w=0}g=g.reverse();var P=[];for(let m=0;m<g.length;m++){let x={key:m,value:g[m]};P.push(x)}P.forEach(m=>{this.upspeed[m.key]?this.upspeed[m.key]+=m.value:this.upspeed[m.key]=m.value});var D=[];l.forEach(function(m){D.push(m)});var k=[],F=0;for(let m=0;m<D.length;m++){for(let I=0;I<D[m].length;I++)F+=D[m][I];let x=(F/D[m].length).toFixed(2);k.push(x),F=0}var z=[];for(let m=0;m<k.length;m++){let x={key:m,value:k[m]};z.push(x)}z.forEach(m=>{this.downspeed[m.key]?this.downspeed[m.key]+=m.value:this.downspeed[m.key]=m.value});var T=[];for(let m=0;m<a.length;m++){let x={key:m,value:a[m]};T.push(x)}T.forEach(m=>{this.ashReport[m.key]?this.ashReport[m.key]+=m.value:this.ashReport[m.key]=m.value}),this.depthReport.unshift(0),this.depthReport.splice(this.depthReport.length-1,1)},selectionChange(t){this.checkedData=t.reverse(),this.checkedData.ENDTime=u(this.checkedData[this.checkedData.length-1].endTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.checkedData.startTime=u(this.checkedData[0].beginTime*1e3).format("YYYY-MM-DD HH:mm:ss");var s=[],e=[],a=[],i=0;for(let r=0;r<t.length;r++)s.push(t[r].data);var l=[],h=[];for(let r=0;r<s.length;r++){for(let g=0;g<s[r].length;g++)s[r][g].partDownSpeed>i&&l.push([s[r][g].partDeep,s[r][g].partTime,s[r][g].partDownSpeed]),s[r][g].partDownSpeed<i&&h.push([s[r][g].partDeep,s[r][g].partTime,s[r][g].partDownSpeed]);e.push(l),a.push(h),l=[],h=[],i=0}var f=0,n=0;for(let r=0;r<e.length;r++){for(let g=0;g<e[r].length;g++)f+=e[r][g][1],n+=e[r][g][1]*e[r][g][2];n/f=="Infinity"||e[r].length==0?this.checkedData[r].speed1=0:this.checkedData[r].speed1=Math.abs((n/f).toFixed(2)),f=0,n=0}var p=0,_=0;for(let r=0;r<a.length;r++){for(let g=0;g<a[r].length;g++)p+=a[r][g][1],_+=a[r][g][1]*a[r][g][2];_/p=="Infinity"||a[r].length==0?this.checkedData[r].speed2=0:this.checkedData[r].speed2=Math.abs((_/p).toFixed(2)),p=0,_=0}t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},q={};var xt=L(_t,gt,Ct,!1,wt,"2aa5e0fe",null,null);function wt(t){for(let s in q)this[s]=q[s]}var Dt=function(){return xt.exports}(),kt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("a",{attrs:{id:"simulation",href:""}}),e("el-header",{staticClass:"m-filter"},[e("el-container",{staticClass:"row-con"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showData()}}},[t._v("\u9009\u62E9\u53C2\u6570")])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])])],1),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{width:t.columnWidth(i),prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"163px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label))])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1),e("div",{staticClass:"right"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showEchart,expression:"showEchart"}],staticClass:"export_echart",on:{click:t.download}},[t._v("\u56FE\u7247\u4E0B\u8F7D")]),e("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:t.downLoad}},[e("span",{staticClass:"more"},[t._v("\u62A5\u8868\u4E0B\u8F7D ")]),e("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:0}},[e("span",{staticClass:"icon icon01"}),e("span",{staticClass:"name"},[t._v("\u6253\u5370\u7248")])]),e("el-dropdown-item",{attrs:{command:1}},[e("span",{staticClass:"icon icon02"}),e("span",{staticClass:"name"},[t._v("\u7EFC\u5408\u7248")])]),e("el-dropdown-item",{attrs:{command:2}},[e("span",{staticClass:"icon icon03"}),e("span",{staticClass:"name"},[t._v("\u8BE6\u7EC6\u7248")])])],1)],1)],1)]),e(t.report,{tag:"compoent",attrs:{selectItem:t.selectItem,partcurrent:t.partcurrent,downspeed:t.downspeed,upspeed:t.upspeed,ashReport:t.ashReport,depthReport:t.depthReport,pulpReport:t.pulpReport}}),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime))+"(min)")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6709\u6548\u6869\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth))+"(m)")])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.cumulativeAsh))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u7070\u91CF(kg/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averageAsh)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u6D46\u91CF(L/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averagePulp)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.cumulativePulp))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u6869\u957F(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.depth))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7A7A\u6869\u6869\u957F(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.emptyDepth)))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6C34\u7070\u6BD4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.waterCementRatio)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.selectItem.maxAngle)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6C14\u91CF(m\xB3)")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.cumulativeAir))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6C34\u91CF(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.cumulativeWater))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u63D0\u94BB\u901F\u5EA6(cm/min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upSpeed)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u63D0\u94BB\u8F6C\u901F(r/min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upRotateSpeed)))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em","show-overflow-tooltip":""}},[e("el-table-column",{attrs:{type:"index",label:"\u5E8F\u53F7","min-width":"5%",align:"center",width:"71px"}}),e("el-table-column",{attrs:{property:"partDeep",label:`\u6BB5\u6DF1\u5EA6
m`,"min-width":"6.95%",align:"center"}}),e("el-table-column",{attrs:{property:"partPulp",label:`\u6BB5\u6D46\u91CF
L`,"min-width":"6.95%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulpPressure",label:`\u6BB5\u6D46\u538B
MPa`,"min-width":"6.9%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulpPressure))+" ")]}}])}),e("el-table-column",{attrs:{property:"partWater",label:`\u6BB5\u6C34\u91CF
L`,"min-width":"6.8%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partWater))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAir",label:`\u6BB5\u6C14\u91CF
L`,"min-width":"6.8%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAir))+" ")]}}])}),e("el-table-column",{attrs:{property:"partReturnPulp",label:`\u6BB5\u626D\u529B
MPa`,"min-width":"7.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partReturnPulp))+" ")]}}])}),e("el-table-column",{attrs:{property:"partReturnPulpPressure",label:`\u6BB5\u5730\u538B
MPa`,"min-width":"7.5%",align:"center"}}),e("el-table-column",{attrs:{property:"partWaterPressure",label:`\u6BB5\u6C34\u538B
MPa`,"min-width":"6.9%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partWaterPressure))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAirPressure",label:`\u6BB5\u6C14\u538B
MPa`,"min-width":"6.9%",align:"center"}}),e("el-table-column",{attrs:{property:"partDensity",label:`\u6BB5\u5BC6\u5EA6
g/cm\xB3`,"min-width":"7%",align:"center"}}),e("el-table-column",{attrs:{property:"partDownSpeed",label:`\u901F\u5EA6
cm/min`,"min-width":"7.6%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num4filters")(a.row.partDownSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"partRotateSpeed",label:`\u8F6C\u901F
r/min`,"min-width":"7%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num4filters")(a.row.partRotateSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"partTime",label:`\u6BB5\u65F6\u957F
s`,"min-width":"7%",align:"center"}}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u72B6\u6001","min-width":"5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num5filters")(a.row.partDownSpeed))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col col_3",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])])],1)],1),e("div",{staticClass:"outEcharts"},[e("div",{ref:"myChart06",style:{width:"100%",height:"300px"}}),e("div",{ref:"myChart07",style:{width:"100%",height:"300px"}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===2,expression:"tab2===2"}]},[e("el-row",{staticClass:"play_back"},[e("el-col",{staticClass:"play_col"},[e("div",{staticClass:"inner inner1 backEchart"},[e("div",{staticClass:"m-statusinfo"},[e("div",{staticClass:"top"},[e("h3",[t._v(t._s(t.selectItem.deviceTypeName))]),e("div",{staticClass:"info"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.selectItem.pileDescribe)+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8BBE\u5907\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])])]),e("div",{staticClass:"status"},[e("ul",{staticClass:"ul-status"},[e("li",{class:t.recordStatusClass},[e("div",{staticClass:"btn"},[t._v(t._s(t.pileDownStatus))])]),e("li",{class:t.pipeStatusClass},[e("div",{staticClass:"btn"},[t._v(t._s(t.pileStatusStr))])]),e("li",{class:t.nozzleStatusClass},[e("div",{staticClass:"btn"},[t._v(t._s(t.pulpStatus))])])])])]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"item"},[e("h3",[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u6C34\u7070\u6BD4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.waterCementRatio)))])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u5BC6\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.dataNum.partDensity,3))+" g/cm\xB3")])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u7D2F\u8BA1\u6C34\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.totalWater,2)))])])])])])]),e("el-col",{staticClass:"play_col"},[e("div",{staticClass:"inner backEchart"},[e("div",{ref:"myChart05",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"play_back"},[e("el-col",{staticClass:"play_col"},[e("div",{staticClass:"mapDiv",attrs:{id:"mapDiv"}})]),e("el-col",{staticClass:"play_col"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"m-datab1",staticStyle:{height:"27rem"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[e("div",{ref:"angle",staticClass:"icon"}),e("div",{staticClass:"t1"},[e("p",[t._v("X"),e("b",[t._v(t._s(t._f("numfilters")(t.dataNum.xAngle,1)))])]),e("p",[t._v("Y"),e("b",[t._v(t._s(t._f("numfilters")(t.dataNum.yAngle,1)))])])])]),e("div",{staticClass:"oh"},[e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u6301\u7EED\u65F6\u957F(min)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("minfilters")(t.LastTime)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.totalPartPulp)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.totalPartAsh)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u6BB5\u6D46\u91CF(L)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.dataNum.partPulp)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u6BB5\u7070\u91CF(kg)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.dataNum.partAsh)))])])])]),e("div",{staticClass:"picbox"},[e("img",{staticClass:"bg",attrs:{src:R,alt:""}}),e("div",{staticClass:"databar"},[e("div",{staticClass:"data",style:{bottom:t.ztTop}},[e("img",{class:t.image,attrs:{src:K,alt:""}}),e("img",{staticClass:"zt",attrs:{src:V,alt:""}}),e("div",{staticClass:"info"},[e("p",[e("b",[t._v(t._s(t.pileStatusStr))])]),e("p",[t._v("\u6DF1\u5EA6"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partDeep))+"(m)")])]),e("p",[t._v("\u901F\u5EA6"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partDownSpeed))+"(cm/min)")])]),e("p",[t._v("\u6D41\u91CF"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partPulp/t.dataNum.partTime*60))+"(L/min)")])]),e("img",{staticClass:"line",attrs:{src:W,alt:""}})])])])])])])])],1),e("div",{staticClass:"backplayBottom"},[e("el-progress",{staticClass:"progress_bar",attrs:{"show-text":!1,"stroke-width":15,percentage:t.percentage,color:t.color}}),e("i",{staticClass:"iconBack el-icon-refresh-right",on:{click:t.stop}}),e("i",{staticClass:"iconBack",class:t.icon,on:{click:t.backPlay}}),e("el-select",{staticClass:"selectspeed",attrs:{size:"small",placeholder:"\u6B63\u5E38"},on:{change:t.changeSpeeed},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},t._l(t.options,function(a){return e("el-option",{key:a.value,staticClass:"selectspeedOpt",attrs:{label:a.label,value:a.value}})}),1)],1)],1)])],1),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("el-checkbox",{staticClass:"total",on:{change:t.totalChange},model:{value:t.totalChecked,callback:function(a){t.totalChecked=a},expression:"totalChecked"}},[t._v("\u5168\u9009 ")])],1),e("div",{staticClass:"item"},[e("a",{staticClass:"export",attrs:{href:"javascript:;"}},[t._v("\u5BFC\u51FA")])])]),e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},St=[];const It=["pileDescribe","deviceKey","beginTime","endTime","depth","maxPressure","waterCementRatio","cumulativePulp","averagePulp","cumulativeAsh","averageAsh","cumulativeReturnPulp","averageReturnPulp","cumulativeWater","averageWater","cumulativeAir","averageAir","maxDownSpeed","downSpeed","maxUpSpeed","upSpeed","maxDownRotateSpeed","downRotateSpeed","maxUpRotateSpeed","upRotateSpeed","maxAngle","emptyDepth","pileTime"],Ft={components:{gTabs:M,report:E},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toFirstPage","toLastPage","pileDescribe"],data(){return{depthReport:[],pulpReport:{},ashReport:{},upspeed:{},downspeed:{},partcurrent:{},report:"report",startDate:"",endDate:"",number:"",deviceKey:"",params:"",paramsList:[{label:"\u53C2\u65701",value:"\u53C2\u65701"},{label:"\u53C2\u65702",value:"\u53C2\u65702"}],totalChecked:!1,checkAll:!1,checkedFileds:["pileDescribe","deviceKey","beginTime","endTime","depth","maxPressure","cumulativePulp","cumulativeAsh","pileTime"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u6709\u6548\u6869\u957F(m)",formatter:this.numFormatter},{prop:"maxPressure",label:"\u55B7\u5C04\u538B\u529B(mpa)",formatter:this.numFormatter},{prop:"waterCementRatio",label:"\u6C34\u7070\u6BD4",formatter:this.numFormatter},{prop:"cumulativePulp",label:"\u7D2F\u8BA1\u6D46\u91CF(L)",formatter:this.numFormatter},{prop:"averagePulp",label:"\u5E73\u5747\u6D46\u91CF(L/m)",formatter:this.numFormatter},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"averageAsh",label:"\u5E73\u5747\u7070\u91CF(kg/m)",formatter:this.numFormatter},{prop:"cumulativeReturnPulp",label:"\u7D2F\u8BA1\u8FD4\u6D46\u91CF(L)",formatter:this.numFormatter},{prop:"averageReturnPulp",label:"\u5E73\u5747\u8FD4\u6D46\u91CF(L)",formatter:this.numFormatter},{prop:"cumulativeWater",label:"\u7D2F\u8BA1\u6C34\u91CF(L)",formatter:this.numFormatter},{prop:"averageWater",label:"\u5E73\u5747\u6C34\u91CF(L)",formatter:this.numFormatter},{prop:"cumulativeAir",label:"\u7D2F\u8BA1\u6C14\u91CF(m\xB3)",formatter:this.numFormatter},{prop:"averageAir",label:"\u5E73\u5747\u6C14\u91CF(m\xB3)",formatter:this.numFormatter},{prop:"maxDownSpeed",label:"\u6700\u5927\u94BB\u901F(cm/min)",formatter:this.numFormatter},{prop:"downSpeed",label:"\u5E73\u5747\u4E0B\u94BB\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"maxUpSpeed",label:"\u6700\u5927\u63D0\u901F(cm/min)",formatter:this.numFormatter},{prop:"upSpeed",label:"\u5E73\u5747\u63D0\u94BB\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"maxDownRotateSpeed",label:"\u6700\u5927\u4E0B\u8F6C\u901F\u5EA6(r/min)	",formatter:this.numFormatter},{prop:"downRotateSpeed",label:"\u5E73\u5747\u4E0B\u8F6C\u901F\u5EA6(r/min)	",formatter:this.numFormatter},{prop:"maxUpRotateSpeed",label:"\u6700\u5927\u63D0\u8F6C\u901F\u5EA6(r/min)",formatter:this.numFormatter},{prop:"upRotateSpeed",label:"\u5E73\u5747\u63D0\u8F6C\u901F\u5EA6(r/min)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u6700\u5927\u659C\u5EA6",formatter:this.num1Formatter},{prop:"emptyDepth",label:"\u7A7A\u6869\u6869\u957F(m)",formatter:this.numFormatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter},{prop:"pileTime",label:"\u55B7\u6D46\u65F6\u95F4(min)",formatter:this.minPulpFormatter}],isIndeterminate:!1,dialogFormVisible:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u6709\u6548\u6869\u957F(m)",formatter:this.numFormatter},{prop:"maxPressure",label:"\u55B7\u5C04\u538B\u529B(mpa)",formatter:this.numFormatter},{prop:"cumulativePulp",label:"\u7D2F\u8BA1\u6D46\u91CF(L)"},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter},{prop:"pileTime",label:"\u55B7\u6D46\u65F6\u95F4(min)",formatter:this.minPulpFormatter}],tempCols:[],centerDialogVisible:!1,echartsdata:[],print:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],inquire:"",totalNum:"",echartConnect:[],echartConnect2:[],showEchart:!1,options:[{value:"ordinary",label:"\u6B63\u5E38"},{value:"fast",label:"\u5FEB\u901F"},{value:"topspeed",label:"\u6781\u901F"}],value:"ordinary",color:"#000",percentage:0,ztTop:100,image:"stop",pileStatusStr:"\u505C\u94BB",pileDownStatus:"\u7ED3\u675F",pulpStatus:"\u6B62\u55B7",recordStatusClass:"",pipeStatusClass:"",nozzleStatusClass:"",partData:[],s1:0,s2:0,y:0,playbackTimeDepth:[],playbackTimeFlow:[],dataNum:[],PlaybackTime:"",playerInter:null,playerInter2:null,LastTime:0,totalPartPulp:0,totalPartAsh:0,pileDeep:0,totalPartTime:0,icon:"el-icon-video-pause",totalWater:0,map:null}},filters:{recordFilter(t){switch(t){case 1:return"\u6DF1\u5EA6\u6A21\u5F0F";case 2:return"\u65F6\u95F4\u6A21\u5F0F";case 0:return"-";default:return t}},intervalFilter(t){switch(t.recordMode){case 1:return t.recodeInterval+"cm";case 2:return t.recodeInterval+"s";case 0:return"-";default:return t}},datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t){return parseFloat(t).toFixed(2)},minfilters(t){return(parseFloat(t)/60).toFixed(0)},num1filters(t){return parseFloat(t).toFixed(1)+"%"},num4filters(t){return Math.abs(parseFloat(t).toFixed(2))},num5filters(t){return t==0&&(t="\u505C\u94BB"),t<0&&(t="\u63D0\u94BB"),t>0&&(t="\u4E0B\u94BB"),t}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.showEchart=!1,this.tab2=0,this.clearBackData(),this.upspeed=[],this.downspeed=[],this.ashReport=[],this.depthReport=[],this.partcurrent=[],this.myChart01==null)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart04.dispose(),this.myChart06.dispose(),this.myChart07.dispose()}}},mounted(){this.deviceKey=this.device},methods:{download(){let t=document.createElement("a");t.href=this.myChart06.getConnectedDataURL({pixelRatio:2,backgroundColor:"#fff"}),t.download="\u56FE\u7247\u4E0B\u8F7D.png",t.click()},clearBackData(){this.totalWater=0,this.value="ordinary",this.percentage=0,this.ztTop=100,this.image="stop",this.pileStatusStr="\u505C\u94BB",this.pileDownStatus="\u7ED3\u675F",this.pulpStatus="\u6B62\u55B7",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.partData=[],this.s1=0,this.s2=0,this.y=0,this.playbackTimeDepth=[],this.playbackTimeFlow=[],this.dataNum=[],this.PlaybackTime="",this.LastTime=0,this.totalPartPulp=0,this.totalPartAsh=0,this.pileDeep=0,this.totalPartTime=0,clearInterval(this.playerInter),clearInterval(this.playerInter2),!(this.myChart05===void 0||this.myChart05._disposed)&&this.myChart05.dispose()},columnWidth(t){if(t==0||t==4||t==5||t==6||t==7)return 140;if(t==1||t==2||t==3)return 150},downLoad(t){switch(t){case 0:{this.tableToExcel("gyxpzStatisticsTablePrint",u(this.selectItem.beginTime*1e3).format("YYYY-MM-DD")+"-\u9AD8\u538B\u65CB\u55B7\u6869-\u6253\u5370\u7248");break}case 1:{this.tableToExcel("gyxpzStatisticsTable",u(this.selectItem.beginTime*1e3).format("YYYY-MM-DD")+"-\u9AD8\u538B\u65CB\u55B7\u6869-\u7EFC\u5408\u7248");break}case 2:{this.tableToExcel("gyxpzStatisticsTabledetailed",u(this.selectItem.beginTime*1e3).format("YYYY-MM-DD")+"-\u9AD8\u538B\u65CB\u55B7\u6869-\u8BE6\u7EC6\u7248");break}}},tableToExcel(t,s){let e="data:application/vnd.ms-excel;base64,",a='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--> <style type="text/css">table td {height: 25px;font-family: \u5B8B\u4F53;font-size: 13px;text-align: left;border: 0.5px solid #000000; }table .tHead {font-size: 20px;text-align:center;font-weight: bold;height: 40px; }table tfoot tr{height: 25px; }table tbody td{text-align: center;height: 20px; }</style></head><body ><table class="excelTable">{table}</table></body></html>';t.nodeType||(t=document.getElementById(t));let i;t&&(i={worksheet:s||"Worksheet",table:t.innerHTML},document.getElementById("simulation").href=e+this.base64(this.format(a,i)),document.getElementById("simulation").download=s+".xls",document.getElementById("simulation").click())},base64(t){return window.btoa(unescape(encodeURIComponent(t)))},format(t,s){return t.replace(/{(\w+)}/g,function(e,a){return s[a]})},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("GYXPZ",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.number="",this.startDate="",this.endDate=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},minFormatter(t,s,e,a){return(parseFloat(e)/60).toFixed(0)},minPulpFormatter(t,s,e,a){return(parseFloat(e)/70).toFixed(0)},num1Formatter(t,s,e,a){return parseFloat(e).toFixed(2)+"%"},handleCheckAllChange(t){this.checkedFileds=t?It:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep]),e=this.selectItem.data.map((i,l)=>[t[l],Number((i.partPulp/i.partTime*60).toFixed(2))]),a={title:{text:"\u6210\u6869\u8FC7\u7A0B\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6D41\u91CF"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",inverse:!0,nameLocation:"end",type:"value",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"          \u7535\u6D41",inverse:!1,nameLocation:"start",type:"value",max:100,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u6D41\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart01=v(this.$refs.myChart01,null,{renderer:"svg"}),this.myChart01.setOption(a),this.echartConnect.push(this.myChart01)},initEchart02(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],(i.partPulp/i.partTime*60).toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partPulpPressure.toFixed(2)]),a={title:{text:"\u538B\u529B\u3001\u6D41\u91CF\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u538B\u529B","\u6D41\u91CF"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u538B\u529B    ",inverse:!1,nameLocation:"start",type:"value",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"      \u6D41\u91CF",nameLocation:"start",inverse:!1,type:"value",max:50,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6D41\u91CF",type:"line",showSymbol:!1,data:s},{name:"\u538B\u529B",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart02=v(this.$refs.myChart02,null,{renderer:"svg"}),this.myChart02.setOption(a),this.echartConnect.push(this.myChart02)},initEchart04(){for(var t=[],s=0;s<this.selectItem.data.length;s++)t[Math.ceil(this.selectItem.data[s].partDeep)]==null&&(t[Math.ceil(this.selectItem.data[s].partDeep)]=0),t[Math.ceil(this.selectItem.data[s].partDeep)]+=this.selectItem.data[s].partAsh;t[0]==null&&(t=t.slice(1));var e=t.map(a);function a(l,h,f){var n={value:Number(l.toFixed(2)),name:h+1};return n}let i={title:{text:"\u6210\u6869\u7070\u91CF\u5206\u5E03",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"item",formatter:"{a} : {c}"},grid:{top:"10%",bottom:"10%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"\u6210\u6869\u7070\u91CF\u5206\u5E03",type:"funnel",width:"50%",left:"center",top:"15%",bottom:"8%",label:{show:!0},labelLine:{show:!0},data:e,sort:"none",color:"#5470c6"}]};this.myChart04=v(this.$refs.myChart04,null,{renderer:"svg"}),this.myChart04.setOption(i)},initEchart05(){let t={title:{text:"\u6DF1\u5EA6\u3001\u6D41\u91CF\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6D41\u91CF"]},grid:{top:"15%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6(m)  ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u6D41\u91CF(L/min)",nameLocation:"start",type:"value",splitLine:{show:!1},nameTextStyle:{padding:[10,20,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.playbackTimeDepth},{name:"\u6D41\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.playbackTimeFlow}]};this.myChart05.setOption(t)},initEchart06(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep]),e=this.selectItem.data.map((i,l)=>[t[l],Number((i.partPulp/i.partTime*60).toFixed(2))]),a={title:{text:"\u6210\u6869\u8FC7\u7A0B\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6D41\u91CF"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",inverse:!0,nameLocation:"end",type:"value",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"          \u7535\u6D41",inverse:!1,nameLocation:"start",type:"value",max:100,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u6D41\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart06=v(this.$refs.myChart06,null,{devicePixelRatio:2.5}),this.myChart06.setOption(a),this.echartConnect2.push(this.myChart06)},initEchart07(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],(i.partPulp/i.partTime*60).toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partPulpPressure.toFixed(2)]),a={title:{text:"\u538B\u529B\u3001\u6D41\u91CF\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u538B\u529B","\u6D41\u91CF"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u538B\u529B    ",inverse:!1,nameLocation:"start",type:"value",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"      \u6D41\u91CF",nameLocation:"start",inverse:!1,type:"value",max:50,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6D41\u91CF",type:"line",showSymbol:!1,data:s},{name:"\u538B\u529B",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart07=v(this.$refs.myChart07,null,{devicePixelRatio:2.5}),this.myChart07.setOption(a),this.echartConnect2.push(this.myChart07)},setAngle(t,s){let e={tooltip:{show:!1,trigger:"axis",formatter:"x: "+t+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-20",max:"20",axisLabel:{show:!1}},yAxis:{type:"value",min:"-20",max:"20",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[t,s]],type:"scatter"}]};this.angle==null&&(this.angle=v(this.$refs.angle)),this.angle.setOption(e)},changeHandle(t){let s=this;if(this.tab2=t,t===0&&(this.showEchart=!1,this.clearBackData()),t===1&&(this.showEchart=!0,this.$nextTick(()=>{this.initEchart06(),this.initEchart07(),A(this.echartConnect2),this.initEchart01(),this.initEchart02(),this.initEchart04(),A(this.echartConnect),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart04.resize()}}),this.clearBackData()),t===2){this.showEchart=!1,this.$nextTick(()=>{this.myChart05=v(this.$refs.myChart05,null,{renderer:"svg"}),this.initEchart05(),window.onresize=function(){s.myChart05.resize(),s.map.checkResize()}}),this.partData=this.selectItem.data,this.center=[this.selectItem.longitude,this.selectItem.latitude];for(let e=0;e<this.partData.length;e++)this.totalPartTime+=this.partData[e].partTime;this.PlaybackTime=this.selectItem.beginTime,this.playbackTimeDepth.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),0]),this.playbackTimeFlow.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),0]),this.playerInter=setInterval(()=>{this.backTimeInterval1()},3e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},3e3)}},backTimeInterval1(){this.percentage=Number((this.LastTime/this.totalPartTime*100).toFixed(1)),this.pileDownStatus="\u5F00\u59CB",this.recordStatusClass="on",this.myFun(this.partData[this.s1++].partDeep),this.s1==this.partData.length&&(this.percentage=100,this.pileDownStatus="\u7ED3\u675F",this.icon="el-icon-video-play",this.recordStatusClass="",clearInterval(this.playerInter))},backTimeInterval2(){this.dataNum=this.partData[this.s2++],this.setAngle(this.dataNum.xAngle,this.dataNum.yAngle),this.PlaybackTime+=this.dataNum.partTime,this.playbackTimeDepth.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.dataNum.partDeep]),this.playbackTimeFlow.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),(this.dataNum.partPulp/this.dataNum.partTime*60).toFixed(2)]),this.LastTime+=this.dataNum.partTime,this.totalPartPulp+=this.dataNum.partPulp,this.totalPartAsh+=this.dataNum.partAsh,this.totalWater+=this.dataNum.partWater,this.pileDeep<this.dataNum.partDeep?(this.pileStatusStr="\u4E0B\u94BB",this.image="down",this.pulpStatus="\u55B7\u6D46"):(this.pileStatusStr="\u63D0\u94BB",this.image="up",this.pulpStatus="\u6B62\u55B7"),this.pileDeep=this.dataNum.partDeep,this.pipeStatusClass="on",this.nozzleStatusClass="on",this.initEchart05(),this.s2==this.partData.length&&(this.pipeStatusClass="",this.nozzleStatusClass="",this.pileStatusStr="\u505C\u94BB",this.image="stop",this.pulpStatus="\u6B62\u55B7",clearInterval(this.playerInter2))},changeSpeeed(){this.pileDownStatus!="\u7ED3\u675F"&&(this.value=="fast"?(clearInterval(this.playerInter),clearInterval(this.playerInter2),this.playerInter=setInterval(()=>{this.backTimeInterval1()},2e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},2e3)):this.value=="topspeed"?(clearInterval(this.playerInter),clearInterval(this.playerInter2),this.playerInter=setInterval(()=>{this.backTimeInterval1()},1e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},1e3)):this.value=="ordinary"&&(clearInterval(this.playerInter),clearInterval(this.playerInter2),this.playerInter=setInterval(()=>{this.backTimeInterval1()},3e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},3e3)))},backPlay(){if(this.icon=="el-icon-video-pause")clearInterval(this.playerInter),clearInterval(this.playerInter2),this.icon="el-icon-video-play";else if(this.icon=="el-icon-video-play"){if(this.pileDownStatus=="\u7ED3\u675F")this.value="ordinary",this.percentage=0,this.ztTop=100,this.image="stop",this.pileStatusStr="\u505C\u94BB",this.pileDownStatus="\u7ED3\u675F",this.pulpStatus="\u6B62\u55B7",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.s1=0,this.s2=0,this.y=0,this.playbackTimeDepth=[],this.playbackTimeFlow=[],this.dataNum=[],this.PlaybackTime="",this.LastTime=0,this.totalPartPulp=0,this.totalPartAsh=0,clearInterval(this.playerInter),clearInterval(this.playerInter2),this.PlaybackTime=this.selectItem.beginTime,this.playerInter=setInterval(()=>{this.backTimeInterval1()},3e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},3e3);else{let t=3e3;this.value=="ordinary"?t=3e3:this.value=="fast"?t=2e3:this.value=="topspeed"&&(t=1e3),this.playerInter=setInterval(()=>{this.backTimeInterval1()},t),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},t)}this.icon="el-icon-video-pause"}},stop(){this.value="ordinary",this.percentage=0,this.ztTop=100,this.s1=0,this.s2=0,this.y=0,this.playbackTimeDepth=[],this.playbackTimeFlow=[],this.dataNum=[],this.PlaybackTime="",this.LastTime=0,this.totalPartPulp=0,this.totalPartAsh=0,clearInterval(this.playerInter),clearInterval(this.playerInter2),this.PlaybackTime=this.selectItem.beginTime,this.playerInter=setInterval(()=>{this.backTimeInterval1()},3e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},3e3)},handleCommand(t){this.selectItem=this.tableData[t],this.print=this.tableData[t].print,this.centerDialogVisible=!0;var s=this.selectItem.beginTime,e,a=[],i=[],l=[],h=[],f=[],n=[];let p=new Map,_=new Map;for(var r=0;r<this.tableData[t].data.length;r++){s+=this.tableData[t].data[r].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e),this.tableData[t].data[r].partDeep!=0&&this.depthReport.push(Math.ceil(this.tableData[t].data[r].partDeep));for(var g=0;g<this.depthReport.length;g++)for(let c=g+1;c<this.depthReport.length;c++)this.depthReport[g]==this.depthReport[c]&&(this.depthReport.splice(c,1),c--);if(this.tableData[t].data[r].partDeep==Math.floor(this.tableData[t].data[r].partDeep)+.25){let c={key:Math.floor(this.tableData[t].data[r].partDeep)+.25,value:Number(this.tableData[t].data[r].partPulp.toFixed(2))};a.push(c);var w={};a.forEach(y=>{w[y.key]?w[y.key]+=y.value:w[y.key]=y.value})}if(this.tableData[t].data[r].partDeep==Math.floor(this.tableData[t].data[r].partDeep)+.5){let c={key:Math.floor(this.tableData[t].data[r].partDeep)+.5,value:Number(this.tableData[t].data[r].partPulp.toFixed(2))};i.push(c);var P={};i.forEach(y=>{P[y.key]?P[y.key]+=y.value:P[y.key]=y.value})}if(this.tableData[t].data[r].partDeep==Math.floor(this.tableData[t].data[r].partDeep)+.75){let c={key:Math.floor(this.tableData[t].data[r].partDeep)+.75,value:Number(this.tableData[t].data[r].partPulp.toFixed(2))};l.push(c);var D={};l.forEach(y=>{D[y.key]?D[y.key]+=y.value:D[y.key]=y.value})}if(this.tableData[t].data[r].partDeep==Math.floor(this.tableData[t].data[r].partDeep)){let c={key:Math.floor(this.tableData[t].data[r].partDeep),value:Number(this.tableData[t].data[r].partPulp.toFixed(2))};h.push(c);var k={};h.forEach(y=>{k[y.key]?k[y.key]+=y.value:k[y.key]=y.value})}if(f[Math.ceil(this.tableData[t].data[r].partDeep-1)]==null&&(f[Math.ceil(this.tableData[t].data[r].partDeep-1)]=0),f[Math.ceil(this.tableData[t].data[r].partDeep-1)]+=Number(this.tableData[t].data[r].partAsh.toFixed(2)),n[Math.ceil(this.tableData[t].data[r].partDeep-1)]==null&&(n[Math.ceil(this.tableData[t].data[r].partDeep-1)]=0),n[Math.ceil(this.tableData[t].data[r].partDeep-1)]=Number(this.tableData[t].data[r].partAirPressure.toFixed(2)),this.tableData[t].data[r].partDeep>0&&this.tableData[t].data[r].partDownSpeed>0)if(p.get(Math.ceil(this.tableData[t].data[r].partDeep))==null){let c=[];c.push(this.tableData[t].data[r].partDownSpeed),p.set(Math.ceil(this.tableData[t].data[r].partDeep),c)}else{let c=p.get(Math.ceil(this.tableData[t].data[r].partDeep));c.push(this.tableData[t].data[r].partDownSpeed),p.set(Math.ceil(this.tableData[t].data[r].partDeep),c)}if(this.tableData[t].data[r].partDownSpeed<0)if(_.get(Math.ceil(this.tableData[t].data[r].partDeep))==null){let c=[];c.push(this.tableData[t].data[r].partDownSpeed),_.set(Math.ceil(this.tableData[t].data[r].partDeep),c)}else{let c=_.get(Math.ceil(this.tableData[t].data[r].partDeep));c.push(this.tableData[t].data[r].partDownSpeed),_.set(Math.ceil(this.tableData[t].data[r].partDeep),c)}}var F=[];for(let c=0;c<n.length;c++){let y={key:c,value:n[c]};F.push(y)}F.forEach(c=>{this.partcurrent[c.key]?this.partcurrent[c.key]+=c.value:this.partcurrent[c.key]=c.value});var z=[];_.forEach(function(c){z.push(c)});var T=[],m=0;for(let c=0;c<z.length;c++){for(let $=0;$<z[c].length;$++)m+=z[c][$];let y=Math.abs((m/z[c].length).toFixed(2));T.push(y),m=0}T=T.reverse();var x=[];for(let c=0;c<T.length;c++){let y={key:c,value:T[c]};x.push(y)}x.forEach(c=>{this.upspeed[c.key]?this.upspeed[c.key]+=c.value:this.upspeed[c.key]=c.value});var I=[];p.forEach(function(c){I.push(c)});var o=[],b=0;for(let c=0;c<I.length;c++){for(let $=0;$<I[c].length;$++)b+=I[c][$];let y=(b/I[c].length).toFixed(2);o.push(y),b=0}var H=[];for(let c=0;c<o.length;c++){let y={key:c,value:o[c]};H.push(y)}H.forEach(c=>{this.downspeed[c.key]?this.downspeed[c.key]+=c.value:this.downspeed[c.key]=c.value});var Y=[];for(let c=0;c<f.length;c++){let y={key:c,value:f[c]};Y.push(y)}Y.forEach(c=>{this.ashReport[c.key]?this.ashReport[c.key]+=c.value:this.ashReport[c.key]=c.value}),this.depthReport.unshift(0),this.depthReport.splice(this.depthReport.length-1,1),w==null?this.pulpReport=[]:this.pulpReport=Object.assign(w,P,D,k);for(var N=this.selectItem.beginTime,d=[],C=0;C<this.selectItem.data.length;C++)this.selectItem.data[C].startDay=u(N*1e3).format("YYYY-MM-DD HH:mm:ss"),N+=this.selectItem.data[C].partTime,N==this.selectItem.data[C]&&(this.selectItem.data[C].serial=d.push(C))},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()},myFun(t){var s=this;s.y=Number(t).toFixed(2),s.ztTop=100-t/this.selectItem.depth.toFixed(2)*100+"%"},loadmap(){var t=window.T;this.map=new t.Map("mapDiv"),this.map.centerAndZoom(new t.LngLat(this.selectItem.longitude,this.selectItem.latitude),10);const s=new t.Control.MapType([{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:window.TMAP_NORMAL_MAP},{title:"\u536B\u661F",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:window.TMAP_SATELLITE_MAP}]);this.map.addControl(s);const e=new t.LngLat(this.selectItem.longitude,this.selectItem.latitude),a=new t.Icon({iconUrl:ot}),i=new t.Marker(e,a);this.map.addOverLay(i),this.map.enableScrollWheelZoom()}}},Z={};var Tt=L(Ft,kt,St,!1,At,"48b3a970",null,null);function At(t){for(let s in Z)this[s]=Z[s]}var Lt=function(){return Tt.exports}(),Pt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("el-table",{ref:"table",staticClass:"jbThead",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),e("el-table-column",{attrs:{fixed:"",prop:"pileDescribe",label:"\u533A\u57DF\u7F16\u53F7","min-width":"100px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{fixed:"left",prop:"deviceKey",label:"\u6869\u673A\u53F7","min-width":"120px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.beginTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.endTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"totalPulp",label:"\u603B\u6D46\u91CF(L)","min-width":"90px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.totalPulp))+" ")]}}])}),e("el-table-column",{attrs:{prop:"totalAsh",label:"\u603B\u7070\u91CF(kg)","min-width":"90px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.totalAsh))+" ")]}}])}),e("el-table-column",{attrs:{prop:"maxPressure",label:"\u6700\u5927\u538B\u529B(Mpa)","min-width":"110px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"waterCementRatio",label:"\u6C34\u7070\u6BD4","min-width":"80px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.waterCementRatio))+" ")]}}])}),e("el-table-column",{attrs:{prop:"pileTime",label:"\u56FA\u5316\u65F6\u957F(min)","min-width":"110px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("minfilters")(a.row.pileTime))+" ")]}}])}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u90E8\u4F4D")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("deleteworker0")(t.print.area)))])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u5355\u4F4D")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("deleteworker0")(t.print.worker)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u901A\u9053")]),e("div",{staticClass:"value"},[t._v(t._s(t.print.channel))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6405\u62CC\u6DF1\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.print.beginDepth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u533A\u57DF\u9762\u79EF(m\xB2)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.print.endDepth)))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u533A\u57DF\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.print.processMethod))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6C34\u6CE5\u6BD4\u91CD(g/cm\xB3)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.print.cementDensity,3)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u66F2\u7EBF\u95F4\u9694(s)")]),e("div",{staticClass:"value"},[t._v(t._s(t.print.tableInterval))])])])]),e("li",{staticClass:"s4"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.totalPulp,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.totalAsh,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u539F\u5730\u571F\u6BD4\u91CD")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.print.pipeCapacity,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u56FA\u5316\u65F6\u957F(min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime)))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.dataForTable,height:"28em"}},[e("el-table-column",{attrs:{property:"startDay",label:"\u65F6\u95F4","min-width":"8%",align:"center"}}),e("el-table-column",{attrs:{property:"partFlow",label:"\u6D41\u91CF(L/min)","min-width":"5.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partFlow))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPressure",label:"\u538B\u529B(MPa)","min-width":"5.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPressure))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPressurePeak",label:"\u5CF0\u538B\u529B(MPa)","min-width":"5.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPressurePeak))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDensity",label:"\u5BC6\u5EA6(g/cm\xB3)","min-width":"5.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDensity))+" ")]}}])}),e("el-table-column",{attrs:{property:"partWaterCementRatio",label:"\u6C34\u7070\u6BD4","min-width":"5.0%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partWaterCementRatio))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulp",label:"\u6CE8\u6D46\u91CF(L)","min-width":"5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAsh",label:"\u6CE8\u7070\u91CF(L)","min-width":"5.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAsh,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partStatus",label:"\u5907\u6CE8","min-width":"7%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num3filters")(a.row.partStatus))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])])],1)],1)])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes,jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},zt=[];const Mt={components:{gTabs:M},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",echartsdata:[],print:[],selectItem:[],centerDialogVisible:!1,tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],inquire:[],totalNum:0,echart:[]}},filters:{deleteworker0(t){return t!=null?t.replace(/\u0000/g,""):t},datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)},num3filters(t){switch(t){case 0:return"\u5DE5\u4F5C\u4E2D";case 1:return"\u6682\u505C";case 3:return"\u53D8\u6D46";case 4:return"\u4FE1\u53F7\u5F02\u5E38";case 5:return"\u5F00\u542F\u56DE\u6D46";case 6:return"\u5173\u95ED\u56DE\u6D46";case 7:return"\u95F4\u9694\u704C\u6D46";case 8:return"\u6D46\u538B\u9650\u6D41";case 9:return"\u7BA1\u8DEF\u6545\u969C";case 10:return"\u7F6E\u6362\u7ED3\u675F";case 11:return"\u5192\u6D46";case 12:return"\u7B49\u6D46";case 13:return"\u4E32\u6D46";case 14:return"\u505C\u7535";case 15:return"\u5176\u4ED6";case 50:return"\u7ED3\u675F";default:return t}},minfilters(t){return(parseFloat(t)/60).toFixed(2)}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.tab2=0,this.myChart01==null)return;this.myChart01.dispose(),this.myChart02.dispose()}}},mounted(){this.deviceKey=this.device},methods:{querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("GH",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.number="",this.startDate="",this.endDate=""},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((a,i)=>[t[i],a.partPressure.toFixed(2)]),e={title:{text:"\u538B\u529B-\u65F6\u95F4\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u538B\u529B"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time"},yAxis:[{name:"\u538B\u529B          ",type:"value",inverse:!1,nameLocation:"start",nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u538B\u529B",type:"line",showSymbol:!1,data:s}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(e),this.echart.push(this.myChart01)},initEchart02(){let t=this.echartsdata,s=this.selectItem.data.map((a,i)=>[t[i],a.partFlow.toFixed(2)]),e={title:{text:"\u6D41\u91CF-\u65F6\u95F4\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6D41\u91CF"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time"},yAxis:[{name:"\u6D41\u91CF          ",type:"value",inverse:!1,nameLocation:"start",nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u6D41\u91CF",type:"line",showSymbol:!1,data:s}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(e),this.echart.push(this.myChart02)},changeHandle(t){let s=this;this.tab2=t,t===1&&this.$nextTick(()=>{this.initEchart01(),this.initEchart02(),A(this.echart),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize()}})},handleCommand(t){this.selectItem=this.tableData[t],this.print=this.tableData[t].print,this.centerDialogVisible=!0;for(var s=this.selectItem.beginTime,e,a=0;a<this.tableData[t].data.length;a++)s+=this.tableData[t].data[a].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e);for(var i=this.selectItem.beginTime,l=0;l<this.selectItem.dataForTable.length;l++)this.selectItem.dataForTable[l].startDay=u(i*1e3).format("YYYY-MM-DD HH:mm:ss"),i+=this.selectItem.dataForTable[l].partTime},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},U={};var $t=L(Mt,Pt,zt,!1,Et,"69f6c9fc",null,null);function Et(t){for(let s in U)this[s]=U[s]}var Ht=function(){return $t.exports}(),Nt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{width:t.tableWidth(i),prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"153px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009 ")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label)+" ")])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1),e("div",{staticClass:"right"},[t.showbtn?e("el-button",{attrs:{type:"primary",round:"",size:"small"},on:{click:t.download}},[t._v("\u56FE\u7247\u4E0B\u8F7D")]):t._e()],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner liinner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u6869\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth))+t._s("	")+"m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.maxAngle))+t._s("	")+" %")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u603B\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.totalWeight)))])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner liinner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u62D4\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginUpTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u62D4\u65F6\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.upTime))+t._s("	")+"min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime))+t._s("	")+"min")])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner liinner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u94BB\u5B54\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.downSpeed))+t._s("	")+"cm/min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u62D4\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upSpeed))+t._s("	")+"cm/min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6301\u529B\u7535\u6D41")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.pileTopCurrent,1))+t._s("	")+"A")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u5B54\u7535\u6D41")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.avgCurrent,1))+t._s("	")+"A")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6301\u529B\u5C42(\u6BD4\u503C)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.pileTopCurrentRatio)))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em"}},[e("el-table-column",{attrs:{property:"startDay",label:"\u65F6\u95F4","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("timefilter")(a.row.startDay))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDeep",label:"\u6BB5\u6DF1\u5EA6(m)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDeep))+" ")]}}])}),e("el-table-column",{attrs:{property:"partCurrent1",label:"\u7535\u6D41(A)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partCurrent1,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u901F\u5EA6(cm/min)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDownSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"angle",label:"\u5782\u76F4\u5EA6(%)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.angle))+" ")]}}])}),e("el-table-column",{attrs:{property:"partTime",label:"\u6BB5\u65F6\u957F(s)","min-width":"8.33%",align:"center"}}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u72B6\u6001","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num3filters")(a.row.partDownSpeed))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart03",style:{width:"100%",height:"100%"}})])])],1)],1),e("div",{staticClass:"echartdownLoad"},[e("div",{ref:"myChart06",style:{width:"100%",height:"33.3%"}}),e("div",{ref:"myChart07",style:{width:"100%",height:"33.3%"}}),e("div",{ref:"myChart08",style:{width:"100%",height:"33.3%"}})])])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("el-checkbox",{staticClass:"total",on:{change:t.totalChange},model:{value:t.totalChecked,callback:function(a){t.totalChecked=a},expression:"totalChecked"}},[t._v("\u5168\u9009 ")])],1),e("div",{staticClass:"item"},[e("div",{staticClass:"export",on:{click:t.exportexcel}},[t._v("\u5BFC\u51FA")])])]),e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Yt=[];const Rt=["pileDescribe","deviceKey","beginTime","endTime","depth","avgCurrent","pileTopCurrent","pileTopCurrentRatio","maxAngle","pileTime","cumulativePulp","downSpeed","upSpeed","maxUpSpeed","longitude","latitude","emDepth"],Kt={components:{gTabs:M},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",checkAll:!1,checkedFileds:["pileDescribe","deviceKey","beginTime","endTime","depth","avgCurrent","pileTopCurrent","pileTopCurrentRatio","maxAngle","pileTime"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u6210\u6869\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"avgCurrent",label:"\u6210\u5B54\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrent",label:"\u6301\u529B\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrentRatio",label:"\u6301\u529B\u5C42(\u6BD4\u503C)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u5782\u76F4\u5EA6(%)",formatter:this.num1Formatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter},{prop:"cumulativePulp",label:"\u6CE8\u5165\u91CF(m\xB3)",formatter:this.PulpFormatter},{prop:"downSpeed",label:"\u94BB\u5B54\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"upSpeed",label:"\u8D77\u62D4\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"maxUpSpeed",label:"\u6700\u5927\u63D0\u901F(cm/min)",formatter:this.numFormatter},{prop:"longitude",label:"\u7ECF\u5EA6"},{prop:"latitude",label:"\u7EAC\u5EA6"},{prop:"emDepth",label:"\u7A7A\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter}],isIndeterminate:!1,dialogFormVisible:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u6210\u6869\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"avgCurrent",label:"\u6210\u5B54\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrent",label:"\u6301\u529B\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrentRatio",label:"\u6301\u529B\u5C42(\u6BD4\u503C)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u5782\u76F4\u5EA6(%)",formatter:this.num1Formatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],tempCols:[],centerDialogVisible:!1,echartsdata:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],inquire:"",totalNum:"",selectAll:[],echart:[],echartload:[],showbtn:!1}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},timefilter(t){return u(t*1e3).format("HH:mm:ss")},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)},pulpfilters(t){return t.cumulativePulp==0?t.theoreticalCumulativePulp==null?"-":parseFloat(t.theoreticalCumulativePulp).toFixed(2):parseFloat(t.cumulativePulp).toFixed(2)},minfilters(t){return parseFloat(t/60).toFixed(0)},num3filters(t){return t==0&&(t="\u505C\u94BB"),t<0&&(t="\u8D77\u62D4"),t>0&&(t="\u94BB\u5B54"),t}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.showbtn=!1,this.tab2=0,this.selectItem=[],this.echartsdata=[],this.myChart01==null||this.myChart01._disposed)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart03.dispose(),this.myChart04.dispose(),this.myChart06.dispose(),this.myChart07.dispose(),this.myChart08.dispose()}}},mounted(){this.deviceKey=this.device},methods:{download(){let t=document.createElement("a");t.href=this.myChart06.getConnectedDataURL({pixelRatio:2,backgroundColor:"#fff"}),t.download="\u56FE\u7247\u4E0B\u8F7D.png",t.click()},tableWidth(t){if(t==4||t==5||t==6||t==7||t==8||t==9)return 120},exportexcel(){},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("CGSZ",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.startDate="",this.endDate="",this.number=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},minFormatter(t,s,e,a){return(parseFloat(e)/60).toFixed(0)},PulpFormatter(t,s,e,a){return(parseFloat(e)/1e3).toFixed(2)},num1Formatter(t,s,e,a){return parseFloat(e).toFixed(2)+"%"},handleCheckAllChange(t){this.checkedFileds=t?Rt:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},initEchart04(){let t=this.echartsdata,s=this.selectItem.data.map((a,i)=>[t[i],a.partDeep.toFixed(2)]),e={title:{text:"\u6DF1\u5EA6",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0},max:30}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s}]};this.myChart04=v(this.$refs.myChart04,null,{devicePixelRatio:2.5}),this.myChart04.setOption(e),this.echart.push(this.myChart04)},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partCurrent1.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:[{name:"\u6DF1\u5EA6"},{name:"\u7535\u6D41"}]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u7535\u6D41          ",nameLocation:"start",type:"value",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0},max:300},{name:"\u6DF1\u5EA6",nameLocation:"end",inverse:!0,type:"value",max:30,nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",yAxisIndex:1,type:"line",showSymbol:!1,data:s},{name:"\u7535\u6D41",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(a),this.echart.push(this.myChart01)},initEchart02(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.totalWeight.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u586B\u6599\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u586B\u6599"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u586B\u6599",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},axisLine:{show:!0}},{name:"\u6DF1\u5EA6          ",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",yAxisIndex:1,type:"line",showSymbol:!1,data:s},{name:"\u586B\u6599",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(a),this.echart.push(this.myChart02)},initEchart03(){for(var t=[],s=1;s<=Math.ceil(this.selectItem.depth);s++)t.push(1+Math.random()/20);var e=(2*Math.sqrt(this.selectItem.totalWeight.toString()/1500*.9/3.14/this.selectItem.depth)).toFixed(2);let a={title:{text:"\u6210\u6869\u6548\u679C\u56FE(\u7406\u8BBA\u6869\u5F84\uFF1A"+e+"m)",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"item",formatter:"{a} : {c}",show:!1},grid:{top:"10%",bottom:"10%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"",type:"funnel",width:"50%",left:"center",top:"15%",bottom:"8%",label:{show:!1},labelLine:{show:!1},itemStyle:{borderWidth:0,borderColor:"#5470c6",color:"#5470c6"},data:t,sort:"none",color:"#5470c6",gap:0}]};this.myChart03=v(this.$refs.myChart03,null,{renderer:"svg"}),this.myChart03.setOption(a)},initEchart06(){let t=this.echartsdata,s=this.selectItem.data.map((a,i)=>[t[i],a.partDeep.toFixed(2)]),e={title:{text:"\u6DF1\u5EA6",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0},max:30}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s}]};this.myChart06=v(this.$refs.myChart06,null,{devicePixelRatio:2.5}),this.myChart06.setOption(e),this.echartload.push(this.myChart06)},initEchart07(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partCurrent1.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:[{name:"\u6DF1\u5EA6"},{name:"\u7535\u6D41"}]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u7535\u6D41          ",nameLocation:"start",type:"value",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0},max:300},{name:"\u6DF1\u5EA6",nameLocation:"end",inverse:!0,type:"value",max:30,nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",yAxisIndex:1,type:"line",showSymbol:!1,data:s},{name:"\u7535\u6D41",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart07=v(this.$refs.myChart07,null,{devicePixelRatio:2.5}),this.myChart07.setOption(a),this.echartload.push(this.myChart07)},initEchart08(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.totalWeight.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u586B\u6599\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u586B\u6599"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u586B\u6599",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},axisLine:{show:!0}},{name:"\u6DF1\u5EA6          ",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",yAxisIndex:1,type:"line",showSymbol:!1,data:s},{name:"\u586B\u6599",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart08=v(this.$refs.myChart08,null,{devicePixelRatio:2.5}),this.myChart08.setOption(a),this.echartload.push(this.myChart08)},changeHandle(t){let s=this;this.tab2=t,t==0&&(this.showbtn=!1),t===1&&(this.showbtn=!0,this.$nextTick(()=>{this.initEchart01(),this.initEchart02(),this.initEchart03(),this.initEchart04(),A(this.echart),this.initEchart06(),this.initEchart07(),this.initEchart08(),A(this.echartload),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart03.resize(),s.myChart04.resize()}}))},handleCommand(t){this.selectItem=this.tableData[t],this.centerDialogVisible=!0;for(var s=this.selectItem.beginTime,e,a=this.selectItem.beginTime,i=0;i<this.tableData[t].data.length;i++)s+=this.tableData[t].data[i].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e),this.selectItem.data[i].startDay=a,a+=this.selectItem.data[i].partTime},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},G={};var Vt=L(Kt,Nt,Yt,!1,Wt,"82417c5e",null,null);function Wt(t){for(let s in G)this[s]=G[s]}var Bt=function(){return Vt.exports}(),Ot=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showData()}}},[t._v("\u9009\u62E9\u53C2\u6570")])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{width:t.tableWidth(i),prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"155px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label))])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1)],1),e("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1),e("div",{staticClass:"right"},[e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showechart,expression:"showechart"}],attrs:{size:"small",type:"primary"},on:{click:t.downloadEchart}},[t._v("\u56FE\u7247\u4E0B\u8F7D")]),e("el-dropdown",{attrs:{trigger:"click",placement:"bottom-start"},on:{command:t.downLoad}},[e("span",{staticClass:"more"},[t._v("\u62A5\u8868\u4E0B\u8F7D ")]),e("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[e("a",{attrs:{id:"simulation",href:""}}),e("el-dropdown-item",{attrs:{command:0}},[e("span",{staticClass:"icon icon01"}),e("span",{staticClass:"name"},[t._v("\u8BE6\u7EC6\u7248")])])],1)],1)],1)]),e(t.report,{tag:"compoent",attrs:{selectItem:t.selectItem}}),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value",attrs:{title:this.selectItem.pileDescribe}},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u6869\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth))+" (m)")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime))+" (min)")])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u6D46\u91CF(L/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averagePulp)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF1(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF2(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp2)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF3(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp3)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF4(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp4)))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF5(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp5)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6C34\u7070\u6BD4(:1)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.waterCementRatio)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF(Kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativeAsh)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6(%)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.maxAngle,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.downSpeed)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u63D0\u94BB\u901F\u5EA6(cm/min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upSpeed)))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em"}},[e("el-table-column",{attrs:{property:"startDay",label:"\u65F6\u95F4","min-width":"108px",align:"center",fixed:""}}),e("el-table-column",{attrs:{property:"partDeep",label:`\u6BB5\u6DF1\u5EA6
m`,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDeep,2))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDownSpeed",label:`\u6BB5\u901F\u5EA6
cm/min`,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num3filters")(a.row.partDownSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulp1",label:`\u6BB5\u6D46\u91CF1
L`,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp1,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulp2",label:`\u6BB5\u6D46\u91CF2
L`,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp2,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulp3",label:`\u6BB5\u6D46\u91CF3
L`,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp3,1))+" ")]}}])}),t.flag?e("el-table-column",{attrs:{property:"partPulp4",label:`\u6BB5\u6D46\u91CF4
L`,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp4,1))+" ")]}}],null,!1,491755110)}):t._e(),t.flag?e("el-table-column",{attrs:{property:"partPulp5",label:`\u6BB5\u6D46\u91CF5
L`,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp5,1))+" ")]}}],null,!1,2458645447)}):t._e(),e("el-table-column",{attrs:{property:"partPulpPressure1",label:"\u6BB5"+this.currentMpa+`1
`+this.unit,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulpPressure1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulpPressure2",label:"\u6BB5"+this.currentMpa+`2
`+this.unit,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulpPressure2))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulpPressure3",label:"\u6BB5"+this.currentMpa+`3
`+this.unit,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulpPressure3))+" ")]}}])}),t.flag?e("el-table-column",{attrs:{property:"partPulpPressure4",label:"\u6BB5"+this.currentMpa+`4
`+this.unit,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulpPressure4))+" ")]}}],null,!1,240838974)}):t._e(),t.flag?e("el-table-column",{attrs:{property:"partPulpPressure5",label:"\u6BB5"+this.currentMpa+`5
`+this.unit,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulpPressure5))+" ")]}}],null,!1,3734913119)}):t._e(),e("el-table-column",{attrs:{property:"partAsh",label:`\u6BB5\u7070\u91CF
kg`,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAsh,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDensity",label:`\u6BB5\u5BC6\u5EA6
g/cm\xB3`,"min-width":"86px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDensity,3))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u72B6\u6001","min-width":"57px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num4filters")(a.row.partDownSpeed))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart03",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])])],1)],1),e("div",{staticClass:"reportEchart"},[e("div",{ref:"myChart06",style:{width:"100%",height:"33.3%"}}),e("div",{ref:"myChart07",style:{width:"100%",height:"33.3%"}}),e("div",{ref:"myChart08",style:{width:"100%",height:"33.3%"}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===2,expression:"tab2===2"}]},[e("el-row",{staticClass:"play_back"},[e("el-col",{staticClass:"play_col"},[e("div",{staticClass:"inner inner1 backEchart"},[e("div",{staticClass:"m-statusinfo"},[e("div",{staticClass:"top"},[e("h3",[t._v(t._s(t.selectItem.deviceTypeName))]),e("div",{staticClass:"info"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.selectItem.pileDescribe)+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8BBE\u5907\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])])]),e("div",{staticClass:"status"},[e("ul",{staticClass:"ul-status"},[e("li",{class:t.recordStatusClass},[e("div",{staticClass:"btn"},[t._v(t._s(t.pileDownStatus))])]),e("li",{class:t.pipeStatusClass},[e("div",{staticClass:"btn"},[t._v(t._s(t.pileStatusStr))])]),e("li",{class:t.nozzleStatusClass},[e("div",{staticClass:"btn"},[t._v(t._s(t.pulpStatus))])])])])]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"item"},[e("h3",[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u6C34\u7070\u6BD4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.waterCementRatio)))])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u5BC6\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.dataNum.partDensity,3))+" g/cm\xB3")])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v("- cm/min")])]),e("div",{staticClass:"item"},[e("h3",[t._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v("- cm/min")])])])])])]),e("el-col",{staticClass:"play_col"},[e("div",{staticClass:"inner backEchart"},[e("div",{ref:"myChart05",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"play_back"},[e("el-col",{staticClass:"play_col"},[e("div",{staticClass:"mapDiv",attrs:{id:"mapDiv"}})]),e("el-col",{staticClass:"play_col"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"m-datab1",staticStyle:{height:"27rem"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[e("div",{ref:"angle",staticClass:"icon"},[e("img",{attrs:{src:ht,alt:""}})]),e("div",{staticClass:"t1"},[e("p",[t._v("X"),e("b",[t._v("0")])]),e("p",[t._v("Y"),e("b",[t._v("0")])])])]),e("div",{staticClass:"oh"},[e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u6301\u7EED\u65F6\u957F(min)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("minfilters")(t.LastTime)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.totalPartPulp)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.totalPartAsh)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u6BB5\u6D46\u91CF(L)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.dataNum.partPulp1)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"item_center"},[t._v("\u6BB5\u7070\u91CF(kg)")]),e("b",{staticClass:"item_center"},[t._v(t._s(t._f("numfilters")(t.dataNum.partAsh)))])])])]),e("div",{staticClass:"picbox"},[e("img",{staticClass:"bg",attrs:{src:R,alt:""}}),e("div",{staticClass:"databar"},[e("div",{staticClass:"data",style:{bottom:t.ztTop}},[e("img",{class:t.image,attrs:{src:K,alt:""}}),e("img",{staticClass:"zt",attrs:{src:V,alt:""}}),e("div",{staticClass:"info"},[e("p",[e("b",[t._v(t._s(t.pileStatusStr))])]),e("p",[t._v("\u6DF1\u5EA6"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partDeep))+"(m)")])]),e("p",[t._v("\u901F\u5EA6"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partDownSpeed))+"(cm/min)")])]),e("p",[t._v("\u6D41\u91CF"),e("em",[t._v(t._s(t._f("numfilters")(t.dataNum.partPulp1/t.dataNum.partTime*60))+"(L/min)")])]),e("img",{staticClass:"line",attrs:{src:W,alt:""}})])])])])])])])],1),e("div",{staticClass:"backplayBottom"},[e("el-progress",{staticClass:"progress_bar",attrs:{"show-text":!1,"stroke-width":15,percentage:t.percentage,color:t.color}}),e("i",{staticClass:"iconBack el-icon-refresh-right",on:{click:t.stop}}),e("i",{staticClass:"iconBack",class:t.icon,on:{click:t.backPlay}}),e("el-select",{staticClass:"selectspeed",attrs:{size:"small",placeholder:"\u6B63\u5E38"},on:{change:t.changeSpeeed},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},t._l(t.options,function(a){return e("el-option",{key:a.value,staticClass:"selectspeedOpt",attrs:{label:a.label,value:a.value}})}),1)],1)],1)])],1),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot, jumper, sizes",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},qt=[];const Zt=["pileDescribe","deviceKey","beginTime","endTime","depth","pileTime","waterCementRatio","cumulativePulp","averagePulp","maxAngle","cumulativeAsh","maxDownSpeed","downSpeed","upSpeed","maxUpSpeed","emDepth"],Ut={components:{gTabs:M,report:E},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","toLastPage","toFirstPage","handleCurrentChange"],data(){return{report:"report",currentMpa:"",unit:"",flag:!1,totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",params:"",checkAll:!1,checkedFileds:["pileDescribe","deviceKey","beginTime","endTime","depth","cumulativePulp","averagePulp","cumulativeAsh","downSpeed","upSpeed","emDepth","waterCementRatio","maxAngle","pileTime"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"cumulativePulp",label:"\u7D2F\u8BA1\u6D46\u91CF(L)",formatter:this.num0Formatter},{prop:"averagePulp",label:"\u5E73\u5747\u6D46\u91CF(L)",formatter:this.numFormatter},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(Kg)",formatter:this.num0Formatter},{prop:"downSpeed",label:"\u4E0B\u94BB\u901F\u5EA6(cm/min)",formatter:this.num2Formatter},{prop:"upSpeed",label:"\u63D0\u94BB\u901F\u5EA6(cm/min)",formatter:this.num2Formatter},{prop:"maxDownSpeed",label:"\u6700\u5927\u94BB\u901F(cm/min)",formatter:this.num2Formatter},{prop:"maxUpSpeed",label:"\u6700\u5927\u63D0\u901F(cm/min)",formatter:this.num2Formatter},{prop:"emDepth",label:"\u7A7A\u6405(m)",formatter:this.emdepth},{prop:"waterCementRatio",label:"\u6C34\u7070\u6BD4(:1)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u6700\u5927\u659C\u5EA6(%)",formatter:this.num2Formatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],isIndeterminate:!1,dialogFormVisible:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"cumulativePulp",label:"\u7D2F\u8BA1\u6D46\u91CF(L)",formatter:this.num0Formatter},{prop:"averagePulp",label:"\u5E73\u5747\u6D46\u91CF(L/m)",formatter:this.numFormatter},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(Kg)",formatter:this.num0Formatter},{prop:"downSpeed",label:"\u4E0B\u94BB\u901F\u5EA6(cm/min)",formatter:this.num2Formatter},{prop:"upSpeed",label:"\u63D0\u94BB\u901F\u5EA6(cm/min)",formatter:this.num2Formatter},{prop:"emDepth",label:"\u7A7A\u6405(m)",formatter:this.emdepth},{prop:"waterCementRatio",label:"\u6C34\u7070\u6BD4(:1)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u6700\u5927\u659C\u5EA6(%)",formatter:this.num2Formatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],tempCols:[],centerDialogVisible:!1,echartsdata:[],print:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],inquire:[],totalNum:0,echartsConnect:[],echartsConnect2:[],showechart:!1,options:[{value:"ordinary",label:"\u6B63\u5E38"},{value:"fast",label:"\u5FEB\u901F"},{value:"topspeed",label:"\u6781\u901F"}],value:"ordinary",color:"#000",percentage:0,ztTop:100,image:"stop",pileStatusStr:"\u505C\u94BB",pileDownStatus:"\u7ED3\u675F",pulpStatus:"\u6B62\u55B7",recordStatusClass:"",pipeStatusClass:"",nozzleStatusClass:"",partData:[],s1:0,s2:0,y:0,playbackTimeDepth:[],playbackTimeFlow:[],dataNum:[],PlaybackTime:"",playerInter:null,playerInter2:null,LastTime:0,totalPartPulp:0,totalPartAsh:0,pileDeep:0,totalPartTime:0,icon:"el-icon-video-pause",map:null}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)},minfilters(t){return parseInt(t/60)},num3filters(t){return Math.abs(t.toFixed(1))},num4filters(t){return t>0?"\u4E0B\u94BB":"\u63D0\u94BB"}},watch:{centerDialogVisible(t,s){if(window.onresize=null,t==!1){if(this.showechart=!1,this.clearBackData(),this.tab2=0,this.selectItem=[],this.echartsdata=[],this.myChart01===void 0||this.myChart01._disposed)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart03.dispose(),this.myChart04.dispose(),this.myChart06.dispose(),this.myChart07.dispose(),this.myChart08.dispose()}}},mounted(){this.deviceKey=this.device},methods:{downloadEchart(){let t=document.createElement("a");t.href=this.myChart06.getConnectedDataURL({pixelRatio:2,backgroundColor:"#fff"}),t.download="\u56FE\u7247\u4E0B\u8F7D.png",t.click()},clearBackData(){this.value="ordinary",this.percentage=0,this.ztTop=100,this.image="stop",this.pileStatusStr="\u505C\u94BB",this.pileDownStatus="\u7ED3\u675F",this.pulpStatus="\u6B62\u55B7",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.partData=[],this.s1=0,this.s2=0,this.y=0,this.playbackTimeDepth=[],this.playbackTimeFlow=[],this.dataNum=[],this.PlaybackTime="",this.LastTime=0,this.totalPartPulp=0,this.totalPartAsh=0,this.pileDeep=0,this.totalPartTime=0,clearInterval(this.playerInter),clearInterval(this.playerInter2),!(this.myChart05===void 0||this.myChart05._disposed)&&this.myChart05.dispose()},tableWidth(t){if(t==4||t==5||t==6||t==7)return 115;if(t==8||t==9)return 140},downLoad(t){switch(t){case 0:this.tableToExcel("gfzStatisticsTabledetailed",u(this.selectItem.beginTime*1e3).format("YYYY-MM-DD")+"-\u529F\u6CD5\u6869_\u8BE6\u7EC6\u7248");break}},tableToExcel(t,s){let e="data:application/vnd.ms-excel;base64,",a='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--> <style type="text/css">table td {height: 25px;font-family: \u5B8B\u4F53;font-size: 13px;text-align: left;border: 0.5px solid #000000; }table .tHead {font-size: 20px;text-align:center;font-weight: bold;height: 40px; }table tfoot tr{height: 25px; }table tbody td{text-align: center;height: 20px; }</style></head><body ><table class="excelTable">{table}</table></body></html>';t.nodeType||(t=document.getElementById(t));let i;t&&(i={worksheet:s||"Worksheet",table:t.innerHTML},document.getElementById("simulation").href=e+this.base64(this.format(a,i)),document.getElementById("simulation").download=s+".xls",document.getElementById("simulation").click())},base64(t){return window.btoa(unescape(encodeURIComponent(t)))},format(t,s){return t.replace(/{(\w+)}/g,function(e,a){return s[a]})},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("GFZ",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.startDate="",this.endDate="",this.number=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},num0Formatter(t,s,e,a){return parseFloat(e).toFixed(0)},num2Formatter(t,s,e,a){return parseFloat(e).toFixed(1)},minFormatter(t,s,e,a){return(parseFloat(e)/60).toFixed(0)},emdepth(t,s,e,a){return e==null?"-":(parseFloat(e)/60).toFixed(2)},handleCheckAllChange(t){this.checkedFileds=t?Zt:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDensity.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u5BC6\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u5BC6\u5EA6"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m",inverse:!0,nameLocation:"end",type:"value",max:35,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u5BC6\u5EA6g/cm\xB3",nameLocation:"end",inverse:!0,type:"value",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!0},max:3.5}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u5BC6\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart01=v(this.$refs.myChart01,null,{renderer:"svg"}),this.myChart01.setOption(a),this.echartsConnect.push(this.myChart01)},initEchart02(){let t=this.echartsdata,s=this.selectItem.data.map((n,p)=>[t[p],n.partDeep.toFixed(2)]),e=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure1.toFixed(2)]),a=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure2.toFixed(2)]),i=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure3.toFixed(2)]),l=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure4.toFixed(2)]),h=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure5.toFixed(2)]),f={title:{text:"\u6DF1\u5EA6\u3001"+this.currentMpa+"\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6",this.currentMpa+"1",this.currentMpa+"2",this.currentMpa+"3",this.currentMpa+"4",this.currentMpa+"5"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m",inverse:!0,type:"value",nameLocation:"end",max:35,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:this.currentMpa+this.unit,nameLocation:"start",inverse:!1,type:"value",max:350,nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!0}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:this.currentMpa+"1",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e},{name:this.currentMpa+"2",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:a},{name:this.currentMpa+"3",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:i},{name:this.currentMpa+"4",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:l},{name:this.currentMpa+"5",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:h}]};this.myChart02=v(this.$refs.myChart02,null,{renderer:"svg"}),this.myChart02.setOption(f),this.echartsConnect.push(this.myChart02)},initEchart03(){let t=this.echartsdata,s=this.selectItem.data.map((n,p)=>[t[p],n.partDownSpeed.toFixed(1)]),e=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp1/n.partTime*60).toFixed(2)]),a=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp2/n.partTime*60).toFixed(2)]),i=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp3/n.partTime*60).toFixed(2)]),l=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp4/n.partTime*60).toFixed(2)]),h=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp5/n.partTime*60).toFixed(2)]),f={title:{text:"\u901F\u5EA6\u3001\u6D41\u91CF\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u901F\u5EA6","\u6D41\u91CF1","\u6D41\u91CF2","\u6D41\u91CF3","\u6D41\u91CF4","\u6D41\u91CF5"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u901F\u5EA6cm/min",inverse:!1,nameLocation:"start",type:"value",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u6D41\u91CFL/min",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u901F\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u6D41\u91CF1",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e},{name:"\u6D41\u91CF2",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:a},{name:"\u6D41\u91CF3",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:i},{name:"\u6D41\u91CF4",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:l},{name:"\u6D41\u91CF5",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:h}]};this.myChart03=v(this.$refs.myChart03,null,{renderer:"svg"}),this.myChart03.setOption(f),this.echartsConnect.push(this.myChart03)},initEchart04(){for(var t=[],s=0;s<this.selectItem.data.length;s++)t[Math.ceil(this.selectItem.data[s].partDeep-1)]==null&&(t[Math.ceil(this.selectItem.data[s].partDeep-1)]=0),t[Math.ceil(this.selectItem.data[s].partDeep-1)]+=this.selectItem.data[s].partAsh;var e=t.map(a);function a(l,h,f){var n={value:Number(l.toFixed(2)),name:h+1};return n}let i={title:{text:"\u6210\u6869\u7070\u91CF\u5206\u5E03\u56FE",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"item",formatter:"{a} : {c}kg"},grid:{top:"10%",bottom:"10%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"\u7070\u91CF\u5206\u5E03",type:"funnel",width:"50%",left:"center",top:"15%",bottom:"8%",label:{show:!0},labelLine:{show:!0},data:e,sort:"none",color:"#5470c6"}]};this.myChart04=v(this.$refs.myChart04,null,{renderer:"svg"}),this.myChart04.setOption(i)},initEchart05(){let t={title:{text:"\u6DF1\u5EA6\u3001\u6D41\u91CF\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6D41\u91CF"]},grid:{top:"15%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6(m)  ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u6D41\u91CF(L/min)",nameLocation:"start",type:"value",splitLine:{show:!1},nameTextStyle:{padding:[10,20,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.playbackTimeDepth},{name:"\u6D41\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.playbackTimeFlow}]};this.myChart05.setOption(t)},initechart06(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDensity.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u5BC6\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u5BC6\u5EA6"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m",inverse:!0,nameLocation:"end",type:"value",max:35,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u5BC6\u5EA6g/cm\xB3",nameLocation:"end",inverse:!0,type:"value",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!0},max:3.5}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u5BC6\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart06=v(this.$refs.myChart06,null,{devicePixelRatio:2.5}),this.myChart06.setOption(a),this.echartsConnect2.push(this.myChart06)},initechart07(){let t=this.echartsdata,s=this.selectItem.data.map((n,p)=>[t[p],n.partDeep.toFixed(2)]),e=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure1.toFixed(2)]),a=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure2.toFixed(2)]),i=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure3.toFixed(2)]),l=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure4.toFixed(2)]),h=this.selectItem.data.map((n,p)=>[t[p],n.partPulpPressure5.toFixed(2)]),f={title:{text:"\u6DF1\u5EA6\u3001"+this.currentMpa+"\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6",this.currentMpa+"1",this.currentMpa+"2",this.currentMpa+"3",this.currentMpa+"4",this.currentMpa+"5"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m",inverse:!0,type:"value",nameLocation:"end",max:35,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:this.currentMpa+this.unit,nameLocation:"start",inverse:!1,type:"value",max:350,nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!0}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:this.currentMpa+"1",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e},{name:this.currentMpa+"2",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:a},{name:this.currentMpa+"3",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:i},{name:this.currentMpa+"4",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:l},{name:this.currentMpa+"5",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:h}]};this.myChart07=v(this.$refs.myChart07,null,{devicePixelRatio:2.5}),this.myChart07.setOption(f),this.echartsConnect2.push(this.myChart07)},initechart08(){let t=this.echartsdata,s=this.selectItem.data.map((n,p)=>[t[p],n.partDownSpeed.toFixed(1)]),e=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp1/n.partTime*60).toFixed(2)]),a=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp2/n.partTime*60).toFixed(2)]),i=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp3/n.partTime*60).toFixed(2)]),l=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp4/n.partTime*60).toFixed(2)]),h=this.selectItem.data.map((n,p)=>[t[p],(n.partPulp5/n.partTime*60).toFixed(2)]),f={title:{text:"\u901F\u5EA6\u3001\u6D41\u91CF\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u901F\u5EA6","\u6D41\u91CF1","\u6D41\u91CF2","\u6D41\u91CF3","\u6D41\u91CF4","\u6D41\u91CF5"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u901F\u5EA6cm/min",inverse:!1,nameLocation:"start",type:"value",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u6D41\u91CFL/min",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u901F\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u6D41\u91CF1",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e},{name:"\u6D41\u91CF2",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:a},{name:"\u6D41\u91CF3",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:i},{name:"\u6D41\u91CF4",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:l},{name:"\u6D41\u91CF5",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:h}]};this.myChart08=v(this.$refs.myChart08,null,{devicePixelRatio:2.5}),this.myChart08.setOption(f),this.echartsConnect2.push(this.myChart08)},changeHandle(t){let s=this;if(this.tab2=t,t===0&&(this.showechart=!1,this.clearBackData()),t===1&&(this.showechart=!0,this.$nextTick(()=>{this.initEchart01(),this.initEchart02(),this.initEchart03(),this.initEchart04(),A(this.echartsConnect),this.initechart06(),this.initechart07(),this.initechart08(),A(this.echartsConnect2),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart03.resize(),s.myChart04.resize()}}),this.clearBackData()),t===2){this.showechart=!1,this.$nextTick(()=>{this.myChart05=v(this.$refs.myChart05,null,{renderer:"svg"}),this.initEchart05(),window.onresize=function(){s.myChart05.resize(),s.map.checkResize()}}),this.partData=this.selectItem.data;for(let e=0;e<this.partData.length;e++)this.totalPartTime+=this.partData[e].partTime;this.PlaybackTime=this.selectItem.beginTime,this.playbackTimeDepth.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),0]),this.playbackTimeFlow.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),0]),this.playerInter=setInterval(()=>{this.backTimeInterval1()},3e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},3e3)}},backTimeInterval1(){this.percentage=Number((this.LastTime/this.totalPartTime*100).toFixed(1)),this.pileDownStatus="\u5F00\u59CB",this.recordStatusClass="on",this.myFun(this.partData[this.s1++].partDeep),this.s1==this.partData.length&&(this.percentage=100,this.pileDownStatus="\u7ED3\u675F",this.icon="el-icon-video-play",this.recordStatusClass="",clearInterval(this.playerInter))},backTimeInterval2(){this.dataNum=this.partData[this.s2++],this.PlaybackTime+=this.dataNum.partTime,this.playbackTimeDepth.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.dataNum.partDeep]),this.playbackTimeFlow.push([u(this.PlaybackTime*1e3).format("YYYY-MM-DD HH:mm:ss"),(this.dataNum.partPulp1/this.dataNum.partTime*60).toFixed(2)]),this.LastTime+=this.dataNum.partTime,this.totalPartPulp+=this.dataNum.partPulp1,this.totalPartAsh+=this.dataNum.partAsh,this.pileDeep<this.dataNum.partDeep?(this.pileStatusStr="\u4E0B\u94BB",this.image="down",this.pulpStatus="\u55B7\u6D46"):(this.pileStatusStr="\u63D0\u94BB",this.image="up",this.pulpStatus="\u6B62\u55B7"),this.pileDeep=this.dataNum.partDeep,this.pipeStatusClass="on",this.nozzleStatusClass="on",this.initEchart05(),this.s2==this.partData.length&&(this.pipeStatusClass="",this.nozzleStatusClass="",this.pileStatusStr="\u505C\u94BB",this.image="stop",this.pulpStatus="\u6B62\u55B7",clearInterval(this.playerInter2))},changeSpeeed(){this.pileDownStatus!="\u7ED3\u675F"&&(this.value=="fast"?(clearInterval(this.playerInter),clearInterval(this.playerInter2),this.playerInter=setInterval(()=>{this.backTimeInterval1()},2e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},2e3)):this.value=="topspeed"?(clearInterval(this.playerInter),clearInterval(this.playerInter2),this.playerInter=setInterval(()=>{this.backTimeInterval1()},1e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},1e3)):this.value=="ordinary"&&(clearInterval(this.playerInter),clearInterval(this.playerInter2),this.playerInter=setInterval(()=>{this.backTimeInterval1()},3e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},3e3)))},backPlay(){if(this.icon=="el-icon-video-pause")clearInterval(this.playerInter),clearInterval(this.playerInter2),this.icon="el-icon-video-play";else if(this.icon=="el-icon-video-play"){if(this.pileDownStatus=="\u7ED3\u675F")this.value="ordinary",this.percentage=0,this.ztTop=100,this.image="stop",this.pileStatusStr="\u505C\u94BB",this.pileDownStatus="\u7ED3\u675F",this.pulpStatus="\u6B62\u55B7",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.s1=0,this.s2=0,this.y=0,this.playbackTimeDepth=[],this.playbackTimeFlow=[],this.dataNum=[],this.PlaybackTime="",this.LastTime=0,this.totalPartPulp=0,this.totalPartAsh=0,clearInterval(this.playerInter),clearInterval(this.playerInter2),this.PlaybackTime=this.selectItem.beginTime,this.playerInter=setInterval(()=>{this.backTimeInterval1()},3e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},3e3);else{let t=3e3;this.value=="fast"?t=2e3:this.value=="topspeed"&&(t=1e3),this.playerInter=setInterval(()=>{this.backTimeInterval1()},t),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},t)}this.icon="el-icon-video-pause"}},stop(){this.value="ordinary",this.percentage=0,this.ztTop=100,this.s1=0,this.s2=0,this.y=0,this.playbackTimeDepth=[],this.playbackTimeFlow=[],this.dataNum=[],this.PlaybackTime="",this.LastTime=0,this.totalPartPulp=0,this.totalPartAsh=0,clearInterval(this.playerInter),clearInterval(this.playerInter2),this.PlaybackTime=this.selectItem.beginTime,this.playerInter=setInterval(()=>{this.backTimeInterval1()},3e3),this.playerInter2=setInterval(()=>{this.backTimeInterval2()},3e3)},handleCommand(t){this.selectItem=this.tableData[t],this.selectItem.deviceKey.startsWith("KF05")&&(this.flag=!0),this.selectItem.deviceMode!==1?(this.currentMpa="\u538B\u529B",this.unit="MPa"):(this.currentMpa="\u7535\u6D41",this.unit="A"),this.print=this.tableData[t].print,this.centerDialogVisible=!0;for(var s=this.selectItem.beginTime,e,a=0;a<this.tableData[t].data.length;a++)s+=this.tableData[t].data[a].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e);for(var i=this.selectItem.beginTime,l=0;l<this.selectItem.data.length;l++)this.selectItem.data[l].startDay=u(i*1e3).format("HH:mm:ss"),i+=this.selectItem.data[l].partTime},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()},myFun(t){var s=this;s.y=Number(t).toFixed(2),s.ztTop=100-t/this.selectItem.depth.toFixed(2)*100+"%"},loadmap(){var t=window.T;this.map=new t.Map("mapDiv"),this.map.centerAndZoom(new t.LngLat(this.selectItem.longitude,this.selectItem.latitude),10);const s=new t.Control.MapType([{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:window.TMAP_NORMAL_MAP},{title:"\u536B\u661F",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:window.TMAP_SATELLITE_MAP}]);this.map.addControl(s);const e=new t.LngLat(this.selectItem.longitude,this.selectItem.latitude),a=new t.Icon({iconUrl:ot}),i=new t.Marker(e,a);this.map.addOverLay(i),this.map.enableScrollWheelZoom()}}},j={};var Gt=L(Ut,Ot,qt,!1,jt,"11003b4b",null,null);function jt(t){for(let s in j)this[s]=j[s]}var Jt=function(){return Gt.exports}(),Xt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e(t.report,{tag:"component",attrs:{selectItem:t.selectItem,selectAll:t.selectAll}}),e("a",{staticStyle:{display:"none"},attrs:{id:"simulation",href:""}}),e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showData()}}},[t._v("\u9009\u62E9\u53C2\u6570")])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{width:t.tableWidth(i),prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"153px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009 ")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label)+" ")])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner liinner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u6869\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth))+t._s("	")+"m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.maxAngle))+t._s("	")+" %")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v(t._s(t.injection))]),e("div",{staticClass:"value"},[t._v(t._s(t._f("pulpfilters")(t.selectItem))+t._s("	")+"m\xB3")])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner liinner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u62D4\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginUpTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u62D4\u65F6\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.upTime))+t._s("	")+"min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime))+t._s("	")+"min")])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner liinner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u94BB\u5B54\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.downSpeed))+t._s("	")+"cm/min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u62D4\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upSpeed))+t._s("	")+"cm/min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6301\u529B\u7535\u6D41")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.pileTopCurrent,1))+t._s("	")+"A")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u5B54\u7535\u6D41")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.avgCurrent,1))+t._s("	")+"A")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6301\u529B\u5C42(\u6BD4\u503C)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.pileTopCurrentRatio)))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em"}},[e("el-table-column",{attrs:{property:"startDay",label:"\u65F6\u95F4","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("timefilter")(a.row.startDay))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDeep",label:"\u6BB5\u6DF1\u5EA6(m)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDeep))+" ")]}}])}),e("el-table-column",{attrs:{property:"partCurrent",label:"\u7535\u6D41(A)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partCurrent,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u901F\u5EA6(cm/min)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDownSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"theoryPilePulp",label:this.injection+"(m\xB3)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.theoryPilePulp))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAngle",label:"\u5782\u76F4\u5EA6(%)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAngle))+" ")]}}])}),e("el-table-column",{attrs:{property:"partTime",label:"\u6BB5\u65F6\u957F(s)","min-width":"8.33%",align:"center"}}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u72B6\u6001","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num3filters")(a.row.partDownSpeed))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart03",style:{width:"100%",height:"100%"}})])])],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===2,expression:"tab2 === 2"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart m-pop-echart-two"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart05",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart06",style:{width:"100%",height:"100%"}})])])],1)],1)])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("el-checkbox",{staticClass:"total",on:{change:t.totalChange},model:{value:t.totalChecked,callback:function(a){t.totalChecked=a},expression:"totalChecked"}},[t._v("\u5168\u9009 ")])],1),e("div",{staticClass:"item"},[e("div",{staticClass:"export",on:{click:t.exportexcel}},[t._v("\u5BFC\u51FA")])])]),e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Qt=[];const te=["pileDescribe","deviceKey","beginTime","endTime","depth","avgCurrent","pileTopCurrent","pileTopCurrentRatio","maxAngle","pileTime","cumulativePulp","downSpeed","upSpeed","maxUpSpeed","longitude","latitude","emDepth"],ee={components:{gTabs:M,report:E},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{pulpInjection:!1,report:"report",totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",checkAll:!1,checkedFileds:["pileDescribe","deviceKey","beginTime","endTime","depth","avgCurrent","pileTopCurrent","pileTopCurrentRatio","maxAngle","pileTime"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u6210\u6869\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"avgCurrent",label:"\u6210\u5B54\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrent",label:"\u6301\u529B\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrentRatio",label:"\u6301\u529B\u5C42(\u6BD4\u503C)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u5782\u76F4\u5EA6(%)",formatter:this.num1Formatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter},{prop:"cumulativePulp",label:"\u6CE8\u5165\u91CF(m\xB3)",formatter:this.PulpFormatter},{prop:"downSpeed",label:"\u94BB\u5B54\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"upSpeed",label:"\u8D77\u62D4\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"maxUpSpeed",label:"\u6700\u5927\u63D0\u901F(cm/min)",formatter:this.numFormatter},{prop:"longitude",label:"\u7ECF\u5EA6"},{prop:"latitude",label:"\u7EAC\u5EA6"},{prop:"emDepth",label:"\u7A7A\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter}],isIndeterminate:!1,dialogFormVisible:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u6210\u6869\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"avgCurrent",label:"\u6210\u5B54\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrent",label:"\u6301\u529B\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrentRatio",label:"\u6301\u529B\u5C42(\u6BD4\u503C)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u5782\u76F4\u5EA6(%)",formatter:this.num1Formatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],tempCols:[],centerDialogVisible:!1,echartsdata:[],print:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],inquire:"",totalNum:"",selectAll:[],injection:"",echartdown:[]}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},timefilter(t){return u(t*1e3).format("HH:mm:ss")},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)},pulpfilters(t){return t.cumulativePulp==0?t.theoreticalCumulativePulp==null?"-":parseFloat(t.theoreticalCumulativePulp).toFixed(2):parseFloat(t.cumulativePulp).toFixed(2)},minfilters(t){return parseFloat(t/60).toFixed(0)},num3filters(t){return t==0&&(t="\u505C\u94BB"),t<0&&(t="\u8D77\u62D4"),t>0&&(t="\u94BB\u5B54"),t}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.tab2=0,this.selectItem=[],this.echartsdata=[],this.myChart01==null||this.myChart01._disposed)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart03.dispose(),this.myChart04.dispose()}}},mounted(){this.deviceKey=this.device},methods:{tableWidth(t){if(t==4||t==5||t==6||t==7||t==8||t==9)return 120},exportexcel(){this.tableToExcel("CFGStatisticsTabledetailed","CFG\u6869-\u5BFC\u51FA")},tableToExcel(t,s){let e="data:application/vnd.ms-excel;base64,",a='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--> <style type="text/css">table td {height: 25px;font-family: \u5B8B\u4F53;font-size: 13px;text-align: left;border: 0.5px solid #000000; }table .tHead {font-size: 20px;text-align:center;font-weight: bold;height: 40px; }table tfoot tr{height: 25px; }table tbody td{text-align: center;height: 20px; }</style></head><body ><table class="excelTable">{table}</table></body></html>';t.nodeType||(t=document.getElementById(t));let i;t&&(i={worksheet:s||"Worksheet",table:t.innerHTML},document.getElementById("simulation").href=e+this.base64(this.format(a,i)),document.getElementById("simulation").download=s+".xls",document.getElementById("simulation").click())},base64(t){return window.btoa(unescape(encodeURIComponent(t)))},format(t,s){return t.replace(/{(\w+)}/g,function(e,a){return s[a]})},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("CFG",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.startDate="",this.endDate="",this.number=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},minFormatter(t,s,e,a){return(parseFloat(e)/60).toFixed(0)},PulpFormatter(t,s,e,a){return(parseFloat(e)/1e3).toFixed(2)},num1Formatter(t,s,e,a){return parseFloat(e).toFixed(2)+"%"},handleCheckAllChange(t){this.checkedFileds=t?te:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},initEchart04(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e;this.selectItem.cumulativePulp==0?e=this.selectItem.data.map((i,l)=>[t[l],i.theoreticalPartTotalPulp.toFixed(2)]):e=this.selectItem.data.map((i,l)=>[t[l],i.partTotalPulp.toFixed(2)]);let a={title:{text:"\u6DF1\u5EA6\u3001\u6CE8\u5165\u91CF\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6CE8\u5165\u91CF"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0},max:30},{name:"\u6CE8\u5165\u91CF",nameLocation:"start",type:"value",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u6CE8\u5165\u91CF",type:"line",yAxisIndex:1,showSymbol:!1,data:e}]};this.myChart04=v(this.$refs.myChart04,null,{devicePixelRatio:2.5}),this.myChart04.setOption(a),this.echartdown.push(this.myChart04)},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partCurrent.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:[{name:"\u6DF1\u5EA6"},{name:"\u7535\u6D41"}],selected:{\u6DF1\u5EA6:!1}},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u7535\u6D41",nameLocation:"start",type:"value",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0},max:300},{name:"\u6DF1\u5EA6",nameLocation:"end",inverse:!0,type:"value",max:30,nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",yAxisIndex:1,type:"line",showSymbol:!1,data:s},{name:"\u7535\u6D41",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(a),this.echartdown.push(this.myChart01)},initEchart02(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDownSpeed.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u901F\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u901F\u5EA6"],selected:{\u6DF1\u5EA6:!1}},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u901F\u5EA6",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},axisLine:{show:!0}},{name:"\u6DF1\u5EA6",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",yAxisIndex:1,type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(a),this.echartdown.push(this.myChart02)},initEchart03(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partAngle.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u503E\u89D2\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u503E\u89D2"],selected:{\u6DF1\u5EA6:!1}},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u503E\u89D2",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},axisLine:{show:!0}},{name:"\u6DF1\u5EA6",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},splitLine:{show:!1},max:30}],series:[{name:"\u6DF1\u5EA6",type:"line",yAxisIndex:1,showSymbol:!1,data:s},{name:"\u503E\u89D2",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart03=v(this.$refs.myChart03,null,{devicePixelRatio:2.5}),this.myChart03.setOption(a),this.echartdown.push(this.myChart03)},initEchart05(){let t=this.echartsdata,s=this.selectItem.data.map((l,h)=>[t[h],l.partDeep.toFixed(2)]),e=this.selectItem.data.map((l,h)=>l.theoreticalPartTotalPulp==null?[t[h],0]:[t[h],l.theoreticalPartPulp.toFixed(2)]),a=this.selectItem.data.map((l,h)=>[t[h],l.partTotalPulp.toFixed(2)]),i={title:{text:"\u6DF1\u5EA6\u3001\u6CE8\u5165\u91CF\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6CE8\u5165\u91CF","\u5B9E\u9645\u6CE8\u5165\u91CF"],selected:{\u6DF1\u5EA6:!1}},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6CE8\u5165\u91CF",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},axisLine:{show:!0}},{name:"\u6DF1\u5EA6",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},splitLine:{show:!1},max:30}],series:[{name:"\u6DF1\u5EA6",type:"line",yAxisIndex:1,showSymbol:!1,data:s},{name:"\u6CE8\u5165\u91CF",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e},{name:"\u5B9E\u9645\u6CE8\u5165\u91CF",type:"line",splitLine:{lineStyle:{type:"dashed"}},data:a}]};this.myChart05=v(this.$refs.myChart05,null,{renderer:"svg"}),this.myChart05.setOption(i)},initEchart06(){for(var t=[],s=0;s<this.selectItem.data.length;s++)t[Math.ceil(this.selectItem.data[s].partDeep-1)]==null&&(t[Math.ceil(this.selectItem.data[s].partDeep-1)]=0),this.selectItem.data[s].theoreticalPartPulp==null?t[Math.ceil(this.selectItem.data[s].partDeep-1)]=0:t[Math.ceil(this.selectItem.data[s].partDeep-1)]+=this.selectItem.data[s].theoreticalPartPulp;var e=t.map(a);function a(l,h,f){var n={value:Number(l.toFixed(2)),name:h+1};return n}let i={title:{text:"\u6210\u6869\u6CE8\u5165\u91CF\u5206\u5E03",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"item",formatter:"{a} : {c}m\xB3"},grid:{top:"10%",bottom:"10%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"\u6CE8\u5165\u91CF\u5206\u5E03",type:"funnel",width:"50%",left:"center",top:"15%",bottom:"8%",label:{show:!0},labelLine:{show:!0},data:e,sort:"none",color:"#5470c6"}]};this.myChart06=v(this.$refs.myChart06,null,{renderer:"svg"}),this.myChart06.setOption(i)},changeHandle(t){let s=this;this.tab2=t,t===1&&this.$nextTick(()=>{this.initEchart04(),this.initEchart01(),this.initEchart02(),this.initEchart03(),A(this.echartdown),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart03.resize(),s.myChart04.resize()}}),t===2&&this.$nextTick(()=>{this.initEchart05(),this.initEchart06(),window.onresize=function(){s.myChart05.resize(),s.myChart06.resize()}})},handleCommand(t){if(this.selectItem=this.tableData[t],this.selectItem.cumulativePulp==0){this.injection="\u7406\u8BBA\u6CE8\u5165\u91CF";for(let l=0;l<this.selectItem.data.length;l++)this.selectItem.data[l].theoryPilePulp=this.selectItem.data[l].theoreticalPartPulp}else{this.injection="\u6CE8\u5165\u91CF";for(let l=0;l<this.selectItem.data.length;l++)this.selectItem.data[l].theoryPilePulp=this.selectItem.data[l].partPulp}this.print=this.tableData[t].print,this.centerDialogVisible=!0;for(var s=this.selectItem.beginTime,e,a=this.selectItem.beginTime,i=0;i<this.tableData[t].data.length;i++)s+=this.tableData[t].data[i].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e),this.selectItem.data[i].startDay=a,a+=this.selectItem.data[i].partTime},selectionChange(t){this.selectAll=t.reverse();var s=0,e=0,a=0,i=0,l=0;for(let h=0;h<this.selectAll.length;h++)s+=this.selectAll[h].pileTime,e+=this.selectAll[h].depth,a+=this.selectAll[h].upSpeed,i+=this.selectAll[h].pileTopCurrentRatio,l+=this.selectAll[h].cumulativePulp;this.selectAll.totalDepth=e,this.selectAll.averageDepth=(e/this.selectAll.length).toFixed(2),this.selectAll.averageUpspeed=(a/this.selectAll.length).toFixed(2),this.selectAll.averageRatio=(i/this.selectAll.length).toFixed(2),this.selectAll.averagePulp=(l/this.selectAll.length).toFixed(2),this.selectAll.num=this.selectAll.length,this.selectAll.ENDTime=u(this.selectAll[this.selectAll.length-1].endTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.selectAll.startTime=u(this.selectAll[0].beginTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.selectAll.ProjName=this.selectAll[this.selectAll.length-1].projectName,this.selectAll.projWorker=this.selectAll[this.selectAll.length-1].worker,this.selectAll[this.selectAll.length-1].projectName==null&&(this.selectAll.ProjName=""),this.selectAll.prijWorker==null&&(this.selectAll.projWorker=""),t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},J={};var ae=L(ee,Xt,Qt,!1,se,"c5dd8cd0",null,null);function se(t){for(let s in J)this[s]=J[s]}var ie=function(){return ae.exports}(),le=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{fixed:"",type:"selection"}}),e("el-table-column",{attrs:{fixed:"",prop:"pileDescribe",label:"\u5B54\u53F7","min-width":"70px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"deviceKey",label:"\u6869\u673A\u53F7","min-width":"120px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.beginTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.endTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"totalPulp",label:"\u603B\u6CE8\u6D46\u91CF(L)","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.totalPulp))+" ")]}}])}),e("el-table-column",{attrs:{prop:"maxPressure",label:"\u6700\u5927\u538B\u529B(Mpa)","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.maxPressure))+" ")]}}])}),e("el-table-column",{attrs:{prop:"waterRate",label:"\u900F\u6C34\u7387(lu)","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.waterRate))+" ")]}}])}),e("el-table-column",{attrs:{prop:"pileTime",label:"\u6CE8\u6D46\u65F6\u957F(min)","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("minfilters")(a.row.pileTime))+" ")]}}])}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1),e("div",{staticClass:"right"})]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u673A\u5668\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u5355\u4F4D")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.print.worker)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u704C\u6D46\u65B9\u6CD5")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("pulpfilters")(t.print)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5B54\u53E3\u9AD8\u7A0B(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.print.holeHeight)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u59CB\u6DF1\u5EA6(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.print.beginDepth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7EC8\u6B62\u6DF1\u5EA6(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.print.endDepth)))])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.selectItem.totalPulp)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.selectItem.totalAsh)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F03\u7070\u91CF(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.print.disAsh)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F03\u6D46\u91CF(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.print.disGrout)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6C34\u6CE5\u6BD4\u91CD(g/cm\xB3)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num2filters")(t.print.cementDensity)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7802\u6BD4\u91CD(g/cm\xB3)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num2filters")(t.print.sandDensity)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5355\u4F4D\u7070\u91CF(kg/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.selectItem.avgAsh)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5355\u4F4D\u6D46\u91CF(L/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.selectItem.avgPulp)))])])])]),e("li",{staticClass:"s4"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u63BA\u52A0\u52421(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.print.densityStuff1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u63BA\u52A0\u52422(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.print.densityStuff2)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u63BA\u52A0\u52423(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.print.densityStuff3)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6CE8\u7802\u91CF(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.selectItem.totalSand)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u62AC\u52A8\u5B54\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.print.liftHoleId)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8BB0\u5F55\u95F4\u9694(s)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("intervalfilters")(t.selectItem.recordInterval)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6CE8\u6D46\u65F6\u957F(min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5355\u5143\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.print.unitId)))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u90E8\u4F4D")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.print.area)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6CF5\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.print.pumpId)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5B54\u5E8F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.print.holeId)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6392\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.print.rowId)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6BB5\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.print.partId)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.print.pileId)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u901A\u9053")]),e("div",{staticClass:"value"},[t._v(t._s(t.print.channel))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5B54\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.dataForTable,height:"23em"}},[e("el-table-column",{attrs:{property:"startDay",label:"\u65F6\u95F4","min-width":"12%",align:"center"}}),e("el-table-column",{attrs:{property:"partFlow",label:`\u6D41\u91CF
L/min`,"min-width":"7.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partFlow))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPressure",label:`\u538B\u529B
MPa`,"min-width":"6.9%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPressure))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPressurePeak",label:`\u5CF0\u538B\u529B
MPa`,"min-width":"7.8%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPressurePeak))+" ")]}}])}),e("el-table-column",{attrs:{property:"partFlowIn",label:`\u8FDB\u6D46
L/min`,"min-width":"7.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partFlowIn))+" ")]}}])}),e("el-table-column",{attrs:{property:"partFlowReturn",label:`\u8FD4\u6D46
L/min`,"min-width":"7.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partFlowReturn))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDensity",label:`\u5BC6\u5EA6
g/cm\xB3`,"min-width":"7.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDensity))+" ")]}}])}),e("el-table-column",{attrs:{property:"partSandCementRatio",label:"\u7802\u7070\u6BD4","min-width":"5.0%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partSandCementRatio))+" ")]}}])}),e("el-table-column",{attrs:{property:"partWaterCementRatio",label:"\u6C34\u7070\u6BD4","min-width":"5.0%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partWaterCementRatio))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulp",label:`\u6CE8\u6D46\u91CF
L`,"min-width":"6%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num1filters")(a.row.partPulp))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAsh",label:`\u6CE8\u7070\u91CF
L`,"min-width":"6%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num1filters")(a.row.partAsh))+" ")]}}])}),e("el-table-column",{attrs:{property:"partStatus",label:"\u5907\u6CE8","min-width":"5.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num3filters")(a.row.partStatus))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart03",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])])],1)],1)])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot, jumper, sizes",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},re=[];const ne={components:{gTabs:M},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",echartsdata:[],print:[],selectItem:[],centerDialogVisible:!1,tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],inquire:[],totalNum:0,echartDownload:[]}},filters:{worfilter(t){return t!=null?t.replace(/\u0000/g,""):t},datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t){return parseFloat(t).toFixed(2)},num1filters(t){return parseFloat(t).toFixed(1)},num2filters(t){return parseFloat(t).toFixed(3)},intervalfilters(t){switch(t){case 0:return 5;case 1:return 10;case 2:return 30;case 3:return 60;default:return t}},pulpfilters(t){var s;switch(t.paramType){case 0:s="\u4E8C\u53C2\u6570";break;case 1:s="\u4E09\u53C2\u6570";break;case 2:s="\u56DB\u53C2\u6570";break;default:s="";break}switch(t.processMethod){case 0:s+="\u5927\u5FAA\u73AF";break;case 1:s+="\u5C0F\u5FAA\u73AF";break;default:s+="";break}return s},num3filters(t){switch(t){case 0:return"\u5DE5\u4F5C\u4E2D";case 1:return"\u6682\u505C";case 3:return"\u53D8\u6D46";case 4:return"\u4FE1\u53F7\u5F02\u5E38";case 5:return"\u5F00\u542F\u56DE\u6D46";case 6:return"\u5173\u95ED\u56DE\u6D46";case 7:return"\u95F4\u9694\u704C\u6D46";case 8:return"\u6D46\u538B\u9650\u6D41";case 9:return"\u7BA1\u8DEF\u6545\u969C";case 10:return"\u7F6E\u6362\u7ED3\u675F";case 11:return"\u5192\u6D46";case 12:return"\u7B49\u6D46";case 13:return"\u4E32\u6D46";case 14:return"\u505C\u7535";case 15:return"\u5176\u4ED6";case 50:return"\u7ED3\u675F";default:return t}},minfilters(t){return(parseFloat(t)/60).toFixed(0)}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.tab2=0,this.selectItem=[],this.myChart01==null)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart03.dispose(),this.myChart04.dispose()}}},mounted(){this.deviceKey=this.device},methods:{querychxun(){const t=this.$loading({lock:!0,text:"\u52A0\u8F7D\u4E2D...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("GJ",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()})},resetClick(){this.deviceKey="",this.number="",this.startDate="",this.endDate=""},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((a,i)=>[t[i],a.partPressure]),e={title:{text:"\u538B\u529B-\u65F6\u95F4\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u538B\u529B"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u538B\u529B  ",type:"value",inverse:!1,axisLine:{show:!0},nameLocation:"start",nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u538B\u529B",type:"line",showSymbol:!1,data:s}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(e),this.echartDownload.push(this.myChart01)},initEchart02(){let t=this.echartsdata,s=this.selectItem.data.map((a,i)=>[t[i],a.partDensity.toFixed(2)]),e={title:{text:"\u5BC6\u5EA6-\u65F6\u95F4\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u5BC6\u5EA6"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u5BC6\u5EA6",type:"value",inverse:!1,axisLine:{show:!0},nameLocation:"start",nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u5BC6\u5EA6",type:"line",showSymbol:!1,data:s}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(e),this.echartDownload.push(this.myChart02)},initEchart03(){let t=this.echartsdata,s=this.selectItem.data.map((a,i)=>[t[i],a.partFlow.toFixed(2)]),e={title:{text:"\u6D41\u91CF-\u65F6\u95F4\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6D41\u91CF"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6D41\u91CF",type:"value",inverse:!1,axisLine:{show:!0},nameLocation:"start",nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u6D41\u91CF",type:"line",showSymbol:!1,data:s}]};this.myChart03=v(this.$refs.myChart03,null,{devicePixelRatio:2.5}),this.myChart03.setOption(e),this.echartDownload.push(this.myChart03)},initEchart04(){let t=this.echartsdata,s=this.selectItem.data.map((a,i)=>[t[i],a.partWaterRate]),e={title:{text:"\u900F\u6C34\u7387-\u65F6\u95F4\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u900F\u6C34\u7387"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u900F\u6C34\u7387",type:"value",inverse:!1,axisLine:{show:!0},nameLocation:"start",nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u900F\u6C34\u7387",type:"line",showSymbol:!1,data:s}]};this.myChart04=v(this.$refs.myChart04,null,{devicePixelRatio:2.5}),this.myChart04.setOption(e),this.echartDownload.push(this.myChart04)},changeHandle(t){let s=this;this.tab2=t,t===1&&this.$nextTick(()=>{this.initEchart01(),this.initEchart02(),this.initEchart03(),this.initEchart04(),A(this.echartDownload),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart03.resize(),s.myChart04.resize()}})},handleCommand(t){this.selectItem=this.tableData[t],this.print=this.tableData[t].print,this.centerDialogVisible=!0;for(var s=this.selectItem.beginTime,e,a=0;a<this.tableData[t].data.length;a++)s+=this.tableData[t].data[a].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e);for(var i=this.selectItem.beginTime,l=0;l<this.selectItem.dataForTable.length;l++)this.selectItem.dataForTable[l].startDay=u(i*1e3).format("YYYY-MM-DD HH:mm:ss"),i+=this.selectItem.dataForTable[l].partTime},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},X={};var oe=L(ne,le,re,!1,ce,"09e1c22d",null,null);function ce(t){for(let s in X)this[s]=X[s]}var he=function(){return oe.exports}(),me=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{fixed:"",type:"selection",align:"center"}}),e("el-table-column",{attrs:{fixed:"",prop:"pileDescribe",label:"\u6869\u53F7","min-width":"70px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"deviceKey",label:"\u6869\u673A\u53F7","min-width":"120px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.beginTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.endTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"depth",label:"\u884C\u7A0B(m)","min-width":"80px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.depth))+" ")]}}])}),e("el-table-column",{attrs:{prop:"designLength",label:"\u6869\u957F(m)","min-width":"80px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.designLength))+" ")]}}])}),e("el-table-column",{attrs:{prop:"harmerTimes",label:"\u9524\u51FB\u6B21\u6570","min-width":"100px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"maxAngle",label:"\u6700\u5927\u659C\u5EA6","min-width":"100px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num1filters")(a.row.maxAngle))+" ")]}}])}),e("el-table-column",{attrs:{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)","min-width":"108px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("minfilters")(a.row.pileTime))+" ")]}}])}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u884C\u7A0B(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u914D\u6869\u957F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.designLength))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.maxAngle)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u7AEF\u9524\u51FB\u6B21\u6570")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.num))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u914D\u6869\u6570\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.designPileAmount))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4(min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u9524\u51FB\u6B21\u6570")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.harmerTimes))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28rem"}},[e("el-table-column",{attrs:{type:"index",label:"\u5E8F\u53F7",width:"100px",align:"center"}}),e("el-table-column",{attrs:{property:"startDay",label:"\u65F6\u95F4",align:"center"}}),e("el-table-column",{attrs:{property:"partDeep",label:"\u884C\u7A0B(m)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDeep))+" ")]}}])}),e("el-table-column",{attrs:{property:"partHarmerTimes",label:"\u6BB5\u9524\u51FB\u6570",align:"center"}}),e("el-table-column",{attrs:{property:"partTimet",label:"\u6BB5\u65F6\u957F(s)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partTime))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1)],1)])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes,jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},de=[];const pe={components:{gTabs:M},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",echartsdata:[],selectItem:[],centerDialogVisible:!1,tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],totalNum:0,inquery:[]}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t){return parseFloat(t).toFixed(2)},minfilters(t){return parseInt(t/60)},num1filters(t){return parseFloat(t).toFixed(1)+"%"}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.tab2=0,this.myChart01==null)return;this.myChart01.dispose()}}},mounted(){this.deviceKey=this.device},methods:{querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("CP",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquery=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquery,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.number="",this.startDate="",this.endDate=""},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partHarmerTimes.toFixed(3)+""]),a={title:{text:"\u884C\u7A0B-\u9524\u51FB\u6570\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u9524\u51FB\u6570"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time"},yAxis:[{name:"\u6DF1\u5EA6(m)          ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"          \u9524\u51FB\u6570",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u9524\u51FB\u6570",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart01=v(this.$refs.myChart01,null,{renderer:"svg"}),this.myChart01.setOption(a)},changeHandle(t){let s=this;this.tab2=t,t===1&&this.$nextTick(()=>{this.initEchart01(),window.onresize=function(){s.myChart01.resize()}})},handleCommand(t){this.selectItem=this.tableData[t],this.print=this.tableData[t].print,this.centerDialogVisible=!0,this.selectItem.num=Math.floor(Math.random()*10+1);for(var s=this.selectItem.beginTime,e,a=0;a<this.tableData[t].data.length;a++)s+=this.tableData[t].data[a].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e);for(var i=this.selectItem.beginTime,l=0;l<this.selectItem.data.length;l++)this.selectItem.data[l].startDay=u(i*1e3).format("YYYY-MM-DD HH:mm:ss"),i+=this.selectItem.data[l].partTime},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},Q={};var ue=L(pe,me,de,!1,ve,"6e843281",null,null);function ve(t){for(let s in Q)this[s]=Q[s]}var fe=function(){return ue.exports}(),be=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1)],1)])],1)])]),e("el-main",[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","cell-style":t.tableCellclassname,"tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{fixed:"",type:"selection",align:"center"}}),e("el-table-column",{attrs:{fixed:"",prop:"deviceKey",label:"\u673A\u5668\u7F16\u53F7","min-width":"120px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.beginTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.endTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"water",label:"\u52A0\u6C34\u91CF(Kg)","min-width":"90px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.water))+" ")]}}])}),e("el-table-column",{attrs:{prop:"ash",label:"\u52A0\u7070\u91CF(kg)","min-width":"90px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.ash))+" ")]}}])}),e("el-table-column",{attrs:{prop:"waterCementRatio",label:"\u6C34\u7070\u6BD4","min-width":"90px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.waterCementRatio))+" ")]}}])}),e("el-table-column",{attrs:{prop:"endTime",label:"\u6301\u7EED\u65F6\u95F4(min)","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("minfilters")(a.row))+" ")]}}])})],1)],1)],1),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("el-checkbox",{staticClass:"total",on:{change:t.totalChange},model:{value:t.totalChecked,callback:function(a){t.totalChecked=a},expression:"totalChecked"}},[t._v("\u5168\u9009 ")])],1),e("div",{staticClass:"item"},[e("a",{staticClass:"export",attrs:{href:"javascript:;"}},[t._v("\u5BFC\u51FA")])])]),e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot, sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot, jumper, sizes",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},ge=[];const Ce={props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",totalNum:0,inquire:[]}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t){return parseFloat(t).toFixed(2)},minfilters(t){return(parseFloat(t.endTime-t.beginTime)/60).toFixed(1)}},mounted(){this.deviceKey=this.device},methods:{tableCellclassname({row:t,column:s,rowIndex:e,columnIndex:a}){return a==1||a==2||a==3?{textAlign:"center"}:{textAlign:"centert"}},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("HTZJ",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,"",this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.startDate="",this.endDate=""},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},tt={};var ye=L(Ce,be,ge,!1,_e,null,null,null);function _e(t){for(let s in tt)this[s]=tt[s]}var xe=function(){return ye.exports}(),we=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{fixed:"",type:"selection",align:"center"}}),e("el-table-column",{attrs:{fixed:"",prop:"pileDescribe",label:"\u6869\u53F7","min-width":"70px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"deviceKey",label:"\u6869\u673A\u53F7","min-width":"120px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.beginTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.endTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"depth",label:"\u884C\u7A0B(m)","min-width":"70px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.depth))+" ")]}}])}),e("el-table-column",{attrs:{prop:"designLength",label:"\u6869\u957F(m)","min-width":"70px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.designLength))+" ")]}}])}),e("el-table-column",{attrs:{prop:"maxPressure",label:"\u6700\u5927\u538B\u6869\u529B(MPa)","min-width":"120px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"maxAngle",label:"\u6700\u5927\u659C\u5EA6(%)","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.maxAngle,1))+" ")]}}])}),e("el-table-column",{attrs:{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)","min-width":"110px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("minfilters")(a.row.pileTime))+" ")]}}])}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1),e("div",{staticClass:"right"},[t.showButton?e("el-button",{attrs:{size:"small",type:"primary",round:""},on:{click:t.downLoadImage}},[t._v("\u56FE\u7247\u4E0B\u8F7D")]):t._e()],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u884C\u7A0B(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u914D\u6869\u957F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t.length))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5B9E\u9645\u914D\u6869\u957F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t.actualLength))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.maxAngle))+"%")])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4(min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u914D\u6869\u6570\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.designPileAmount))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5B9E\u9645\u914D\u6869\u6570\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileAmount))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u6869\u538B\u529B(MPa)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.maxPressure)))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em"}},[e("el-table-column",{attrs:{type:"index",label:"\u5E8F\u53F7",width:"100px",align:"center"}}),e("el-table-column",{attrs:{property:"startDay",label:"\u65F6\u95F4","min-width":"8.33%",align:"center"}}),e("el-table-column",{attrs:{property:"partDeep",label:"\u884C\u7A0B(m)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDeep))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u6BB5\u901F\u5EA6(cm/min)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("Speedfilters")(a.row.partDownSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPressure1",label:"\u6BB5\u538B\u6869\u529B(MPa)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPressure1))+" ")]}}])}),e("el-table-column",{attrs:{property:"angle",label:"\u5782\u76F4\u5EA6(%)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.angle))+" ")]}}])}),e("el-table-column",{attrs:{property:"partTime",label:"\u6BB5\u65F6\u957F(s)","min-width":"8.33%",align:"center"}}),e("el-table-column",{attrs:{property:"partPressure1",label:"\u72B6\u6001","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("statusfilter")(a.row.partPressure1))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1)],1)])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot, jumper, sizes",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},De=[];const ke={components:{gTabs:M},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{length:"",actualLength:"",totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",echartsdata:[],selectItem:[],centerDialogVisible:!1,tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],inquire:[],totalNum:0,echart:[],showButton:!1}},filters:{statusfilter(t){if(t!==0)return"\u538B\u6869";if(t==0)return"\u63A5\u6869"},datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t,s){return s==null&&(s=2),isNaN(t)?"":parseFloat(t).toFixed(s)},Speedfilters(t){return Math.abs(t.toFixed(2))},minfilters(t){return(parseFloat(t)/60).toFixed(0)}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.showButton=!1,this.selectItem=[],this.echartsdata=[],this.tab2=0,this.myChart01===void 0||this.myChart01._disposed)return;this.myChart01.dispose(),this.myChart02.dispose()}}},mounted(){this.deviceKey=this.device},methods:{downLoadImage(){let t=document.createElement("a");t.href=this.myChart01.getConnectedDataURL({pixelRatio:2,backgroundColor:"#fff"}),t.download="\u56FE\u7247\u4E0B\u8F7D.png",t.click()},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("GZ",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.number="",this.startDate="",this.endDate=""},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((a,i)=>[t[i],a.partPressure1.toFixed(3)+""]),e={title:{text:"\u538B\u6869\u529B\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"3%",data:["\u538B\u6869\u529B"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u538B\u6869\u529B",nameLocation:"start",inverse:!1,type:"value",axisLine:{show:!0},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u538B\u6869\u529B",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:s}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(e),this.echart.push(this.myChart01)},initEchart02(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(3)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDownSpeed.toFixed(2)+""]),a={title:{text:"\u6DF1\u5EA6\u3001\u901F\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"3%",data:["\u6DF1\u5EA6","\u901F\u5EA6"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6",type:"value",inverse:!0,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u901F\u5EA6",nameLocation:"start",inverse:!1,type:"value",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(a),this.echart.push(this.myChart02)},changeHandle(t){let s=this;this.tab2=t,t==0&&(this.showButton=!1),t===1&&(this.showButton=!0,this.$nextTick(()=>{this.initEchart01(),this.initEchart02(),A(this.echart),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize()}}))},handleCommand(t){this.selectItem=this.tableData[t],this.print=this.tableData[t].print,this.centerDialogVisible=!0,this.selectItem.designLength==null?(this.length=0,this.selectItem.designPileAmount=0):this.selectItem.designLength==0?this.length=0:this.selectItem.designLength3==0?this.length=this.selectItem.designLength1+"+"+this.selectItem.designLength2:this.selectItem.designLength4==0?this.length=this.selectItem.designLength1+"+"+this.selectItem.designLength2+"+"+this.selectItem.designLength3:this.selectItem.designLength5==0?this.length=this.selectItem.designLength1+"+"+this.selectItem.designLength2+"+"+this.selectItem.designLength3+"+"+this.selectItem.designLength4:this.selectItem.designLength2==0?this.length=this.selectItem.designLength1:this.length=this.selectItem.designLength1+"+"+this.selectItem.designLength2+"+"+this.selectItem.designLength3+"+"+this.selectItem.designLength4+"+"+this.selectItem.designLength5,this.selectItem.length1==0?this.actualLength=0:this.selectItem.length2==0?this.actualLength=this.selectItem.length1.toFixed(2):this.selectItem.length3==0?this.actualLength=this.selectItem.length1.toFixed(2)+"+"+this.selectItem.length2.toFixed(2):this.selectItem.length4==0?this.actualLength=this.selectItem.length1.toFixed(2)+"+"+this.selectItem.length2.toFixed(2)+"+"+this.selectItem.length3.toFixed(2):this.selectItem.length5==0?this.actualLength=this.selectItem.length1.toFixed(2)+"+"+this.selectItem.length2.toFixed(2)+"+"+this.selectItem.length3.toFixed(2)+"+"+this.selectItem.length4.toFixed(2):this.actualLength=this.selectItem.length1.toFixed(2)+"+"+this.selectItem.length2.toFixed(2)+"+"+this.selectItem.length3.toFixed(2)+"+"+this.selectItem.length4.toFixed(2)+"+"+this.selectItem.length5.toFixed(2);for(var s=this.selectItem.beginTime,e,a=0;a<this.tableData[t].data.length;a++)this.tableData[t].data[a].partTime==0&&(this.tableData[t].data[a].partTime=this.tableData[t].data[a].partTime+1),s+=this.tableData[t].data[a].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e);for(var i=this.selectItem.beginTime,l=[],h=0;h<this.selectItem.data.length;h++)this.selectItem.data[h].startDay=u(i*1e3).format("YYYY-MM-DD HH:mm:ss"),i+=this.selectItem.data[h].partTime,i==this.selectItem.data[h]&&(this.selectItem.data[h].serial=l.push(h))},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},et={};var Se=L(ke,we,De,!1,Ie,"7b4337ab",null,null);function Ie(t){for(let s in et)this[s]=et[s]}var Fe=function(){return Se.exports}(),Te=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showData()}}},[t._v("\u9009\u62E9\u53C2\u6570")])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{width:t.tableWidth(i),prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"135px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label))])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1),e("div",{staticClass:"right"},[t.showdownloadBtn?e("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:t.download}},[t._v("\u56FE\u7247\u4E0B\u8F7D")]):t._e()],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.machineKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u6D46\u91CF(L/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averagePulp)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativeAsh)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u7070\u91CF(kg/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averageAsh)))])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF1(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u6D46\u91CF1(L/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averagePulp1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF1(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativeAsh1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u7070\u91CF1(kg/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averageAsh1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u6D46\u91CF2(L)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativePulp2)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u6D46\u91CF2(L/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averagePulp2)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF2(kg)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.cumulativeAsh2)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u7070\u91CF2(kg/m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.averageAsh2)))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6C34\u7070\u6BD4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.waterCementRatio)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4(min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u590D\u6405\u6DF1\u5EA6(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.reDepth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u6869\u957F(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("num1filters")(t.selectItem.verticality)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u521D\u6405\u6DF1\u5EA6(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.downSpeed)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u63D0\u94BB\u901F\u5EA6(cm/min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upSpeed)))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u9876\u6D77\u62D4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.topAltitude)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u5E95\u6D77\u62D4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.bottomAltitude)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6269\u5927\u5934\u6869\u957F(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.tTypeLength)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u4E0A\u90E8\u6869\u6D46\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.tTypeSlurry)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u4E0B\u90E8\u6869\u6D46\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.bottomPartSlurry)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u7ECF\u7EAC\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.holeLongitude+","+t.selectItem.holeLatitude))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u4E0A\u90E8\u6869\u7070\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.tTypeAsh)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u4E0B\u90E8\u6869\u7070\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.bottomPartAsh)))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"23em"}},[e("el-table-column",{attrs:{property:"partId",label:"\u5E8F\u53F7","min-width":"5%",align:"center"}}),e("el-table-column",{attrs:{property:"partDeep",label:`\u6BB5\u6DF1\u5EA6
m`,"min-width":"7.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDeep))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAltitude",label:`\u6BB5\u6D77\u62D4
m`,"min-width":"7.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAltitude))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulp1",label:`\u6BB5\u6D46\u91CF1
L`,"min-width":"8%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulp2",label:`\u6BB5\u6D46\u91CF2
L`,"min-width":"7.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp2))+" ")]}}])}),e("el-table-column",{attrs:{property:"partPulp",label:`\u603B\u6BB5\u6D46\u91CF
L`,"min-width":"8%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partPulp))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAsh1",label:`\u6BB5\u7070\u91CF1
kg`,"min-width":"7.5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAsh1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAsh2",label:`\u6BB5\u7070\u91CF2
kg`,"min-width":"8%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAsh2))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAsh",label:`\u603B\u6BB5\u7070\u91CF
kg`,"min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAsh))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDownSpeed",label:`\u901F\u5EA6
cm/min`,"min-width":"9%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDownSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"partTime",label:`\u6BB5\u65F6\u957F
s`,"min-width":"8.33%",align:"center"}}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u72B6\u6001","min-width":"5%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num5filters")(a.row.partDownSpeed))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col col_3",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])])],1)],1),e("div",{staticClass:"echartDownload"},[e("div",{ref:"myChart05",style:{width:"100%",height:"100%"}}),e("div",{ref:"myChart06",style:{width:"100%",height:"100%"}})])])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("el-checkbox",{staticClass:"total",on:{change:t.totalChange},model:{value:t.totalChecked,callback:function(a){t.totalChecked=a},expression:"totalChecked"}},[t._v("\u5168\u9009 ")])],1),e("div",{staticClass:"item"},[e("a",{staticClass:"export",attrs:{href:"javascript:;"}},[t._v("\u5BFC\u51FA")])])]),e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Ae=[];const Le=["pileDescribe","deviceKey","beginTime","endTime","depth","frDepth","reDepth","waterCementRatio","cumulativePulp","averagePulp","cumulativeAsh","averageAsh","verticality","maxDownSpeed","downSpeed","maxUpSpeed","upSpeed","pileTime"],Pe={components:{gTabs:M},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",checkAll:!1,checkedFileds:["pileDescribe","deviceKey","beginTime","endTime","depth","cumulativePulp","averagePulp","cumulativeAsh","pileTime","verticality"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"frDepth",label:"\u521D\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"reDepth",label:"\u590D\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"waterCementRatio",label:"\u6C34\u7070\u6BD4",formatter:this.numFormatter},{prop:"cumulativePulp",label:"\u7D2F\u8BA1\u6D46\u91CF(L)",formatter:this.numFormatter},{prop:"averagePulp",label:"\u5E73\u5747\u6D46\u91CF(L/m)",formatter:this.numFormatter},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"averageAsh",label:"\u5E73\u5747\u7070\u91CF(kg/m)",formatter:this.numFormatter},{prop:"verticality",label:"\u5782\u76F4\u5EA6",formatter:this.num1Formatter},{prop:"maxDownSpeed",label:"\u6700\u5927\u94BB\u901F(cm/min)",formatter:this.numFormatter},{prop:"downSpeed",label:"\u4E0B\u94BB\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"maxUpSpeed",label:"\u6700\u5927\u63D0\u901F(cm/min)",formatter:this.numFormatter},{prop:"upSpeed",label:"\u63D0\u94BB\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],isIndeterminate:!1,dialogFormVisible:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"cumulativePulp",label:"\u7D2F\u8BA1\u6D46\u91CF(L)",formatter:this.numFormatter},{prop:"averagePulp",label:"\u5E73\u5747\u6D46\u91CF(L/m)",formatter:this.numFormatter},{prop:"cumulativeAsh",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter},{prop:"verticality",label:"\u5782\u76F4\u5EA6",formatter:this.num1Formatter}],tempCols:[],centerDialogVisible:!1,echartsdata:[],print:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",inquire:[],totalNum:0,showdownloadBtn:!1,echart:[],downloadEchart:[]}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t){return parseFloat(t).toFixed(2)},minfilters(t){return(parseFloat(t)/60).toFixed(0)},num1filters(t){return parseFloat(t).toFixed(1)+"%"},num4filters(t){return Math.abs(parseFloat(t).toFixed(2))},num5filters(t){return t<0?"\u63D0\u94BB":"\u4E0B\u94BB"}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.showdownloadBtn=!1,this.tab2=0,this.myChart01==null)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart04.dispose(),this.myChart05.dispose(),this.myChart06.dispose()}}},mounted(){this.deviceKey=this.device},methods:{download(){let t=document.createElement("a");t.href=this.myChart05.getConnectedDataURL({pixelRatio:2,backgroundColor:"#fff"}),t.download="\u56FE\u7247\u4E0B\u8F7D.png",t.click()},tableWidth(t){if(t==1||t==2||t==3)return 150},querychxun(){const t=this.$loading({lock:!0,text:"\u52A0\u8F7D\u4E2D...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("DK",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()})},resetClick(){this.deviceKey="",this.number="",this.startDate="",this.endDate=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},minFormatter(t,s,e,a){return(parseFloat(e)/60).toFixed(0)},num1Formatter(t,s,e,a){return parseFloat(e).toFixed(2)+"%"},handleCheckAllChange(t){this.checkedFileds=t?Le:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},initEchart05(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],Number(i.partAltitude.toFixed(2))]),a={title:{text:"\u6DF1\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6D77\u62D4"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",inverse:!0,nameLocation:"end",type:"value",max:40,nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0}},{name:"    \u6D77\u62D4",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u6D77\u62D4",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart05=v(this.$refs.myChart05,null,{devicePixelRatio:2.5}),this.myChart05.setOption(a),this.downloadEchart.push(this.myChart05)},initEchart06(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],(i.partPulp/i.partTime*60).toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDownSpeed.toFixed(2)]),a={title:{text:"\u6D41\u91CF\u3001\u901F\u5EA6\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6D41\u91CF","\u901F\u5EA6"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6D41\u91CF          ",inverse:!1,type:"value",nameLocation:"start",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0}},{name:"          \u901F\u5EA6",nameLocation:"start",inverse:!1,type:"value",max:50,nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6D41\u91CF",type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart06=v(this.$refs.myChart06,null,{devicePixelRatio:2.5}),this.myChart06.setOption(a),this.downloadEchart.push(this.myChart06)},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],Number(i.partAltitude.toFixed(2))]),a={title:{text:"\u6DF1\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6D77\u62D4"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6",inverse:!0,nameLocation:"end",type:"value",max:40,nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0}},{name:"\u6D77\u62D4",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u6D77\u62D4",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(a),this.echart.push(this.myChart01)},initEchart02(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],(i.partPulp/i.partTime*60).toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDownSpeed.toFixed(2)]),a={title:{text:"\u6D41\u91CF\u3001\u901F\u5EA6\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6D41\u91CF","\u901F\u5EA6"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6D41\u91CF",inverse:!1,type:"value",nameLocation:"start",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0}},{name:"\u901F\u5EA6",nameLocation:"start",inverse:!1,type:"value",max:50,nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6D41\u91CF",type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(a),this.echart.push(this.myChart02)},initEchart04(){for(var t=[],s=0;s<this.selectItem.data.length;s++)t[Math.ceil(this.selectItem.data[s].partDeep-1)]==null&&(t[Math.ceil(this.selectItem.data[s].partDeep-1)]=0),t[Math.ceil(this.selectItem.data[s].partDeep-1)]+=this.selectItem.data[s].partAsh;var e=t.map(a);function a(l,h,f){var n={value:Number(l.toFixed(2)),name:h+1};return n}let i={title:{text:"\u6210\u6869\u7070\u91CF\u5206\u5E03",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"item",formatter:"{a} : {c}"},grid:{top:"10%",bottom:"10%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"\u6210\u6869\u7070\u91CF\u5206\u5E03",type:"funnel",width:"50%",left:"center",top:"15%",bottotm:"5%",label:{show:!0},labelLine:{show:!0},data:e,sort:"none",color:"#5470c6"}]};this.myChart04=v(this.$refs.myChart04,null,{renderer:"svg"}),this.myChart04.setOption(i)},changeHandle(t){let s=this;this.tab2=t,t==0&&(this.showdownloadBtn=!1),t===1&&(this.showdownloadBtn=!0,this.$nextTick(()=>{this.initEchart05(),this.initEchart06(),A(this.downloadEchart),this.initEchart01(),this.initEchart02(),this.initEchart04(),A(this.echart),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart04.resize()}}))},handleCommand(t){this.selectItem=this.tableData[t],this.print=this.tableData[t].print,this.centerDialogVisible=!0;for(var s=this.selectItem.beginTime,e,a=0;a<this.tableData[t].data.length;a++)s+=this.tableData[t].data[a].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e);for(var i=this.selectItem.beginTime,l=[],h=0;h<this.selectItem.data.length;h++)this.selectItem.data[h].startDay=u(i*1e3).format("YYYY-MM-DD HH:mm:ss"),i+=this.selectItem.data[h].partTime,i==this.selectItem.data[h]&&(this.selectItem.data[h].serial=l.push(h))},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},at={};var ze=L(Pe,Te,Ae,!1,Me,"9143bf74",null,null);function Me(t){for(let s in at)this[s]=at[s]}var $e=function(){return ze.exports}(),Ee=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showData()}}},[t._v("\u9009\u62E9\u53C2\u6570")])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.pileDescribe,callback:function(a){t.pileDescribe=a},expression:"pileDescribe"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticClass:"jbThead",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id",align:"center","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"160px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label))])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1)],1),e("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value valuepile",attrs:{title:this.selectItem.pileDescribe}},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8BBE\u5907\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u552F\u4E00\u6807\u8BC6")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileId))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5782\u76F4\u5EA6(%)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.angle)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ECF\u5EA6\u5750\u6807")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.longitude))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7EF4\u5EA6\u5750\u6807")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.latitude))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u94BB\u5165\u6DF1\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth))+"(m)")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7EC8\u5B54\u8F6C\u901F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.rpm,1)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u8F6C\u901F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.avgRpm)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u603B\u65F6\u957F(s)")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileTime))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em"}},[e("el-table-column",{attrs:{property:"order",label:"\u5E8F\u53F7","min-width":"4.33%",align:"center"}}),e("el-table-column",{attrs:{property:"depth",label:"\u6DF1\u5EA6\u503C(m)","min-width":"8.83%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.depth))+" ")]}}])}),e("el-table-column",{attrs:{property:"rotateSpeed",label:"\u8F6C\u901F","min-width":"8.83%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.rotateSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"realTime",label:"\u4E0A\u4F20\u65F6\u95F4","min-width":"8.83%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.realTime))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1)],1)])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot, jumper, sizes",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},He=[];const Ne=["pileDescribe","deviceKey","beginTime","endTime","pileId","depth","angle","longitude","latitude","rpm","avgRpm","pileTime"],Ye={components:{gTabs:M},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{report:"report",checkedData:[],totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",checkedId:[],checkAll:!1,checkedFileds:["pileDescribe","deviceKey","beginTime","endTime","pileId","depth","angle","longitude","latitude","rpm","avgRpm","pileTime"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u8BBE\u5907\u7F16\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"pileId",label:"\u6869\u552F\u4E00\u6807\u8BC6"},{prop:"depth",label:"\u94BB\u5165\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"angle",label:"\u5782\u76F4\u5EA6(%)",formatter:this.numFormatter},{prop:"longitude",label:"\u7ECF\u5EA6\u5750\u6807"},{prop:"latitude",label:"\u7EAC\u5EA6\u5750\u6807"},{prop:"rpm",label:"\u7EC8\u5B54\u8F6C\u901F",formatter:this.numsFormatter},{prop:"avgRpm",label:"\u5E73\u5747\u8F6C\u901F",formatter:this.numFormatter},{prop:"pileTime",label:"\u603B\u65F6\u957F(s)"}],isIndeterminate:!1,dialogFormVisible:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u8BBE\u5907\u7F16\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"pileId",label:"\u6869\u552F\u4E00\u6807\u8BC6"},{prop:"depth",label:"\u94BB\u5165\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"angle",label:"\u5782\u76F4\u5EA6(%)",formatter:this.numFormatter},{prop:"longitude",label:"\u7ECF\u5EA6\u5750\u6807"},{prop:"latitude",label:"\u7EAC\u5EA6\u5750\u6807"},{prop:"rpm",label:"\u7EC8\u5B54\u8F6C\u901F",formatter:this.numsFormatter},{prop:"avgRpm",label:"\u5E73\u5747\u8F6C\u901F",formatter:this.numFormatter},{prop:"pileTime",label:"\u603B\u65F6\u957F(s)"}],tempCols:[],centerDialogVisible:!1,data:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],totalNum:0,inquery:[]}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},minfilters(t){return(parseFloat(t)/60).toFixed(2)},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)}},watch:{centerDialogVisible(t,s){if(window.onresize=null,t==!1){if(this.tab2=0,this.selectItem=[],this.data=[],this.myChart01===void 0||this.myChart01._disposed)return;this.myChart01.dispose()}}},mounted(){this.deviceKey=this.device},methods:{querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$emit("changeDevicekey",this.deviceKey,this.pileDescribe,this.startDate,this.endDate),S("XWZ",0,this.device,this.pageSize,this.pileDescribe,this.startDate,this.endDate).then(s=>{this.inquery=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.pileDescribe,this.startDate,this.endDate,this.inquery,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.startDate="",this.endDate="",this.number=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},minFormatter(t,s,e,a){return(parseFloat(e)/60).toFixed(0)},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},numsFormatter(t,s,e,a){return parseFloat(e).toFixed(1)},handleCheckAllChange(t){this.checkedFileds=t?Ne:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},initEchart01(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.depth]),e=this.selectItem.data.map((i,l)=>[t[l],i.rotateSpeed.toFixed(3)+""]),a={title:{text:"\u6DF1\u5EA6\u3001\u8F6C\u901F\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u8F6C\u901F"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10}},yAxis:[{name:"\u6DF1\u5EA6(m)  ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u8F6C\u901F",nameLocation:"end",inverse:!0,type:"value",splitLine:{show:!1},nameTextStyle:{padding:[10,20,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u8F6C\u901F",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart01=v(this.$refs.myChart01,null,{renderer:"svg"}),this.myChart01.setOption(a)},changeHandle(t){let s=this;this.tab2=t,t===1&&this.$nextTick(()=>{this.initEchart01(),window.onresize=function(){s.myChart01.resize()}})},handleCommand(t){this.selectItem=this.tableData[t],this.centerDialogVisible=!0;for(var s=0;s<this.tableData[t].data.length;s++)this.data.push(u(this.tableData[t].data[s].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"))},selectionChange(t){this.checkedData=t,this.checkedId=[];for(var s=0;s<t.length;s++)this.checkedId.push(t[s]._id);t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},st={};var Re=L(Ye,Ee,He,!1,Ke,"73c67c4e",null,null);function Ke(t){for(let s in st)this[s]=st[s]}var Ve=function(){return Re.exports}(),We=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e(t.report,{tag:"component",attrs:{selectItem:t.selectItem,depthReport:t.depthReport,pulpReport:t.pulpReport,partcurrent:t.partcurrent,downspeed:t.downspeed,upspeed:t.upspeed,ashReport:t.ashReport,checkedData:t.checkedData}}),e("a",{attrs:{id:"simulation",href:""}}),e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"148px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label))])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1),e("div",{staticClass:"right"},[t.showbtn?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.echartDownload}},[t._v("\u56FE\u7247\u4E0B\u8F7D")]):t._e()],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value",attrs:{title:this.selectItem.pileDescribe}},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u7AEF\u7535\u6D41")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.current))+t._s("\xA0")+"A")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.xAngle))+t._s("\xA0")+"%")])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u6869\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth))+t._s("\xA0")+"m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6709\u6548\u6869\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("depthfilters")(t.selectItem))+t._s("\xA0")+"m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7D2F\u8BA1\u7070\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.ash))+t._s("\xA0")+"kg")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5E73\u5747\u7070\u91CF")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("averageAshFilter")(t.selectItem))+t._s("\xA0")+"kg/m")])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem))+t._s("\xA0")+"min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7A7A\u6405\u6DF1\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.emptyDepth))+t._s("\xA0")+"m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u4E0B\u94BB\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.downSpeed))+t._s("\xA0")+"cm/min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u63D0\u94BB\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upSpeed))+t._s("\xA0")+"cm/min")])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em"}},[e("el-table-column",{attrs:{type:"index",label:"\u5E8F\u53F7",width:"80px",align:"center"}}),e("el-table-column",{attrs:{property:"realTime",label:"\u65F6\u95F4","min-width":"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.realTime))+" ")]}}])}),e("el-table-column",{attrs:{property:"depth",label:"\u6BB5\u6DF1\u5EA6(m)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.depth))+" ")]}}])}),e("el-table-column",{attrs:{property:"ash",label:"\u6BB5\u7070\u91CF(kg)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.ash))+" ")]}}])}),e("el-table-column",{attrs:{property:"current",label:"\u6BB5\u7535\u6D41(A)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.current,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"pressure",label:"\u6BB5\u538B\u529B(kg)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.pressure,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"speed",label:"\u901F\u5EA6(cm/min)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num3filters")(a.row.speed))+" ")]}}])}),e("el-table-column",{attrs:{property:"speed",label:"\u72B6\u6001",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num5filters")(a.row.speed))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart03",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])])],1)],1),e("div",{staticClass:"echatrs",attrs:{id:"echartss"}},[e("div",{ref:"myChart06",style:{width:"100%",height:"33.33%"}}),e("div",{ref:"myChart07",style:{width:"100%",height:"33.33%"}}),e("div",{ref:"myChart08",style:{width:"100%",height:"33.33%"}})])])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("el-checkbox",{staticClass:"total",on:{change:t.totalChange},model:{value:t.totalChecked,callback:function(a){t.totalChecked=a},expression:"totalChecked"}},[t._v("\u5168\u9009 ")])],1),e("div",{staticClass:"item"},[e("div",{staticClass:"export",on:{click:t.exportAll}},[t._v("\u5BFC\u51FA")])])]),e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes,jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Be=[];const Oe=["pileDescribe","deviceKey","beginTime","endTime","depth","pileTime"],qe={components:{gTabs:M,report:E},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{checkedData:[],depthReport:[],ashReport:{},pulpReport:{},upspeed:{},downspeed:{},partcurrent:{},report:"report",totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",checkAll:!1,checkedFileds:["pileDescribe","beginTime","endTime","depth","ash","current","xAngle","pileTime"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"ash",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"ash",label:"\u5E73\u5747\u7070\u91CF(kg/m)",formatter:this.averageAsh},{prop:"current",label:"\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"xAngle",label:"\u6700\u5927\u659C\u5EA6",formatter:this.num1Formatter},{prop:"endTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],isIndeterminate:!1,dialogFormVisible:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u65BD\u5DE5\u6869\u957F(m)",formatter:this.numFormatter},{prop:"ash",label:"\u7D2F\u8BA1\u7070\u91CF(kg)",formatter:this.numFormatter},{prop:"ash",label:"\u5E73\u5747\u7070\u91CF(kg/m)",formatter:this.averageAsh},{prop:"current",label:"\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"xAngle",label:"\u6700\u5927\u659C\u5EA6",formatter:this.num1Formatter},{prop:"endTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],tempCols:[],centerDialogVisible:!1,data:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],inquire:[],totalNum:0,echartLoad:[],downloadechart:[],showbtn:!1}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)},averageAshFilter(t){return t.ash==0&&t.depth-t.emptyDepth==0?0:parseFloat(t.ash/(t.depth-t.emptyDepth)).toFixed(2)},minfilters(t){return(parseFloat(t.endTime-t.beginTime)/60).toFixed(0)},num1filters(t){return parseFloat(t).toFixed(2)+"%"},num3filters(t){return Math.abs(parseFloat(t).toFixed(2))},num5filters(t){return t<0?"\u63D0\u94BB":"\u4E0B\u94BB"},depthfilters(t){return parseFloat(t.depth-t.emptyDepth).toFixed(2)}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.showbtn=!1,this.tab2=0,this.selectItem=[],this.upspeed=[],this.downspeed=[],this.partcurrent=[],this.ashReport=[],this.depthReport=[],this.data=[],this.myChart01==null||this.myChart01._disposed)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart03.dispose(),this.myChart04.dispose()}}},mounted(){this.deviceKey=this.device},methods:{echartDownload(){let t=document.createElement("a");t.href=this.myChart06.getConnectedDataURL({pixelRatio:2,backgroundColor:"#fff"}),t.download="\u56FE\u7247\u4E0B\u8F7D.png",t.click()},exportAll(){},downLoad(t){switch(t){case 0:{this.tableToExcel("FPZstatisticsTablePrint","\u7C89\u55B7\u6869\u6869-\u6253\u5370\u7248");break}case 1:{this.tableToExcel("FPZstatisticsTable","\u7C89\u55B7\u6869\u6869-\u7EFC\u5408\u7248");break}case 2:{this.tableToExcel("FPZstatisticsTabledetailed","\u7C89\u55B7\u6869\u6869-\u8BE6\u7EC6\u7248");break}}},tableToExcel(t,s){let e="data:application/vnd.ms-excel;base64,",a='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--> <style type="text/css">table td {height: 25px;font-family: \u5B8B\u4F53;font-size: 13px;text-align: left;border: 0.5px solid #000000; }table .tHead {font-size: 20px;text-align:center;font-weight: bold;height: 40px; }table tfoot tr{height: 25px; }table tbody td{text-align: center;height: 20px; }</style></head><body ><table class="excelTable">{table}</table></body></html>';t.nodeType||(t=document.getElementById(t));let i;t&&(i={worksheet:s||"Worksheet",table:t.innerHTML},document.getElementById("simulation").href=e+this.base64(this.format(a,i)),document.getElementById("simulation").download=s+".xls",document.getElementById("simulation").click())},base64(t){return window.btoa(unescape(encodeURIComponent(t)))},format(t,s){return t.replace(/{(\w+)}/g,function(e,a){return s[a]})},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("ZKFPZ",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.number="",this.startDate="",this.endDate=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},num11Formatter(t,s,e,a){return parseFloat(e).toFixed(1)},minFormatter(t,s,e,a){return(parseFloat(e-t.beginTime)/60).toFixed(0)},num1Formatter(t,s,e,a){return parseFloat(e).toFixed(1)+"%"},averageAsh(t,s,e,a){return t.depth==0&&e==0?0:parseFloat(e/(t.depth-t.emptyDepth)).toFixed(2)},handleCheckAllChange(t){this.checkedFileds=t?Oe:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},initEchart01(){let t=this.data,s=this.selectItem.data.map((a,i)=>[t[i],a.depth]),e={title:{text:"\u6DF1\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6",type:"value",inverse:!0,nameLocation:"end",max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(e),this.echartLoad.push(this.myChart01)},initEchart02(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.depth.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.current.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7535\u6D41"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]},max:30},{name:"\u7535\u6D41",type:"value",nameLocation:"start",max:300,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u7535\u6D41",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(a),this.echartLoad.push(this.myChart02)},initEchart03(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.ash.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.speed.toFixed(2)]),a={title:{text:"\u6BB5\u7070\u91CF\u3001\u901F\u5EA6\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6BB5\u7070\u91CF","\u901F\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6BB5\u7070\u91CF(kg)",type:"value",nameLocation:"start",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,20]}},{name:"\u901F\u5EA6(cm/min) ",type:"value",nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,25,0,0]}}],series:[{name:"\u6BB5\u7070\u91CF",type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart03=v(this.$refs.myChart03,null,{devicePixelRatio:2.5}),this.myChart03.setOption(a),this.echartLoad.push(this.myChart03)},initEchart04(){for(var t=[],s=0;s<this.selectItem.data.length;s++)t[Math.ceil(this.selectItem.data[s].depth-1)]==null&&(t[Math.ceil(this.selectItem.data[s].depth-1)]=0),t[Math.ceil(this.selectItem.data[s].depth-1)]+=this.selectItem.data[s].ash;var e=t.map(a);function a(l,h,f){var n={value:Number(l.toFixed(2)),name:h+1};return n}let i={title:{text:"\u6210\u6869\u7070\u91CF\u5206\u5E03",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"item",formatter:"{a} : {c}"},grid:{top:"10%",bottom:"10%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"\u6210\u6869\u7070\u91CF\u5206\u5E03",type:"funnel",width:"50%",left:"center",top:"15%",bottom:"8%",label:{show:!0},labelLine:{show:!0},data:e,sort:"none",color:"#5470c6"}]};this.myChart04=v(this.$refs.myChart04,null,{renderer:"svg"}),this.myChart04.setOption(i)},initEchart06(){let t=this.data,s=this.selectItem.data.map((a,i)=>[t[i],a.depth]),e={title:{text:"\u6DF1\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",type:"value",inverse:!0,nameLocation:"end",max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s}]};this.myChart06=v(this.$refs.myChart06,null,{devicePixelRatio:2.5}),this.myChart06.setOption(e),this.downloadechart.push(this.myChart06)},initEchart07(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.depth.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.current.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7535\u6D41"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]},max:30},{name:"          \u7535\u6D41",type:"value",nameLocation:"start",max:300,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u7535\u6D41",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart07=v(this.$refs.myChart07,null,{devicePixelRatio:2.5}),this.myChart07.setOption(a),this.downloadechart.push(this.myChart07)},initEchart08(){let t=this.data,s=this.selectItem.data.map((i,l)=>[t[l],i.ash.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.speed.toFixed(2)]),a={title:{text:"\u6BB5\u7070\u91CF\u3001\u901F\u5EA6\u53D8\u5316\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6BB5\u7070\u91CF","\u901F\u5EA6"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6BB5\u7070\u91CF(kg)",type:"value",nameLocation:"start",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u901F\u5EA6(cm/min)      ",type:"value",nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6BB5\u7070\u91CF",type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart08=v(this.$refs.myChart08,null,{devicePixelRatio:2.5}),this.myChart08.setOption(a),this.downloadechart.push(this.myChart08)},changeHandle(t){let s=this;this.tab2=t,t==0&&(this.showbtn=!1),t===1&&(this.showbtn=!0,this.$nextTick(()=>{this.initEchart01(),this.initEchart02(),this.initEchart03(),this.initEchart04(),A(this.echartLoad),this.initEchart06(),this.initEchart07(),this.initEchart08(),A(this.downloadechart),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart03.resize(),s.myChart04.resize()}}))},handleCommand(t){this.selectItem=this.tableData[t],this.centerDialogVisible=!0;for(var s,e=0;e<this.tableData[t].data.length;e++)s=u(this.tableData[t].data[e].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.data.push(s)},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},it={};var Ze=L(qe,We,Be,!1,Ue,"dfbcf6bc",null,null);function Ue(t){for(let s in it)this[s]=it[s]}var Ge=function(){return Ze.exports}(),je=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychaxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.pileDescribe,callback:function(a){t.pileDescribe=a},expression:"pileDescribe"}})],1)],1)])],1)])]),e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{fixed:"",type:"selection",align:"center"}}),e("el-table-column",{attrs:{fixed:"",prop:"pileDescribe",label:"\u6869\u53F7","min-width":"70px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"deviceKey",label:"\u8BBE\u5907\u7F16\u53F7","min-width":"120px",align:"center","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.beginTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4","min-width":"120px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.endTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"depth",label:"\u6DF1\u5EA6(m)","min-width":"100px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.depth))+" ")]}}])}),e("el-table-column",{attrs:{prop:"partCount",label:"\u7EC4\u5185\u6570\u91CF(\u4E2A)","min-width":"100px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partCount,0))+" ")]}}])}),e("el-table-column",{attrs:{prop:"longitude",label:"\u7ECF\u5EA6","min-width":"110px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.longitude,3))+" ")]}}])}),e("el-table-column",{attrs:{prop:"latitude",label:"\u7EAC\u5EA6","min-width":"110px",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.latitude,3))+" ")]}}])}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7EC4\u5185\u6570\u91CF(\u4E2A)")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.partCount))])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("worfilter")(t.selectItem.deviceKey)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ECF\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.longitude))])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6DF1\u5EA6(m)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7EC4\u5185\u65F6\u95F4(min)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7EAC\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.latitude))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"32em"}},[e("el-table-column",{attrs:{type:"index",label:"\u5E8F\u53F7","min-width":"70px",width:"80px",align:"center"}}),e("el-table-column",{attrs:{property:"endTime",label:"\u7ED3\u675F\u65F6\u95F4","min-width":"200px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("datafilters")(a.row.endTime))+" ")]}}])}),e("el-table-column",{attrs:{property:"xLocation",label:"\u6BB5\u4F4D\u7F6EX","min-width":"105px",align:"center"}}),e("el-table-column",{attrs:{property:"yLocation",label:"\u6BB5\u4F4D\u7F6EY","min-width":"105px",align:"center"}}),e("el-table-column",{attrs:{property:"downDeep",label:"\u4E0B\u884C\u6DF1\u5EA6(m)","min-width":"102px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.downDeep))+" ")]}}])}),e("el-table-column",{attrs:{property:"upDeep",label:"\u56DE\u5E26\u6DF1\u5EA6(m)","min-width":"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.upDeep))+" ")]}}])}),e("el-table-column",{attrs:{property:"xAngle",label:"\u503E\u89D2X","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.xAngle,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"yAngle",label:"\u503E\u89D2Y","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.yAngle,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"pressure",label:"\u6BB5\u538B\u529B(Mpa)","min-width":"117px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.pressure))+" ")]}}])}),e("el-table-column",{attrs:{property:"rate",label:"\u8BC4\u4EF7","min-width":"70px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("reaeFilter")(a.row.rate))+" ")]}}])})],1)],1)])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes,jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Je=[];const Xe={components:{gTabs:M},props:["tableData","deviceList","device","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage"],data(){return{startDate:"",endDate:"",pileDescribe:"",deviceKey:"",selectItem:[],centerDialogVisible:!1,tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"}],totalChecked:!1,inquire:[],totalNum:[]}},filters:{reaeFilter(t){return t==0?"\u5408\u683C":"\u65E0\u6548"},worfilter(t){return t!=null?t.replace(/\u0000/g,""):t},datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)},minfilters(t){return Math.ceil(t/60)}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.tab2=0,this.myChart01==null)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart03.dispose(),this.myChart04.dispose()}}},methods:{querychaxun(){S("DP",0,this.deviceKey,this.pageSize,this.pileDescribe,this.startDate,this.endDate).then(t=>{this.inquire=t.content,this.totalNum=t.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.pileDescribe,this.startDate,this.endDate,this.inquire,this.totalNum)})},resetClick(){this.deviceKey="",this.pileDescribe="",this.startDate="",this.endDate=""},changeHandle(t){this.tab2=t},handleCommand(t){this.selectItem=this.tableData[t],this.centerDialogVisible=!0},selectionChange(t){t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},lt={};var Qe=L(Xe,je,Je,!1,ta,"09ef00dd",null,null);function ta(t){for(let s in lt)this[s]=lt[s]}var ea=function(){return Qe.exports}(),aa=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e(t.report,{tag:"component",attrs:{selectItem:t.selectItem,selectAll:t.selectAll}}),e("a",{staticStyle:{display:"none"},attrs:{id:"simulation",href:""}}),e("el-container",{staticClass:"row-con"},[e("el-header",{staticClass:"m-filter"},[e("div",{staticClass:"wp"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filter",staticClass:"m-filterbox"},[e("div",{staticClass:"right"},[e("el-button",{staticClass:"btn btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.querychxun}},[t._v("\u67E5\u8BE2 ")]),e("el-button",{staticClass:"btn btn-reset",attrs:{"native-type":"reset"},on:{click:t.resetClick}},[e("span",{staticClass:"icon icon-reset"}),e("span",[t._v("\u91CD\u7F6E")])]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showData()}}},[t._v("\u9009\u62E9\u53C2\u6570")])],1),e("div",{staticClass:"left"},[e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}})],1)],1),e("div",{staticClass:"item"},[t._v("\u81F3")]),e("el-form-item",{staticClass:"item g-date"},[e("el-col",{staticClass:"date",attrs:{span:14}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"timestamp",type:"datetime","prefix-icon":"",placeholder:"\u9009\u62E9\u65E5\u671F"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}})],1)],1),e("el-form-item",{staticClass:"item picker picker-device"},[e("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907"},model:{value:t.deviceKey,callback:function(a){t.deviceKey=a},expression:"deviceKey"}},t._l(t.deviceList,function(a){return e("el-option",{key:a.key,attrs:{label:a.name,value:a.key}})}),1)],1),e("el-form-item",{staticClass:"item input"},[e("el-input",{staticClass:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6869\u53F7"},model:{value:t.number,callback:function(a){t.number=a},expression:"number"}})],1)],1)])],1)])]),e("el-main",{staticClass:"m-table-main"},[e("div",{attrs:{id:"table-content"}},[e("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center",fixed:""}}),t._l(t.cols,function(a,i){return e("el-table-column",{key:i,attrs:{width:t.tableWidth(i),prop:a.prop,label:a.label,formatter:a.formatter,"min-width":"153px",align:"center","show-overflow-tooltip":""}})}),e("el-table-column",{attrs:{fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"m-edit-btns"},[e("div",{staticClass:"item"},[e("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(i){return t.handleCommand(a.$index)}}},[t._v("\u8BE6\u60C5")])])])]}}])})],2)],1)]),e("el-dialog",{attrs:{title:"\u9009\u62E9\u9700\u8981\u5C55\u793A\u7684\u53C2\u6570",visible:t.dialogFormVisible,width:"40%",center:"",top:"15vh"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(a){t.checkAll=a},expression:"checkAll"}},[t._v("\u5168\u9009 ")]),e("div",{staticStyle:{margin:"15px 0"}}),e("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedFileds,callback:function(a){t.checkedFileds=a},expression:"checkedFileds"}},t._l(t.fieldNames,function(a){return e("el-checkbox",{key:a.prop,attrs:{label:a.prop}},[t._v(t._s(a.label)+" ")])}),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("\u53D6 \u6D88")]),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.confirmShow}},[t._v("\u786E\u5B9A")])],1)],1)],1),e("el-dialog",{staticClass:"m-pop m-pop-detail",attrs:{visible:t.centerDialogVisible},on:{"update:visible":function(a){t.centerDialogVisible=a}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"left"},[e("gTabs",{attrs:{current:t.tab2,list:t.tab2List},on:{change:t.changeHandle}})],1)]),e("div",{staticClass:"dialog-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-detail"},[e("div",{staticClass:"m-table-detail"},[e("div",{staticClass:"detailitem"},[e("h3",[t._v("\u8BE6\u7EC6\u6570\u636E")]),e("div",{staticClass:"box"},[e("ul",{staticClass:"ul-detail"},[e("li",{staticClass:"s1"},[e("div",{staticClass:"inner liinner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.pileDescribe))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6869\u673A\u7F16\u53F7")]),e("div",{staticClass:"value"},[t._v(t._s(t.selectItem.deviceKey))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u65BD\u5DE5\u6869\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.depth))+t._s("	")+"m")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6700\u5927\u659C\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.maxAngle))+t._s("	")+" %")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v(t._s(t.injection))]),e("div",{staticClass:"value"},[t._v(t._s(t._f("pulpfilters")(t.selectItem))+t._s("	")+"m\xB3")])])])]),e("li",{staticClass:"s2"},[e("div",{staticClass:"inner liinner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u5F00\u59CB\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u62D4\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.beginUpTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u7ED3\u675F\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("datafilters")(t.selectItem.endTime)))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u62D4\u65F6\u957F")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.upTime))+t._s("	")+"min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u6869\u65F6\u95F4")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("minfilters")(t.selectItem.pileTime))+t._s("	")+"min")])])])]),e("li",{staticClass:"s3"},[e("div",{staticClass:"inner liinner"},[e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u94BB\u5B54\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.downSpeed))+t._s("	")+"cm/min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u8D77\u62D4\u901F\u5EA6")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.upSpeed))+t._s("	")+"cm/min")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6301\u529B\u7535\u6D41")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.pileTopCurrent,1))+t._s("	")+"A")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6210\u5B54\u7535\u6D41")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.avgCurrent,1))+t._s("	")+"A")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[t._v("\u6301\u529B\u5C42(\u6BD4\u503C)")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("numfilters")(t.selectItem.pileTopCurrentRatio)))])])])])])])]),e("br"),e("h3",[t._v("\u6BB5\u6570\u636E\u5217\u8868")]),e("el-table",{ref:"saveTable",staticClass:"m-table-save m_table_save_height",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.selectItem.data,height:"28em"}},[e("el-table-column",{attrs:{property:"startDay",label:"\u65F6\u95F4","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("timefilter")(a.row.startDay))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDeep",label:"\u6BB5\u6DF1\u5EA6(m)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDeep))+" ")]}}])}),e("el-table-column",{attrs:{property:"partCurrent",label:"\u7535\u6D41(A)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partCurrent,1))+" ")]}}])}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u901F\u5EA6(cm/min)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partDownSpeed))+" ")]}}])}),e("el-table-column",{attrs:{property:"theoryPilePulp",label:this.injection+"(m\xB3)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.theoryPilePulp))+" ")]}}])}),e("el-table-column",{attrs:{property:"partAngle",label:"\u5782\u76F4\u5EA6(%)","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("numfilters")(a.row.partAngle))+" ")]}}])}),e("el-table-column",{attrs:{property:"partTime",label:"\u6BB5\u65F6\u957F(s)","min-width":"8.33%",align:"center"}}),e("el-table-column",{attrs:{property:"partDownSpeed",label:"\u72B6\u6001","min-width":"8.33%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("num3filters")(a.row.partDownSpeed))+" ")]}}])})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===1,expression:"tab2 === 1"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart04",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])]),e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart03",style:{width:"100%",height:"100%"}})])])],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tab2===2,expression:"tab2 === 2"}],staticClass:"m-tab-table m-tab-echartTable"},[e("div",{staticClass:"m-pop-echart m-pop-echart-two"},[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart05",style:{width:"100%",height:"100%"}})])])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"col",attrs:{span:12}},[e("div",{staticClass:"inner"},[e("div",{ref:"myChart06",style:{width:"100%",height:"100%"}})])])],1)],1)])])]),e("el-footer",{staticClass:"m-selectAll"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("el-checkbox",{staticClass:"total",on:{change:t.totalChange},model:{value:t.totalChecked,callback:function(a){t.totalChecked=a},expression:"totalChecked"}},[t._v("\u5168\u9009 ")])],1),e("div",{staticClass:"item"},[e("div",{staticClass:"export",on:{click:t.exportexcel}},[t._v("\u5BFC\u51FA")])])]),e("div",{staticClass:"right"},[e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toFirstPage}},[e("i",{staticClass:"el-icon-d-arrow-left"})])]),e("el-pagination",{staticClass:"pages",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"slot,sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[e("button",{staticClass:"lastPage",on:{click:t.toLastPage}},[e("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},sa=[];const ia=["pileDescribe","deviceKey","beginTime","endTime","depth","avgCurrent","pileTopCurrent","pileTopCurrentRatio","maxAngle","pileTime","cumulativePulp","downSpeed","upSpeed","maxUpSpeed","longitude","latitude","emDepth"],la={components:{gTabs:M,report:E},props:["tableData","device","deviceList","pageSize","total","currentPage","handleSizeChange","handleCurrentChange","toLastPage","toFirstPage","pileDescribe"],data(){return{pulpInjection:!1,report:"report",totalChecked:!1,startDate:"",endDate:"",number:"",deviceKey:"",checkAll:!1,checkedFileds:["pileDescribe","deviceKey","beginTime","endTime","depth","avgCurrent","pileTopCurrent","pileTopCurrentRatio","maxAngle","pileTime"],fieldNames:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u6210\u6869\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"avgCurrent",label:"\u6210\u5B54\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrent",label:"\u6301\u529B\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrentRatio",label:"\u6301\u529B\u5C42(\u6BD4\u503C)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u5782\u76F4\u5EA6(%)",formatter:this.num1Formatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter},{prop:"cumulativePulp",label:"\u6CE8\u5165\u91CF(m\xB3)",formatter:this.PulpFormatter},{prop:"downSpeed",label:"\u94BB\u5B54\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"upSpeed",label:"\u8D77\u62D4\u901F\u5EA6(cm/min)",formatter:this.numFormatter},{prop:"maxUpSpeed",label:"\u6700\u5927\u63D0\u901F(cm/min)",formatter:this.numFormatter},{prop:"longitude",label:"\u7ECF\u5EA6"},{prop:"latitude",label:"\u7EAC\u5EA6"},{prop:"emDepth",label:"\u7A7A\u6405\u6DF1\u5EA6(m)",formatter:this.numFormatter}],isIndeterminate:!1,dialogFormVisible:!1,cols:[{prop:"pileDescribe",label:"\u6869\u53F7"},{prop:"deviceKey",label:"\u6869\u673A\u53F7"},{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",formatter:this.testFormatter},{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",formatter:this.testFormatter},{prop:"depth",label:"\u6210\u6869\u6DF1\u5EA6(m)",formatter:this.numFormatter},{prop:"avgCurrent",label:"\u6210\u5B54\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrent",label:"\u6301\u529B\u7535\u6D41(A)",formatter:this.numFormatter},{prop:"pileTopCurrentRatio",label:"\u6301\u529B\u5C42(\u6BD4\u503C)",formatter:this.numFormatter},{prop:"maxAngle",label:"\u5782\u76F4\u5EA6(%)",formatter:this.num1Formatter},{prop:"pileTime",label:"\u6210\u6869\u65F6\u95F4(min)",formatter:this.minFormatter}],tempCols:[],centerDialogVisible:!1,echartsdata:[],print:[],selectItem:[],tab2:0,tab2List:[{name:"\u8BE6\u7EC6\u5185\u5BB9"},{name:"\u56FE\u8868\u66F2\u7EBF"}],selectTable:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",selectTableList:[{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D",value:"0"},{label:"\u8BB0\u5F55\u62A5\u8868\u4E0B\u8F7D1",value:"1"}],inquire:"",totalNum:"",selectAll:[],injection:"",echartdown:[]}},filters:{datafilters(t){return u(t*1e3).format("YYYY-MM-DD HH:mm:ss")},timefilter(t){return u(t*1e3).format("HH:mm:ss")},numfilters(t,s){return s==null&&(s=2),isNaN(t)?t:parseFloat(t).toFixed(s)},pulpfilters(t){return t.cumulativePulp==0?t.theoreticalCumulativePulp==null?"-":parseFloat(t.theoreticalCumulativePulp).toFixed(2):parseFloat(t.cumulativePulp).toFixed(2)},minfilters(t){return parseFloat(t/60).toFixed(0)},num3filters(t){return t==0&&(t="\u505C\u94BB"),t<0&&(t="\u8D77\u62D4"),t>0&&(t="\u94BB\u5B54"),t}},watch:{centerDialogVisible(t,s){if(t==!1){if(this.tab2=0,this.selectItem=[],this.echartsdata=[],this.myChart01==null||this.myChart01._disposed)return;this.myChart01.dispose(),this.myChart02.dispose(),this.myChart03.dispose(),this.myChart04.dispose()}}},mounted(){this.deviceKey=this.device},methods:{tableWidth(t){if(t==4||t==5||t==6||t==7||t==8||t==9)return 120},exportexcel(){this.tableToExcel("CFGStatisticsTabledetailed","CFG\u6869-\u5BFC\u51FA")},tableToExcel(t,s){let e="data:application/vnd.ms-excel;base64,",a='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--> <style type="text/css">table td {height: 25px;font-family: \u5B8B\u4F53;font-size: 13px;text-align: left;border: 0.5px solid #000000; }table .tHead {font-size: 20px;text-align:center;font-weight: bold;height: 40px; }table tfoot tr{height: 25px; }table tbody td{text-align: center;height: 20px; }</style></head><body ><table class="excelTable">{table}</table></body></html>';t.nodeType||(t=document.getElementById(t));let i;t&&(i={worksheet:s||"Worksheet",table:t.innerHTML},document.getElementById("simulation").href=e+this.base64(this.format(a,i)),document.getElementById("simulation").download=s+".xls",document.getElementById("simulation").click())},base64(t){return window.btoa(unescape(encodeURIComponent(t)))},format(t,s){return t.replace(/{(\w+)}/g,function(e,a){return s[a]})},querychxun(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});S("CFG",0,this.deviceKey,this.pageSize,this.number,this.startDate,this.endDate).then(s=>{this.inquire=s.content,this.totalNum=s.totalElements,this.$emit("changeDevicekey",this.deviceKey,this.number,this.startDate,this.endDate,this.inquire,this.totalNum),t.close()}),setTimeout(()=>{t.close()},6e3)},resetClick(){this.deviceKey="",this.startDate="",this.endDate="",this.number=""},testFormatter(t,s,e,a){return u(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numFormatter(t,s,e,a){return parseFloat(e).toFixed(2)},minFormatter(t,s,e,a){return(parseFloat(e)/60).toFixed(0)},PulpFormatter(t,s,e,a){return(parseFloat(e)/1e3).toFixed(2)},num1Formatter(t,s,e,a){return parseFloat(e).toFixed(2)+"%"},handleCheckAllChange(t){this.checkedFileds=t?ia:[],this.isIndeterminate=!1},handleCheckedCitiesChange(t){let s=t.length;this.checkAll=s===this.fieldNames.length,this.isIndeterminate=s>0&&s<this.fieldNames.length},showData(t){this.dialogFormVisible=!0},confirmShow(){if(this.tempCols=[],this.checkedFileds.length<1)this.$message.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u9879\u6570\u636E"),this.dialogFormVisible=!0;else{for(var t=0;t<this.fieldNames.length;t++)for(var s=0;s<this.checkedFileds.length;s++)this.fieldNames[t].prop==this.checkedFileds[s]&&this.tempCols.push(this.fieldNames[t]);this.cols=this.tempCols,this.dialogFormVisible=!1}},initEchart04(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e;this.selectItem.cumulativePulp==0?e=this.selectItem.data.map((i,l)=>[t[l],i.theoreticalPartTotalPulp.toFixed(2)]):e=this.selectItem.data.map((i,l)=>[t[l],i.partTotalPulp.toFixed(2)]);let a={title:{text:"\u6DF1\u5EA6\u3001\u6CE8\u5165\u91CF\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6CE8\u5165\u91CF"]},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{interval:10,formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6          ",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0},max:30},{name:"\u6CE8\u5165\u91CF",nameLocation:"start",type:"value",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s},{name:"\u6CE8\u5165\u91CF",type:"line",yAxisIndex:1,showSymbol:!1,data:e}]};this.myChart04=v(this.$refs.myChart04,null,{devicePixelRatio:2.5}),this.myChart04.setOption(a),this.echartdown.push(this.myChart04)},initEchart01(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partCurrent.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u7535\u6D41\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:[{name:"\u6DF1\u5EA6"},{name:"\u7535\u6D41"}],selected:{\u6DF1\u5EA6:!1}},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u7535\u6D41",nameLocation:"start",type:"value",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0},max:300},{name:"\u6DF1\u5EA6",nameLocation:"end",inverse:!0,type:"value",max:30,nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",yAxisIndex:1,type:"line",showSymbol:!1,data:s},{name:"\u7535\u6D41",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart01=v(this.$refs.myChart01,null,{devicePixelRatio:2.5}),this.myChart01.setOption(a),this.echartdown.push(this.myChart01)},initEchart02(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partDownSpeed.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u901F\u5EA6\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u901F\u5EA6"],selected:{\u6DF1\u5EA6:!1}},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u901F\u5EA6",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},axisLine:{show:!0}},{name:"\u6DF1\u5EA6",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",yAxisIndex:1,type:"line",showSymbol:!1,data:s},{name:"\u901F\u5EA6",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart02=v(this.$refs.myChart02,null,{devicePixelRatio:2.5}),this.myChart02.setOption(a),this.echartdown.push(this.myChart02)},initEchart03(){let t=this.echartsdata,s=this.selectItem.data.map((i,l)=>[t[l],i.partDeep.toFixed(2)]),e=this.selectItem.data.map((i,l)=>[t[l],i.partAngle.toFixed(2)]),a={title:{text:"\u6DF1\u5EA6\u3001\u503E\u89D2\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u503E\u89D2"],selected:{\u6DF1\u5EA6:!1}},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u503E\u89D2",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},axisLine:{show:!0}},{name:"\u6DF1\u5EA6",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},splitLine:{show:!1},max:30}],series:[{name:"\u6DF1\u5EA6",type:"line",yAxisIndex:1,showSymbol:!1,data:s},{name:"\u503E\u89D2",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e}]};this.myChart03=v(this.$refs.myChart03,null,{devicePixelRatio:2.5}),this.myChart03.setOption(a),this.echartdown.push(this.myChart03)},initEchart05(){let t=this.echartsdata,s=this.selectItem.data.map((l,h)=>[t[h],l.partDeep.toFixed(2)]),e=this.selectItem.data.map((l,h)=>l.theoreticalPartTotalPulp==null?[t[h],0]:[t[h],l.theoreticalPartPulp.toFixed(2)]),a=this.selectItem.data.map((l,h)=>[t[h],l.partTotalPulp.toFixed(2)]),i={title:{text:"\u6DF1\u5EA6\u3001\u6CE8\u5165\u91CF\u66F2\u7EBF",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"axis",selectedMode:!0},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6CE8\u5165\u91CF","\u5B9E\u9645\u6CE8\u5165\u91CF"],selected:{\u6DF1\u5EA6:!1}},grid:{top:"22%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6CE8\u5165\u91CF",nameLocation:"start",inverse:!1,type:"value",nameTextStyle:{padding:[10,15,0,0]},axisLine:{show:!0}},{name:"\u6DF1\u5EA6",inverse:!0,nameLocation:"end",type:"value",nameTextStyle:{padding:[10,0,0,15]},splitLine:{show:!1},max:30}],series:[{name:"\u6DF1\u5EA6",type:"line",yAxisIndex:1,showSymbol:!1,data:s},{name:"\u6CE8\u5165\u91CF",type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:e},{name:"\u5B9E\u9645\u6CE8\u5165\u91CF",type:"line",splitLine:{lineStyle:{type:"dashed"}},data:a}]};this.myChart05=v(this.$refs.myChart05,null,{renderer:"svg"}),this.myChart05.setOption(i)},initEchart06(){for(var t=[],s=0;s<this.selectItem.data.length;s++)t[Math.ceil(this.selectItem.data[s].partDeep-1)]==null&&(t[Math.ceil(this.selectItem.data[s].partDeep-1)]=0),this.selectItem.data[s].theoreticalPartPulp==null?t[Math.ceil(this.selectItem.data[s].partDeep-1)]=0:t[Math.ceil(this.selectItem.data[s].partDeep-1)]+=this.selectItem.data[s].theoreticalPartPulp;var e=t.map(a);function a(l,h,f){var n={value:Number(l.toFixed(2)),name:h+1};return n}let i={title:{text:"\u6210\u6869\u6CE8\u5165\u91CF\u5206\u5E03",textStyle:{color:"#101D34",fontSize:16},left:"2.2%",top:"5%"},tooltip:{trigger:"item",formatter:"{a} : {c}m\xB3"},grid:{top:"10%",bottom:"10%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"\u6CE8\u5165\u91CF\u5206\u5E03",type:"funnel",width:"50%",left:"center",top:"15%",bottom:"8%",label:{show:!0},labelLine:{show:!0},data:e,sort:"none",color:"#5470c6"}]};this.myChart06=v(this.$refs.myChart06,null,{renderer:"svg"}),this.myChart06.setOption(i)},changeHandle(t){let s=this;this.tab2=t,t===1&&this.$nextTick(()=>{this.initEchart04(),this.initEchart01(),this.initEchart02(),this.initEchart03(),A(this.echartdown),window.onresize=function(){s.myChart01.resize(),s.myChart02.resize(),s.myChart03.resize(),s.myChart04.resize()}}),t===2&&this.$nextTick(()=>{this.initEchart05(),this.initEchart06(),window.onresize=function(){s.myChart05.resize(),s.myChart06.resize()}})},handleCommand(t){if(this.selectItem=this.tableData[t],this.selectItem.cumulativePulp==0){this.injection="\u7406\u8BBA\u6CE8\u5165\u91CF";for(let l=0;l<this.selectItem.data.length;l++)this.selectItem.data[l].theoryPilePulp=this.selectItem.data[l].theoreticalPartPulp}else{this.injection="\u6CE8\u5165\u91CF";for(let l=0;l<this.selectItem.data.length;l++)this.selectItem.data[l].theoryPilePulp=this.selectItem.data[l].partPulp}this.print=this.tableData[t].print,this.centerDialogVisible=!0;for(var s=this.selectItem.beginTime,e,a=this.selectItem.beginTime,i=0;i<this.tableData[t].data.length;i++)s+=this.tableData[t].data[i].partTime,e=u(s*1e3).format("YYYY-MM-DD HH:mm:ss"),this.echartsdata.push(e),this.selectItem.data[i].startDay=a,a+=this.selectItem.data[i].partTime},selectionChange(t){this.selectAll=t.reverse();var s=0,e=0,a=0,i=0,l=0;for(let h=0;h<this.selectAll.length;h++)s+=this.selectAll[h].pileTime,e+=this.selectAll[h].depth,a+=this.selectAll[h].upSpeed,i+=this.selectAll[h].pileTopCurrentRatio,l+=this.selectAll[h].cumulativePulp;this.selectAll.totalDepth=e,this.selectAll.averageDepth=(e/this.selectAll.length).toFixed(2),this.selectAll.averageUpspeed=(a/this.selectAll.length).toFixed(2),this.selectAll.averageRatio=(i/this.selectAll.length).toFixed(2),this.selectAll.averagePulp=(l/this.selectAll.length).toFixed(2),this.selectAll.num=this.selectAll.length,this.selectAll.ENDTime=u(this.selectAll[this.selectAll.length-1].endTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.selectAll.startTime=u(this.selectAll[0].beginTime*1e3).format("YYYY-MM-DD HH:mm:ss"),this.selectAll.ProjName=this.selectAll[this.selectAll.length-1].projectName,this.selectAll.projWorker=this.selectAll[this.selectAll.length-1].worker,this.selectAll[this.selectAll.length-1].projectName==null&&(this.selectAll.ProjName=""),this.selectAll.prijWorker==null&&(this.selectAll.projWorker=""),t.length==this.tableData.length?this.totalChecked=!0:this.totalChecked&&(this.totalChecked=!1)},totalChange(t){t?(this.$refs.table.clearSelection(),this.$refs.table.toggleAllSelection()):this.$refs.table.clearSelection()}}},rt={};var ra=L(la,aa,sa,!1,na,"42f01ce6",null,null);function na(t){for(let s in rt)this[s]=rt[s]}var oa=function(){return ra.exports}(),ca=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row-history"},[e("div",{staticClass:"m-topNav"},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},t._l(t.tabList,function(a){return e("el-tab-pane",{key:a.name,attrs:{label:a.label,name:a.name}})}),1)],1),e("el-container",{staticClass:"row-con"},[e(t.tab,{tag:"component",attrs:{pileDescribe:t.pileDescribe,tableData:t.tableData,device:t.device,deviceList:t.deviceList,pageSize:t.pageSize,total:t.total,currentPage:t.currentPage,handleSizeChange:t.handleSizeChange,handleCurrentChange:t.handleCurrentChange,toLastPage:t.toLastPage,toFirstPage:t.toFirstPage},on:{changeDevicekey:t.changeDevicekey}})],1)],1)},ha=[];const ma={name:"History",components:{JBZ:bt,GYXPZ:Lt,GH:Ht,CGSZ:Bt,GFZ:Jt,CFG:ie,GJ:he,CP:fe,HTZJ:xe,GZ:Fe,gTabs:M,FPZ:Dt,DK:$e,XWZ:Ve,ZKFPZ:Ge,DP:ea,LG:oa},data(){return{startday:"",endday:"",pileDescribe:"",deviceList:[],device:"",tab:"JBZ",pageSize:10,total:0,currentPage:1,tabList:[],tableData:[],minPileDepth:"",mincumulitePileAsh:"",minPileTime:"",maxPileDepth:"",maxCumulitePileAsh:"",maxPileTime:"",minAverageAsh:"",maxAverageAsh:""}},mounted(){ct().then(t=>{const s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.tabList=t,sessionStorage.type!=null?this.tab=sessionStorage.type:this.tab=this.tabList[0].name,sessionStorage.deviceKey!=null?(this.device=sessionStorage.deviceKey,sessionStorage.removeItem("deviceKey")):this.device="",sessionStorage.pileDescribe!=null?(this.pileDescribe=sessionStorage.pileDescribe,sessionStorage.removeItem("pileDescribe")):this.pileDescribe="",this.tab=="JBZ"&&(sessionStorage.pileDepth!=null?this.minPileDepth=sessionStorage.pileDepth:this.minPileDepth="",sessionStorage.cumulativePileAsh!=null?this.mincumulitePileAsh=sessionStorage.cumulativePileAsh:this.mincumulitePileAsh="",sessionStorage.pileTime!=null?this.minPileTime=sessionStorage.pileTime:this.minPileTime=""),B(9999,1,this.tab).then(e=>{this.deviceList=e.result.records}),S(this.tab,0,this.device,this.pageSize,this.pileDescribe,this.startday,this.endday,this.minPileDepth,this.mincumulitePileAsh,this.minPileTime).then(e=>{this.tableData=e.content,this.total=e.totalElements,s.close()}),setTimeout(()=>{s.close()},6e3)})},methods:{changeDevicekey(t,s,e,a,i,l,h,f,n,p,_,r,g,w){this.device=t,this.startday=e,this.endday=a,this.pileDescribe=s,this.currentPage=0,this.tableData=i,this.total=l,this.maxPileDepth=h,this.minAverageAsh=f,this.maxAverageAsh=n,this.maxCumulitePileAsh=p,this.maxPileTime=_,this.minPileDepth=r,this.mincumulitePileAsh=w,this.minPileTime=g},conditionsQuery(){this.tab!="JBZ"?(this.minPileDepth="",this.mincumulitePileAsh="",this.minPileTime="",this.maxPileDepth="",this.minAverageAsh="",this.maxAverageAsh="",this.maxCumulitePileAsh="",this.maxPileTime=""):(this.minPileDepth=sessionStorage.pileDepth,this.mincumulitePileAsh=sessionStorage.cumulativePileAsh,this.minPileTime=sessionStorage.pileTime)},toFirstPage(){this.handleCurrentChange(1)},toLastPage(){this.handleCurrentChange(Math.ceil(this.total/this.pageSize))},handleSizeChange(t){const s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.pageSize=t,S(this.tab,this.currentPage-1,this.device,this.pageSize,this.pileDescribe,this.startday,this.endday,this.minPileDepth,this.mincumulitePileAsh,this.minPileTime,this.maxPileDepth,this.minAverageAsh,this.maxAverageAsh,this.maxCumulitePileAsh,this.maxPileTime).then(e=>{this.tableData=e.content,this.total=e.totalElements,s.close()}),setTimeout(()=>{s.close()},6e3)},handleCurrentChange(t){const s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.currentPage=t,S(this.tab,this.currentPage-1,this.device,this.pageSize,this.pileDescribe,this.startday,this.endday,this.minPileDepth,this.mincumulitePileAsh,this.minPileTime,this.maxPileDepth,this.minAverageAsh,this.maxAverageAsh,this.maxCumulitePileAsh,this.maxPileTime).then(e=>{this.tableData=e.content,this.total=e.totalElements,s.close()}),setTimeout(()=>{s.close()},6e3)},handleClick(){const t=this.$loading({lock:!0,text:"\u52A0\u8F7D\u4E2D...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.device="",this.pileDescribe="",this.currentPage=1,B(9999,1,this.tab).then(s=>{this.deviceList=s.result.records,sessionStorage.type=this.tab}),this.startday="",this.endday="",this.conditionsQuery(),S(this.tab,this.currentPage-1,"",this.pageSize,"",this.startday,this.endday,this.minPileDepth,this.mincumulitePileAsh,this.minPileTime).then(s=>{this.tableData=s.content,this.total=s.totalElements,t.close()}),setTimeout(()=>{t.close()},6e3)}}},nt={};var da=L(ma,ca,ha,!1,pa,null,null,null);function pa(t){for(let s in nt)this[s]=nt[s]}var xa=function(){return da.exports}();export{xa as default};

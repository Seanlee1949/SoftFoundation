import{g as Se}from"./gTabs.fe8fc71b.js";import{e as Te,p as Pe,d as Ee,b as Ae,c as pn,f as Ac,q as qi}from"./api.536ee08e.js";import{h as G,i as ie}from"./moment.fa453fbd.js";import{g as Oo,c as We,n as fe}from"./index.fcd41d5e.js";import{_ as Ge,a as qe,b as Ye,c as Ke,d as Oc}from"./c-i1.67ae4128.js";import{b as xt}from"./b4.8568b0da.js";/* empty css                                                          */var Dc={},Lc=Object.freeze(Object.defineProperty({__proto__:null,default:Dc},Symbol.toStringTag,{value:"Module"})),Do=Oo(Lc),fn=typeof We!="undefined"?We:typeof window!="undefined"?window:{},Mc=Do,pi;typeof document!="undefined"?pi=document:(pi=fn["__GLOBAL_DOCUMENT_CACHE@4"],pi||(pi=fn["__GLOBAL_DOCUMENT_CACHE@4"]=Mc));var cr=pi,Us={},Pa={exports:{}},Lo={exports:{}};(function(e,s){(function(t){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,a=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var h=o.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return c.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):u;var p=o.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var f=a.exec(p.path);p.netLoc=f[1],p.path=f[2]}p.netLoc&&!p.path&&(p.path="/");var v={scheme:p.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(v.netLoc=p.netLoc,h.path[0]!=="/"))if(!h.path)v.path=p.path,h.params||(v.params=p.params,h.query||(v.query=p.query));else{var _=p.path,b=_.substring(0,_.lastIndexOf("/")+1)+h.path;v.path=o.normalizePath(b)}return v.path===null&&(v.path=c.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(v)},parseURL:function(l){var u=i.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(r,"");l.length!==(l=l.replace(n,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};e.exports=o})()})(Lo);var fi;typeof window!="undefined"?fi=window:typeof We!="undefined"?fi=We:typeof self!="undefined"?fi=self:fi={};var ve=fi;(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});function t(l){return l&&l.__esModule?l:{default:l}}var i=Lo.exports,a=t(i),r=ve,n=t(r),o=function(u,c){return/^[a-z]+:/i.test(c)?c:(/\/\//i.test(u)||(u=a.default.buildAbsoluteURL(n.default.location.href,u)),a.default.buildAbsoluteURL(u,c))};s.default=o,e.exports=s.default})(Pa,Pa.exports);var mi;typeof window!="undefined"?mi=window:typeof We!="undefined"?mi=We:typeof self!="undefined"?mi=self:mi={};var Nc=mi,mn=typeof We!="undefined"?We:typeof window!="undefined"?window:{},Rc=Do,vi;typeof document!="undefined"?vi=document:(vi=mn["__GLOBAL_DOCUMENT_CACHE@4"],vi||(vi=mn["__GLOBAL_DOCUMENT_CACHE@4"]=Rc));var Fc=vi;function Uc(e){return e.replace(/\n\r?\s*/g,"")}var zc=function(s){for(var t="",i=0;i<arguments.length;i++)t+=Uc(s[i])+(arguments[i+1]||"");return t},Bc=$c;function $c(e,s){var t,i=null;try{t=JSON.parse(e,s)}catch(a){i=a}return[i,t]}var gi;typeof window!="undefined"?gi=window:typeof We!="undefined"?gi=We:typeof self!="undefined"?gi=self:gi={};var jc=gi,Hc=Wc,Vc=Object.prototype.toString;function Wc(e){if(!e)return!1;var s=Vc.call(e);return s==="[object Function]"||typeof e=="function"&&s!=="[object RegExp]"||typeof window!="undefined"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}var na=function(e){return e.replace(/^\s+|\s+$/g,"")},Jc=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Gc=function(e){if(!e)return{};for(var s={},t=na(e).split(`
`),i=0;i<t.length;i++){var a=t[i],r=a.indexOf(":"),n=na(a.slice(0,r)).toLowerCase(),o=na(a.slice(r+1));typeof s[n]=="undefined"?s[n]=o:Jc(s[n])?s[n].push(o):s[n]=[s[n],o]}return s},qc=Kc,Yc=Object.prototype.hasOwnProperty;function Kc(){for(var e={},s=0;s<arguments.length;s++){var t=arguments[s];for(var i in t)Yc.call(t,i)&&(e[i]=t[i])}return e}var Mo=jc,Xc=Hc,Zc=Gc,Qc=qc,ed=ft;ft.XMLHttpRequest=Mo.XMLHttpRequest||ad;ft.XDomainRequest="withCredentials"in new ft.XMLHttpRequest?ft.XMLHttpRequest:Mo.XDomainRequest;td(["get","put","post","patch","head","delete"],function(e){ft[e==="delete"?"del":e]=function(s,t,i){return t=No(s,t,i),t.method=e.toUpperCase(),Ro(t)}});function td(e,s){for(var t=0;t<e.length;t++)s(e[t])}function id(e){for(var s in e)if(e.hasOwnProperty(s))return!1;return!0}function No(e,s,t){var i=e;return Xc(s)?(t=s,typeof e=="string"&&(i={uri:e})):i=Qc(s,{uri:e}),i.callback=t,i}function ft(e,s,t){return s=No(e,s,t),Ro(s)}function Ro(e){if(typeof e.callback=="undefined")throw new Error("callback argument missing");var s=!1,t=function(C,m,T){s||(s=!0,e.callback(C,m,T))};function i(){o.readyState===4&&setTimeout(n,0)}function a(){var S=void 0;if(o.response?S=o.response:S=o.responseText||sd(o),v)try{S=JSON.parse(S)}catch{}return S}function r(S){return clearTimeout(_),S instanceof Error||(S=new Error(""+(S||"Unknown XMLHttpRequest Error"))),S.statusCode=0,t(S,b)}function n(){if(!u){var S;clearTimeout(_),e.useXDR&&o.status===void 0?S=200:S=o.status===1223?204:o.status;var C=b,m=null;return S!==0?(C={body:a(),statusCode:S,method:d,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(C.headers=Zc(o.getAllResponseHeaders()))):m=new Error("Internal XMLHttpRequest Error"),t(m,C,C.body)}}var o=e.xhr||null;o||(e.cors||e.useXDR?o=new ft.XDomainRequest:o=new ft.XMLHttpRequest);var l,u,c=o.url=e.uri||e.url,d=o.method=e.method||"GET",h=e.body||e.data,p=o.headers=e.headers||{},f=!!e.sync,v=!1,_,b={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:o};if("json"in e&&e.json!==!1&&(v=!0,p.accept||p.Accept||(p.Accept="application/json"),d!=="GET"&&d!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(e.json===!0?h:e.json))),o.onreadystatechange=i,o.onload=n,o.onerror=r,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=r,o.open(d,c,!f,e.username,e.password),f||(o.withCredentials=!!e.withCredentials),!f&&e.timeout>0&&(_=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var S=new Error("XMLHttpRequest timeout");S.code="ETIMEDOUT",r(S)}},e.timeout)),o.setRequestHeader)for(l in p)p.hasOwnProperty(l)&&o.setRequestHeader(l,p[l]);else if(e.headers&&!id(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(o.responseType=e.responseType),"beforeSend"in e&&typeof e.beforeSend=="function"&&e.beforeSend(o),o.send(h||null),o}function sd(e){if(e.responseType==="document")return e.responseXML;var s=e.responseXML&&e.responseXML.documentElement.nodeName==="parsererror";return e.responseType===""&&!s?e.responseXML:null}function ad(){}var Fo={exports:{}},dr=Object.create||function(){function e(){}return function(s){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=s,new e}}();function xe(e,s){this.name="ParsingError",this.code=e.code,this.message=s||e.message}xe.prototype=dr(Error.prototype);xe.prototype.constructor=xe;xe.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function hr(e){function s(i,a,r,n){return(i|0)*3600+(a|0)*60+(r|0)+(n|0)/1e3}var t=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?s(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?s(t[1],t[2],0,t[4]):s(0,t[1],t[2],t[4]):null}function yi(){this.values=dr(null)}yi.prototype={set:function(e,s){!this.get(e)&&s!==""&&(this.values[e]=s)},get:function(e,s,t){return t?this.has(e)?this.values[e]:s[t]:this.has(e)?this.values[e]:s},has:function(e){return e in this.values},alt:function(e,s,t){for(var i=0;i<t.length;++i)if(s===t[i]){this.set(e,s);break}},integer:function(e,s){/^-?\d+$/.test(s)&&this.set(e,parseInt(s,10))},percent:function(e,s){return s.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(s=parseFloat(s),s>=0&&s<=100)?(this.set(e,s),!0):!1}};function _i(e,s,t,i){var a=i?e.split(i):[e];for(var r in a)if(typeof a[r]=="string"){var n=a[r].split(t);if(n.length===2){var o=n[0],l=n[1];s(o,l)}}}function rd(e,s,t){var i=e;function a(){var o=hr(e);if(o===null)throw new xe(xe.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),o}function r(o,l){var u=new yi;_i(o,function(c,d){switch(c){case"region":for(var h=t.length-1;h>=0;h--)if(t[h].id===d){u.set(c,t[h].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var p=d.split(","),f=p[0];u.integer(c,f),u.percent(c,f)&&u.set("snapToLines",!1),u.alt(c,f,["auto"]),p.length===2&&u.alt("lineAlign",p[1],["start","middle","end"]);break;case"position":p=d.split(","),u.percent(c,p[0]),p.length===2&&u.alt("positionAlign",p[1],["start","middle","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","middle","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical",""),l.line=u.get("line","auto"),l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100),l.align=u.get("align","middle"),l.position=u.get("position",{start:0,left:0,middle:50,end:100,right:100},l.align),l.positionAlign=u.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},l.align)}function n(){e=e.replace(/^\s+/,"")}if(n(),s.startTime=a(),n(),e.substr(0,3)!=="-->")throw new xe(xe.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);e=e.substr(3),n(),s.endTime=a(),n(),r(e,s)}var nd={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200E","&rlm;":"\u200F","&nbsp;":"\xA0"},od={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},ld={v:"title",lang:"lang"},vn={rt:"ruby"};function Uo(e,s){function t(){if(!s)return null;function f(_){return s=s.substr(_.length),_}var v=s.match(/^([^<]*)(<[^>]*>?)?/);return f(v[1]?v[1]:v[2])}function i(f){return nd[f]}function a(f){for(;p=f.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)f=f.replace(p[0],i);return f}function r(f,v){return!vn[v.localName]||vn[v.localName]===f.localName}function n(f,v){var _=od[f];if(!_)return null;var b=e.document.createElement(_);b.localName=_;var S=ld[f];return S&&v&&(b[S]=v.trim()),b}for(var o=e.document.createElement("div"),l=o,u,c=[];(u=t())!==null;){if(u[0]==="<"){if(u[1]==="/"){c.length&&c[c.length-1]===u.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var d=hr(u.substr(1,u.length-2)),h;if(d){h=e.document.createProcessingInstruction("timestamp",d),l.appendChild(h);continue}var p=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p||(h=n(p[1],p[3]),!h)||!r(l,h))continue;p[2]&&(h.className=p[2].substr(1).replace("."," ")),c.push(p[1]),l.appendChild(h),l=h;continue}l.appendChild(e.document.createTextNode(a(u)))}return o}var gn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function ud(e){for(var s=0;s<gn.length;s++){var t=gn[s];if(e>=t[0]&&e<=t[1])return!0}return!1}function cd(e){var s=[],t="",i;if(!e||!e.childNodes)return"ltr";function a(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function r(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return r(o);if(l.childNodes)return a(o,l),r(o)}for(a(s,e);t=r(s);)for(var n=0;n<t.length;n++)if(i=t.charCodeAt(n),ud(i))return"rtl";return"ltr"}function dd(e){if(typeof e.line=="number"&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var s=e.track,t=s.textTrackList,i=0,a=0;a<t.length&&t[a]!==s;a++)t[a].mode==="showing"&&i++;return++i*-1}function zs(){}zs.prototype.applyStyles=function(e,s){s=s||this.div;for(var t in e)e.hasOwnProperty(t)&&(s.style[t]=e[t])};zs.prototype.formatStyle=function(e,s){return e===0?0:e+s};function hs(e,s,t){var i=/MSIE\s8\.0/.test(navigator.userAgent),a="rgba(255, 255, 255, 1)",r="rgba(0, 0, 0, 0.8)";i&&(a="rgb(255, 255, 255)",r="rgb(0, 0, 0)"),zs.call(this),this.cue=s,this.cueDiv=Uo(e,s.text);var n={color:a,backgroundColor:r,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(n.writingMode=s.vertical===""?"horizontal-tb":s.vertical==="lr"?"vertical-lr":"vertical-rl",n.unicodeBidi="plaintext"),this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={textAlign:s.align==="middle"?"center":s.align,font:t.font,whiteSpace:"pre-line",position:"absolute"},i||(n.direction=cd(this.cueDiv),n.writingMode=s.vertical===""?"horizontal-tb":s.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(n),this.div.appendChild(this.cueDiv);var o=0;switch(s.positionAlign){case"start":o=s.position;break;case"middle":o=s.position-s.size/2;break;case"end":o=s.position-s.size;break}s.vertical===""?this.applyStyles({left:this.formatStyle(o,"%"),width:this.formatStyle(s.size,"%")}):this.applyStyles({top:this.formatStyle(o,"%"),height:this.formatStyle(s.size,"%")}),this.move=function(l){this.applyStyles({top:this.formatStyle(l.top,"px"),bottom:this.formatStyle(l.bottom,"px"),left:this.formatStyle(l.left,"px"),right:this.formatStyle(l.right,"px"),height:this.formatStyle(l.height,"px"),width:this.formatStyle(l.width,"px")})}}hs.prototype=dr(zs.prototype);hs.prototype.constructor=hs;function ye(e){var s=/MSIE\s8\.0/.test(navigator.userAgent),t,i,a,r;if(e.div){i=e.div.offsetHeight,a=e.div.offsetWidth,r=e.div.offsetTop;var n=(n=e.div.childNodes)&&(n=n[0])&&n.getClientRects&&n.getClientRects();e=e.div.getBoundingClientRect(),t=n?Math.max(n[0]&&n[0].height||0,e.height/n.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||i,this.bottom=e.bottom||r+(e.height||i),this.width=e.width||a,this.lineHeight=t!==void 0?t:e.lineHeight,s&&!this.lineHeight&&(this.lineHeight=13)}ye.prototype.move=function(e,s){switch(s=s!==void 0?s:this.lineHeight,e){case"+x":this.left+=s,this.right+=s;break;case"-x":this.left-=s,this.right-=s;break;case"+y":this.top+=s,this.bottom+=s;break;case"-y":this.top-=s,this.bottom-=s;break}};ye.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top};ye.prototype.overlapsAny=function(e){for(var s=0;s<e.length;s++)if(this.overlaps(e[s]))return!0;return!1};ye.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right};ye.prototype.overlapsOppositeAxis=function(e,s){switch(s){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}};ye.prototype.intersectPercentage=function(e){var s=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),t=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),i=s*t;return i/(this.height*this.width)};ye.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}};ye.getSimpleBoxPosition=function(e){var s=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,t=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var a={left:e.left,right:e.right,top:e.top||i,height:e.height||s,bottom:e.bottom||i+(e.height||s),width:e.width||t};return a};function hd(e,s,t,i){function a(_,b){for(var S,C=new ye(_),m=1,T=0;T<b.length;T++){for(;_.overlapsOppositeAxis(t,b[T])||_.within(t)&&_.overlapsAny(i);)_.move(b[T]);if(_.within(t))return _;var g=_.intersectPercentage(t);m>g&&(S=new ye(_),m=g),_=new ye(C)}return S||C}var r=new ye(s),n=s.cue,o=dd(n),l=[];if(n.snapToLines){var u;switch(n.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=r.lineHeight,d=c*Math.round(o),h=t[u]+c,p=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/c)*c),o<0&&(d+=n.vertical===""?t.height:t.width,l=l.reverse()),r.move(p,d)}else{var f=r.lineHeight/t.height*100;switch(n.lineAlign){case"middle":o-=f/2;break;case"end":o-=f;break}switch(n.vertical){case"":s.applyStyles({top:s.formatStyle(o,"%")});break;case"rl":s.applyStyles({left:s.formatStyle(o,"%")});break;case"lr":s.applyStyles({right:s.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],r=new ye(s)}var v=a(r,l);s.move(v.toCSSCompatValues(t))}function ii(){}ii.StringDecoder=function(){return{decode:function(e){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};ii.convertCueToDOMTree=function(e,s){return!e||!s?null:Uo(e,s)};var pd=.05,fd="sans-serif",md="1.5%";ii.processCues=function(e,s,t){if(!e||!s||!t)return null;for(;t.firstChild;)t.removeChild(t.firstChild);var i=e.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=md,t.appendChild(i);function a(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!a(s)){for(var r=0;r<s.length;r++)i.appendChild(s[r].displayState);return}var n=[],o=ye.getSimpleBoxPosition(i),l=Math.round(o.height*pd*100)/100,u={font:l+"px "+fd};(function(){for(var c,d,h=0;h<s.length;h++)d=s[h],c=new hs(e,d,u),i.appendChild(c.div),hd(e,c,o,n),d.displayState=c.div,n.push(ye.getSimpleBoxPosition(c))})()};ii.Parser=function(e,s,t){t||(t=s,s={}),s||(s={}),this.window=e,this.vttjs=s,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]};ii.Parser.prototype={reportOrThrowError:function(e){if(e instanceof xe)this.onparsingerror&&this.onparsingerror(e);else throw e},parse:function(e){var s=this;e&&(s.buffer+=s.decoder.decode(e,{stream:!0}));function t(){for(var c=s.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var h=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,s.buffer=c.substr(d),h}function i(c){var d=new yi;if(_i(c,function(p,f){switch(p){case"id":d.set(p,f);break;case"width":d.percent(p,f);break;case"lines":d.integer(p,f);break;case"regionanchor":case"viewportanchor":var v=f.split(",");if(v.length!==2)break;var _=new yi;if(_.percent("x",v[0]),_.percent("y",v[1]),!_.has("x")||!_.has("y"))break;d.set(p+"X",_.get("x")),d.set(p+"Y",_.get("y"));break;case"scroll":d.alt(p,f,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(s.vttjs.VTTRegion||s.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),s.onregion&&s.onregion(h),s.regionList.push({id:d.get("id"),region:h})}}function a(c){var d=new yi;_i(c,function(h,p){switch(h){case"MPEGT":d.integer(h+"S",p);break;case"LOCA":d.set(h+"L",hr(p));break}},/[^\d]:/,/,/),s.ontimestampmap&&s.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function r(c){c.match(/X-TIMESTAMP-MAP/)?_i(c,function(d,h){switch(d){case"X-TIMESTAMP-MAP":a(h);break}},/=/):_i(c,function(d,h){switch(d){case"Region":i(h);break}},/:/)}try{var n;if(s.state==="INITIAL"){if(!/\r\n|\n/.test(s.buffer))return this;n=t();var o=n.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new xe(xe.Errors.BadSignature);s.state="HEADER"}for(var l=!1;s.buffer;){if(!/\r\n|\n/.test(s.buffer))return this;switch(l?l=!1:n=t(),s.state){case"HEADER":/:/.test(n)?r(n):n||(s.state="ID");continue;case"NOTE":n||(s.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){s.state="NOTE";break}if(!n)continue;if(s.cue=new(s.vttjs.VTTCue||s.window.VTTCue)(0,0,""),s.state="CUE",n.indexOf("-->")===-1){s.cue.id=n;continue}case"CUE":try{rd(n,s.cue,s.regionList)}catch(c){s.reportOrThrowError(c),s.cue=null,s.state="BADCUE";continue}s.state="CUETEXT";continue;case"CUETEXT":var u=n.indexOf("-->")!==-1;if(!n||u&&(l=!0)){s.oncue&&s.oncue(s.cue),s.cue=null,s.state="ID";continue}s.cue.text&&(s.cue.text+=`
`),s.cue.text+=n;continue;case"BADCUE":n||(s.state="ID");continue}}}catch(c){s.reportOrThrowError(c),s.state==="CUETEXT"&&s.cue&&s.oncue&&s.oncue(s.cue),s.cue=null,s.state=s.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL")throw new xe(xe.Errors.BadSignature)}catch(s){e.reportOrThrowError(s)}return e.onflush&&e.onflush(),this}};var vd=ii,gd="auto",_d={"":!0,lr:!0,rl:!0},yd={start:!0,middle:!0,end:!0,left:!0,right:!0};function bd(e){if(typeof e!="string")return!1;var s=_d[e.toLowerCase()];return s?e.toLowerCase():!1}function oa(e){if(typeof e!="string")return!1;var s=yd[e.toLowerCase()];return s?e.toLowerCase():!1}function Ce(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var i in t)e[i]=t[i]}return e}function zo(e,s,t){var i=this,a=/MSIE\s8\.0/.test(navigator.userAgent),r={};a?i=document.createElement("custom"):r.enumerable=!0,i.hasBeenReset=!1;var n="",o=!1,l=e,u=s,c=t,d=null,h="",p=!0,f="auto",v="start",_=50,b="middle",S=50,C="middle";if(Object.defineProperty(i,"id",Ce({},r,{get:function(){return n},set:function(m){n=""+m}})),Object.defineProperty(i,"pauseOnExit",Ce({},r,{get:function(){return o},set:function(m){o=!!m}})),Object.defineProperty(i,"startTime",Ce({},r,{get:function(){return l},set:function(m){if(typeof m!="number")throw new TypeError("Start time must be set to a number.");l=m,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",Ce({},r,{get:function(){return u},set:function(m){if(typeof m!="number")throw new TypeError("End time must be set to a number.");u=m,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",Ce({},r,{get:function(){return c},set:function(m){c=""+m,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",Ce({},r,{get:function(){return d},set:function(m){d=m,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",Ce({},r,{get:function(){return h},set:function(m){var T=bd(m);if(T===!1)throw new SyntaxError("An invalid or illegal string was specified.");h=T,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",Ce({},r,{get:function(){return p},set:function(m){p=!!m,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",Ce({},r,{get:function(){return f},set:function(m){if(typeof m!="number"&&m!==gd)throw new SyntaxError("An invalid number or illegal string was specified.");f=m,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",Ce({},r,{get:function(){return v},set:function(m){var T=oa(m);if(!T)throw new SyntaxError("An invalid or illegal string was specified.");v=T,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",Ce({},r,{get:function(){return _},set:function(m){if(m<0||m>100)throw new Error("Position must be between 0 and 100.");_=m,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",Ce({},r,{get:function(){return b},set:function(m){var T=oa(m);if(!T)throw new SyntaxError("An invalid or illegal string was specified.");b=T,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",Ce({},r,{get:function(){return S},set:function(m){if(m<0||m>100)throw new Error("Size must be between 0 and 100.");S=m,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",Ce({},r,{get:function(){return C},set:function(m){var T=oa(m);if(!T)throw new SyntaxError("An invalid or illegal string was specified.");C=T,this.hasBeenReset=!0}})),i.displayState=void 0,a)return i}zo.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Cd=zo,Sd={"":!0,up:!0};function Td(e){if(typeof e!="string")return!1;var s=Sd[e.toLowerCase()];return s?e.toLowerCase():!1}function ci(e){return typeof e=="number"&&e>=0&&e<=100}function wd(){var e=100,s=3,t=0,i=100,a=0,r=100,n="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(o){if(!ci(o))throw new Error("Width must be between 0 and 100.");e=o}},lines:{enumerable:!0,get:function(){return s},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");s=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!ci(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return t},set:function(o){if(!ci(o))throw new Error("RegionAnchorY must be between 0 and 100.");t=o}},viewportAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!ci(o))throw new Error("ViewportAnchorY must be between 0 and 100.");r=o}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(o){if(!ci(o))throw new Error("ViewportAnchorX must be between 0 and 100.");a=o}},scroll:{enumerable:!0,get:function(){return n},set:function(o){var l=Td(o);if(l===!1)throw new SyntaxError("An invalid or illegal string was specified.");n=l}}})}var xd=wd,at=ve,Lt=Fo.exports={WebVTT:vd,VTTCue:Cd,VTTRegion:xd};at.vttjs=Lt;at.WebVTT=Lt.WebVTT;var kd=Lt.VTTCue,Id=Lt.VTTRegion,Pd=at.VTTCue,Ed=at.VTTRegion;Lt.shim=function(){at.VTTCue=kd,at.VTTRegion=Id};Lt.restore=function(){at.VTTCue=Pd,at.VTTRegion=Ed};at.VTTCue||Lt.shim();/**
 * @license
 * Video.js 6.13.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */function si(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var M=si(Nc),U=si(Fc),pr=si(zc),Ad=si(Bc),Bo=si(ed),_n=si(Fo.exports),$o="6.13.0",pe=M.navigator&&M.navigator.userAgent||"",yn=/AppleWebKit\/([\d.]+)/i.exec(pe),Od=yn?parseFloat(yn.pop()):null,fr=/iPad/i.test(pe),mr=/iPhone/i.test(pe)&&!fr,jo=/iPod/i.test(pe),ot=mr||fr||jo,Dd=function(){var e=pe.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),gt=/Android/i.test(pe),Bs=function(){var e=pe.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var s=e[1]&&parseFloat(e[1]),t=e[2]&&parseFloat(e[2]);return s&&t?parseFloat(e[1]+"."+e[2]):s||null}(),Ho=gt&&/webkit/i.test(pe)&&Bs<2.3,Vo=gt&&Bs<5&&Od<537,Wo=/Firefox/i.test(pe),vr=/Edge/i.test(pe),_t=!vr&&(/Chrome/i.test(pe)||/CriOS/i.test(pe)),Jo=function(){var e=pe.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),le=/MSIE\s8\.0/.test(pe),rt=function(){var e=/MSIE\s(\d+)\.\d/.exec(pe),s=e&&parseFloat(e[1]);return!s&&/Trident\/7.0/i.test(pe)&&/rv:11.0/.test(pe)&&(s=11),s}(),Go=/Safari/i.test(pe)&&!_t&&!gt&&!vr,qo=(Go||ot)&&!_t,ps=yt()&&("ontouchstart"in M||M.navigator.maxTouchPoints||M.DocumentTouch&&M.document instanceof M.DocumentTouch),Yo=yt()&&"backgroundSize"in M.document.createElement("video").style,Ld=(Object.freeze||Object)({IS_IPAD:fr,IS_IPHONE:mr,IS_IPOD:jo,IS_IOS:ot,IOS_VERSION:Dd,IS_ANDROID:gt,ANDROID_VERSION:Bs,IS_OLD_ANDROID:Ho,IS_NATIVE_ANDROID:Vo,IS_FIREFOX:Wo,IS_EDGE:vr,IS_CHROME:_t,CHROME_VERSION:Jo,IS_IE8:le,IE_VERSION:rt,IS_SAFARI:Go,IS_ANY_SAFARI:qo,TOUCH_ENABLED:ps,BACKGROUND_SIZE_SUPPORTED:Yo}),Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$=function(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")},j=function(e,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)},z=function(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:e},gr=function(e,s){return e.raw=s,e},Md=Object.prototype.toString,Ko=function(s){return nt(s)?Object.keys(s):[]};function Vt(e,s){Ko(e).forEach(function(t){return s(e[t],t)})}function Nd(e,s){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ko(e).reduce(function(i,a){return s(i,e[a],a)},t)}function ae(e){for(var s=arguments.length,t=Array(s>1?s-1:0),i=1;i<s;i++)t[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(t)):(t.forEach(function(a){!a||Vt(a,function(r,n){e[n]=r})}),e)}function nt(e){return!!e&&(typeof e=="undefined"?"undefined":Jt(e))==="object"}function Si(e){return nt(e)&&Md.call(e)==="[object Object]"&&e.constructor===Object}var Me=[],Rd=function(s,t){return function(i,a,r,n){var o=t.levels[a],l=new RegExp("^("+o+")$");if(i!=="log"&&r.unshift(i.toUpperCase()+":"),r.unshift(s+":"),Me&&Me.push([].concat(r)),!!M.console){var u=M.console[i];!u&&i==="debug"&&(u=M.console.info||M.console.log),!(!u||!o||!l.test(i))&&(n&&(r=r.map(function(c){if(nt(c)||Array.isArray(c))try{return JSON.stringify(c)}catch{return String(c)}return String(c)}).join(" ")),u.apply?u[Array.isArray(r)?"apply":"call"](M.console,r):u(r))}}};function Xo(e){var s="info",t=void 0,i=function a(){for(var r=a.stringify||rt&&rt<11,n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];t("log",s,o,r)};return t=Rd(e,i),i.createLogger=function(a){return Xo(e+": "+a)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},i.level=function(a){if(typeof a=="string"){if(!i.levels.hasOwnProperty(a))throw new Error('"'+a+'" in not a valid log level');s=a}return s},i.history=function(){return Me?[].concat(Me):[]},i.history.filter=function(a){return(Me||[]).filter(function(r){return new RegExp(".*"+a+".*").test(r[0])})},i.history.clear=function(){Me&&(Me.length=0)},i.history.disable=function(){Me!==null&&(Me.length=0,Me=null)},i.history.enable=function(){Me===null&&(Me=[])},i.error=function(){for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t("error",s,r)},i.warn=function(){for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t("warn",s,r)},i.debug=function(){for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t("debug",s,r)},i}var Z=Xo("VIDEOJS"),Zo=Z.createLogger;function Ea(e,s){if(!e||!s)return"";if(typeof M.getComputedStyle=="function"){var t=M.getComputedStyle(e);return t?t[s]:""}return e.currentStyle[s]||""}var Fd=gr([`Setting attributes in the second argument of createEl()
                has been deprecated. Use the third argument instead.
                createEl(type, properties, attributes). Attempting to set `," to ","."],[`Setting attributes in the second argument of createEl()
                has been deprecated. Use the third argument instead.
                createEl(type, properties, attributes). Attempting to set `," to ","."]);function bn(e){return typeof e=="string"&&/\S/.test(e)}function Qo(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function Ud(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function yt(){return U===M.document&&typeof U.createElement!="undefined"}function Ui(e){return nt(e)&&e.nodeType===1}function el(){try{return M.parent!==M.self}catch{return!0}}function tl(e){return function(s,t){if(!bn(s))return U[e](null);bn(t)&&(t=U.querySelector(t));var i=Ui(t)?t:U;return i[e]&&i[e](s)}}function de(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments[3],a=U.createElement(e);return Object.getOwnPropertyNames(s).forEach(function(r){var n=s[r];r.indexOf("aria-")!==-1||r==="role"||r==="type"?(Z.warn(pr(Fd,r,n)),a.setAttribute(r,n)):r==="textContent"?zi(a,n):a[r]=n}),Object.getOwnPropertyNames(t).forEach(function(r){a.setAttribute(r,t[r])}),i&&br(a,i),a}function zi(e,s){return typeof e.textContent=="undefined"?e.innerText=s:e.textContent=s,e}function fs(e,s){s.firstChild?s.insertBefore(e,s.firstChild):s.appendChild(e)}function kt(e,s){return Qo(s),e.classList?e.classList.contains(s):Ud(s).test(e.className)}function It(e,s){return e.classList?e.classList.add(s):kt(e,s)||(e.className=(e.className+" "+s).trim()),e}function Bi(e,s){return e.classList?e.classList.remove(s):(Qo(s),e.className=e.className.split(/\s+/).filter(function(t){return t!==s}).join(" ")),e}function il(e,s,t){var i=kt(e,s);if(typeof t=="function"&&(t=t(e,s)),typeof t!="boolean"&&(t=!i),t!==i)return t?It(e,s):Bi(e,s),e}function sl(e,s){Object.getOwnPropertyNames(s).forEach(function(t){var i=s[t];i===null||typeof i=="undefined"||i===!1?e.removeAttribute(t):e.setAttribute(t,i===!0?"":i)})}function et(e){var s={},t=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var i=e.attributes,a=i.length-1;a>=0;a--){var r=i[a].name,n=i[a].value;(typeof e[r]=="boolean"||t.indexOf(","+r+",")!==-1)&&(n=n!==null),s[r]=n}return s}function al(e,s){return e.getAttribute(s)}function Ti(e,s,t){e.setAttribute(s,t)}function $s(e,s){e.removeAttribute(s)}function rl(){U.body.focus(),U.onselectstart=function(){return!1}}function nl(){U.onselectstart=function(){return!0}}function wi(e){if(e&&e.getBoundingClientRect&&e.parentNode){var s=e.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(function(i){s[i]!==void 0&&(t[i]=s[i])}),t.height||(t.height=parseFloat(Ea(e,"height"))),t.width||(t.width=parseFloat(Ea(e,"width"))),t}}function ol(e){var s=void 0;if(e.getBoundingClientRect&&e.parentNode&&(s=e.getBoundingClientRect()),!s)return{left:0,top:0};var t=U.documentElement,i=U.body,a=t.clientLeft||i.clientLeft||0,r=M.pageXOffset||i.scrollLeft,n=s.left+r-a,o=t.clientTop||i.clientTop||0,l=M.pageYOffset||i.scrollTop,u=s.top+l-o;return{left:Math.round(n),top:Math.round(u)}}function _r(e,s){var t={},i=ol(e),a=e.offsetWidth,r=e.offsetHeight,n=i.top,o=i.left,l=s.pageY,u=s.pageX;return s.changedTouches&&(u=s.changedTouches[0].pageX,l=s.changedTouches[0].pageY),t.y=Math.max(0,Math.min(1,(n-l+r)/r)),t.x=Math.max(0,Math.min(1,(u-o)/a)),t}function ll(e){return nt(e)&&e.nodeType===3}function yr(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function ul(e){return typeof e=="function"&&(e=e()),(Array.isArray(e)?e:[e]).map(function(s){if(typeof s=="function"&&(s=s()),Ui(s)||ll(s))return s;if(typeof s=="string"&&/\S/.test(s))return U.createTextNode(s)}).filter(function(s){return s})}function br(e,s){return ul(s).forEach(function(t){return e.appendChild(t)}),e}function cl(e,s){return br(yr(e),s)}function Gt(e){return e.button===void 0&&e.buttons===void 0||e.button===0&&e.buttons===void 0||rt===9?!0:!(e.button!==0||e.buttons!==1)}var vt=tl("querySelector"),dl=tl("querySelectorAll"),hl=(Object.freeze||Object)({isReal:yt,isEl:Ui,isInFrame:el,createEl:de,textContent:zi,prependTo:fs,hasClass:kt,addClass:It,removeClass:Bi,toggleClass:il,setAttributes:sl,getAttributes:et,getAttribute:al,setAttribute:Ti,removeAttribute:$s,blockTextSelection:rl,unblockTextSelection:nl,getBoundingClientRect:wi,findPosition:ol,getPointerPosition:_r,isTextNode:ll,emptyEl:yr,normalizeContent:ul,appendContent:br,insertContent:cl,isSingleLeftClick:Gt,$:vt,$$:dl}),zd=1;function Mt(){return zd++}var bi={},wt="vdata"+new Date().getTime();function xi(e){var s=e[wt];return s||(s=e[wt]=Mt()),bi[s]||(bi[s]={}),bi[s]}function pl(e){var s=e[wt];return s?!!Object.getOwnPropertyNames(bi[s]).length:!1}function fl(e){var s=e[wt];if(!!s){delete bi[s];try{delete e[wt]}catch{e.removeAttribute?e.removeAttribute(wt):e[wt]=null}}}function Cn(e,s){var t=xi(e);t.handlers[s].length===0&&(delete t.handlers[s],e.removeEventListener?e.removeEventListener(s,t.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+s,t.dispatcher)),Object.getOwnPropertyNames(t.handlers).length<=0&&(delete t.handlers,delete t.dispatcher,delete t.disabled),Object.getOwnPropertyNames(t).length===0&&fl(e)}function Cr(e,s,t,i){t.forEach(function(a){e(s,a,i)})}function js(e){function s(){return!0}function t(){return!1}if(!e||!e.isPropagationStopped){var i=e||M.event;e={};for(var a in i)a!=="layerX"&&a!=="layerY"&&a!=="keyLocation"&&a!=="webkitMovementX"&&a!=="webkitMovementY"&&(a==="returnValue"&&i.preventDefault||(e[a]=i[a]));if(e.target||(e.target=e.srcElement||U),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=s},e.isPropagationStopped=t,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=s,e.stopPropagation()},e.isImmediatePropagationStopped=t,e.clientX!==null&&e.clientX!==void 0){var r=U.documentElement,n=U.body;e.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)}e.which=e.charCode||e.keyCode,e.button!==null&&e.button!==void 0&&(e.button=e.button&1?0:e.button&4?1:e.button&2?2:0)}return e}var ml=!1;(function(){try{var e=Object.defineProperty({},"passive",{get:function(){ml=!0}});M.addEventListener("test",null,e),M.removeEventListener("test",null,e)}catch{}})();var Bd=["touchstart","touchmove"];function $e(e,s,t){if(Array.isArray(s))return Cr($e,e,s,t);var i=xi(e);if(i.handlers||(i.handlers={}),i.handlers[s]||(i.handlers[s]=[]),t.guid||(t.guid=Mt()),i.handlers[s].push(t),i.dispatcher||(i.disabled=!1,i.dispatcher=function(r,n){if(!i.disabled){r=js(r);var o=i.handlers[r.type];if(o)for(var l=o.slice(0),u=0,c=l.length;u<c&&!r.isImmediatePropagationStopped();u++)try{l[u].call(e,r,n)}catch(d){Z.error(d)}}}),i.handlers[s].length===1)if(e.addEventListener){var a=!1;ml&&Bd.indexOf(s)>-1&&(a={passive:!0}),e.addEventListener(s,i.dispatcher,a)}else e.attachEvent&&e.attachEvent("on"+s,i.dispatcher)}function Ie(e,s,t){if(!!pl(e)){var i=xi(e);if(!!i.handlers){if(Array.isArray(s))return Cr(Ie,e,s,t);var a=function(u,c){i.handlers[c]=[],Cn(u,c)};if(s===void 0){for(var r in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},r)&&a(e,r);return}var n=i.handlers[s];if(!!n){if(!t){a(e,s);return}if(t.guid)for(var o=0;o<n.length;o++)n[o].guid===t.guid&&n.splice(o--,1);Cn(e,s)}}}}function ai(e,s,t){var i=pl(e)?xi(e):{},a=e.parentNode||e.ownerDocument;if(typeof s=="string"?s={type:s,target:e}:s.target||(s.target=e),s=js(s),i.dispatcher&&i.dispatcher.call(e,s,t),a&&!s.isPropagationStopped()&&s.bubbles===!0)ai.call(null,a,s,t);else if(!a&&!s.defaultPrevented){var r=xi(s.target);s.target[s.type]&&(r.disabled=!0,typeof s.target[s.type]=="function"&&s.target[s.type](),r.disabled=!1)}return!s.defaultPrevented}function $i(e,s,t){if(Array.isArray(s))return Cr($i,e,s,t);var i=function a(){Ie(e,s,a),t.apply(this,arguments)};i.guid=t.guid=t.guid||Mt(),$e(e,s,i)}var $d=(Object.freeze||Object)({fixEvent:js,on:$e,off:Ie,trigger:ai,one:$i}),Aa=!1,Oa=void 0,jd=function(){if(!(!yt()||Oa.options.autoSetup===!1)){var s=U.getElementsByTagName("video"),t=U.getElementsByTagName("audio"),i=U.getElementsByTagName("video-js"),a=[];if(s&&s.length>0)for(var r=0,n=s.length;r<n;r++)a.push(s[r]);if(t&&t.length>0)for(var o=0,l=t.length;o<l;o++)a.push(t[o]);if(i&&i.length>0)for(var u=0,c=i.length;u<c;u++)a.push(i[u]);if(a&&a.length>0)for(var d=0,h=a.length;d<h;d++){var p=a[d];if(p&&p.getAttribute){if(p.player===void 0){var f=p.getAttribute("data-setup");f!==null&&Oa(p)}}else{Da(1);break}}else Aa||Da(1)}};function Da(e,s){s&&(Oa=s),M.setTimeout(jd,e)}yt()&&U.readyState==="complete"?Aa=!0:$i(M,"load",function(){Aa=!0});var vl=function(s){var t=U.createElement("style");return t.className=s,t},gl=function(s,t){s.styleSheet?s.styleSheet.cssText=t:s.textContent=t},Y=function(s,t,i){t.guid||(t.guid=Mt());var a=function(){return t.apply(s,arguments)};return a.guid=i?i+"_"+t.guid:t.guid,a},qt=function(s,t){var i=Date.now(),a=function(){var n=Date.now();n-i>=t&&(s.apply(void 0,arguments),i=n)};return a},Hd=function(s,t,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M,r=void 0,n=function(){a.clearTimeout(r),r=null},o=function(){var u=this,c=arguments,d=function(){r=null,d=null,i||s.apply(u,c)};!r&&i&&s.apply(u,c),a.clearTimeout(r),r=a.setTimeout(d,t)};return o.cancel=n,o},me=function(){};me.prototype.allowedEvents_={};me.prototype.on=function(e,s){var t=this.addEventListener;this.addEventListener=function(){},$e(this,e,s),this.addEventListener=t};me.prototype.addEventListener=me.prototype.on;me.prototype.off=function(e,s){Ie(this,e,s)};me.prototype.removeEventListener=me.prototype.off;me.prototype.one=function(e,s){var t=this.addEventListener;this.addEventListener=function(){},$i(this,e,s),this.addEventListener=t};me.prototype.trigger=function(e){var s=e.type||e;typeof e=="string"&&(e={type:s}),e=js(e),this.allowedEvents_[s]&&this["on"+s]&&this["on"+s](e),ai(this,e)};me.prototype.dispatchEvent=me.prototype.trigger;var Hs=function(s){return s instanceof me||!!s.eventBusEl_&&["on","one","off","trigger"].every(function(t){return typeof s[t]=="function"})},_l=function(s){return typeof s=="string"&&/\S/.test(s)||Array.isArray(s)&&!!s.length},Sr=function(s){if(!s.nodeName&&!Hs(s))throw new Error("Invalid target; must be a DOM node or evented object.")},yl=function(s){if(!_l(s))throw new Error("Invalid event type; must be a non-empty string or array.")},bl=function(s){if(typeof s!="function")throw new Error("Invalid listener; must be a function.")},Sn=function(s,t){var i=t.length<3||t[0]===s||t[0]===s.eventBusEl_,a=void 0,r=void 0,n=void 0;return i?(a=s.eventBusEl_,t.length>=3&&t.shift(),r=t[0],n=t[1]):(a=t[0],r=t[1],n=t[2]),Sr(a),yl(r),bl(n),n=Y(s,n),{isTargetingSelf:i,target:a,type:r,listener:n}},di=function(s,t,i,a){Sr(s),s.nodeName?$d[t](s,i,a):s[t](i,a)},Vd={on:function(){for(var s=this,t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var r=Sn(this,i),n=r.isTargetingSelf,o=r.target,l=r.type,u=r.listener;if(di(o,"on",l,u),!n){var c=function(){return s.off(o,l,u)};c.guid=u.guid;var d=function(){return s.off("dispose",c)};d.guid=u.guid,di(this,"on","dispose",c),di(o,"on","dispose",d)}},one:function(){for(var s=this,t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var r=Sn(this,i),n=r.isTargetingSelf,o=r.target,l=r.type,u=r.listener;if(n)di(o,"one",l,u);else{var c=function d(){for(var h=arguments.length,p=Array(h),f=0;f<h;f++)p[f]=arguments[f];s.off(o,l,d),u.apply(null,p)};c.guid=u.guid,di(o,"one",l,c)}},off:function(s,t,i){if(!s||_l(s))Ie(this.eventBusEl_,s,t);else{var a=s,r=t;Sr(a),yl(r),bl(i),i=Y(this,i),this.off("dispose",i),a.nodeName?(Ie(a,r,i),Ie(a,"dispose",i)):Hs(a)&&(a.off(r,i),a.off("dispose",i))}},trigger:function(s,t){return ai(this.eventBusEl_,s,t)}};function Tr(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=s.eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=de("span",{className:"vjs-event-bus"});return ae(e,Vd),e.on("dispose",function(){e.off(),M.setTimeout(function(){e.eventBusEl_=null},0)}),e}var Wd={state:{},setState:function(s){var t=this;typeof s=="function"&&(s=s());var i=void 0;return Vt(s,function(a,r){t.state[r]!==a&&(i=i||{},i[r]={from:t.state[r],to:a}),t.state[r]=a}),i&&Hs(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function Cl(e,s){return ae(e,Wd),e.state=ae({},e.state,s),typeof e.handleStateChanged=="function"&&Hs(e)&&e.on("statechanged",e.handleStateChanged),e}function oe(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}function Jd(e,s){return oe(e)===oe(s)}function re(){for(var e={},s=arguments.length,t=Array(s),i=0;i<s;i++)t[i]=arguments[i];return t.forEach(function(a){!a||Vt(a,function(r,n){if(!Si(r)){e[n]=r;return}Si(e[n])||(e[n]={}),e[n]=re(e[n],r)})}),e}var R=function(){function e(s,t,i){if($(this,e),!s&&this.play?this.player_=s=this:this.player_=s,this.options_=re({},this.options_),t=this.options_=re(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var a=s&&s.id&&s.id()||"no_player";this.id_=a+"_component_"+Mt()}this.name_=t.name||null,t.el?this.el_=t.el:t.createEl!==!1&&(this.el_=this.createEl()),t.evented!==!1&&Tr(this,{eventBusKey:this.el_?"el_":null}),Cl(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},t.initChildren!==!1&&this.initChildren(),this.ready(i),t.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),fl(this.el_),this.el_=null),this.player_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(t){return Z.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=re(this.options_,t),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(t,i,a){return de(t,i,a)},e.prototype.localize=function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,r=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages(),o=n&&n[r],l=r&&r.split("-")[0],u=n&&n[l],c=a;return o&&o[t]?c=o[t]:u&&u[t]&&(c=u[t]),i&&(c=c.replace(/\{(\d+)\}/g,function(d,h){var p=i[h-1],f=p;return typeof p=="undefined"&&(f=d),f})),c},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(t){return this.childIndex_[t]},e.prototype.getChild=function(t){if(!!t)return t=oe(t),this.childNameIndex_[t]},e.prototype.addChild=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.children_.length,r=void 0,n=void 0;if(typeof t=="string"){n=oe(t);var o=i.componentClass||n;i.name=n;var l=e.getComponent(o);if(!l)throw new Error("Component "+o+" does not exist");if(typeof l!="function")return null;r=new l(this.player_||this,i)}else r=t;if(this.children_.splice(a,0,r),typeof r.id=="function"&&(this.childIndex_[r.id()]=r),n=n||r.name&&oe(r.name()),n&&(this.childNameIndex_[n]=r),typeof r.el=="function"&&r.el()){var u=this.contentEl().children,c=u[a]||null;this.contentEl().insertBefore(r.el(),c)}return r},e.prototype.removeChild=function(t){if(typeof t=="string"&&(t=this.getChild(t)),!(!t||!this.children_)){for(var i=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===t){i=!0,this.children_.splice(a,1);break}if(!!i){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.prototype.initChildren=function(){var t=this,i=this.options_.children;if(i){var a=this.options_,r=function(u){var c=u.name,d=u.opts;if(a[c]!==void 0&&(d=a[c]),d!==!1){d===!0&&(d={}),d.playerOptions=t.options_.playerOptions;var h=t.addChild(c,d);h&&(t[c]=h)}},n=void 0,o=e.getComponent("Tech");Array.isArray(i)?n=i:n=Object.keys(i),n.concat(Object.keys(this.options_).filter(function(l){return!n.some(function(u){return typeof u=="string"?l===u:l===u.name})})).map(function(l){var u=void 0,c=void 0;return typeof l=="string"?(u=l,c=i[u]||t.options_[u]||{}):(u=l.name,c=l),{name:u,opts:c}}).filter(function(l){var u=e.getComponent(l.opts.componentClass||oe(l.name));return u&&!o.isTech(u)}).forEach(r)}},e.prototype.buildCSSClass=function(){return""},e.prototype.ready=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!!t){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t);return}i?t.call(this):this.setTimeout(t,1)}},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(t,i){return vt(t,i||this.contentEl())},e.prototype.$$=function(t,i){return dl(t,i||this.contentEl())},e.prototype.hasClass=function(t){return kt(this.el_,t)},e.prototype.addClass=function(t){It(this.el_,t)},e.prototype.removeClass=function(t){Bi(this.el_,t)},e.prototype.toggleClass=function(t,i){il(this.el_,t,i)},e.prototype.show=function(){this.removeClass("vjs-hidden")},e.prototype.hide=function(){this.addClass("vjs-hidden")},e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.prototype.getAttribute=function(t){return al(this.el_,t)},e.prototype.setAttribute=function(t,i){Ti(this.el_,t,i)},e.prototype.removeAttribute=function(t){$s(this.el_,t)},e.prototype.width=function(t,i){return this.dimension("width",t,i)},e.prototype.height=function(t,i){return this.dimension("height",t,i)},e.prototype.dimensions=function(t,i){this.width(t,!0),this.height(i)},e.prototype.dimension=function(t,i,a){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[t]=i:i==="auto"?this.el_.style[t]="":this.el_.style[t]=i+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var r=this.el_.style[t],n=r.indexOf("px");return parseInt(n!==-1?r.slice(0,n):this.el_["offset"+oe(t)],10)},e.prototype.currentDimension=function(t){var i=0;if(t!=="width"&&t!=="height")throw new Error("currentDimension only accepts width or height value");if(typeof M.getComputedStyle=="function"){var a=M.getComputedStyle(this.el_);i=a.getPropertyValue(t)||a[t]}if(i=parseFloat(i),i===0){var r="offset"+oe(t);i=this.el_[r]}return i},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var t=0,i=null,a=10,r=200,n=void 0;this.on("touchstart",function(l){l.touches.length===1&&(i={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY},t=new Date().getTime(),n=!0)}),this.on("touchmove",function(l){if(l.touches.length>1)n=!1;else if(i){var u=l.touches[0].pageX-i.pageX,c=l.touches[0].pageY-i.pageY,d=Math.sqrt(u*u+c*c);d>a&&(n=!1)}});var o=function(){n=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(l){if(i=null,n===!0){var u=new Date().getTime()-t;u<r&&(l.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var t=Y(this.player(),this.player().reportUserActivity),i=void 0;this.on("touchstart",function(){t(),this.clearInterval(i),i=this.setInterval(t,250)});var a=function(n){t(),this.clearInterval(i)};this.on("touchmove",t),this.on("touchend",a),this.on("touchcancel",a)}},e.prototype.setTimeout=function(t,i){var a=this,r,n;return t=Y(this,t),r=M.setTimeout(function(){a.off("dispose",n),t()},i),n=function(){return a.clearTimeout(r)},n.guid="vjs-timeout-"+r,this.on("dispose",n),r},e.prototype.clearTimeout=function(t){M.clearTimeout(t);var i=function(){};return i.guid="vjs-timeout-"+t,this.off("dispose",i),t},e.prototype.setInterval=function(t,i){var a=this;t=Y(this,t);var r=M.setInterval(t,i),n=function(){return a.clearInterval(r)};return n.guid="vjs-interval-"+r,this.on("dispose",n),r},e.prototype.clearInterval=function(t){M.clearInterval(t);var i=function(){};return i.guid="vjs-interval-"+t,this.off("dispose",i),t},e.prototype.requestAnimationFrame=function(t){var i=this,a,r;return this.supportsRaf_?(t=Y(this,t),a=M.requestAnimationFrame(function(){i.off("dispose",r),t()}),r=function(){return i.cancelAnimationFrame(a)},r.guid="vjs-raf-"+a,this.on("dispose",r),a):this.setTimeout(t,1e3/60)},e.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){M.cancelAnimationFrame(t);var i=function(){};return i.guid="vjs-raf-"+t,this.off("dispose",i),t}return this.clearTimeout(t)},e.registerComponent=function(t,i){if(typeof t!="string"||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var a=e.getComponent("Tech"),r=a&&a.isTech(i),n=e===i||e.prototype.isPrototypeOf(i.prototype);if(r||!n){var o=void 0;throw r?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error('Illegal component, "'+t+'"; '+o+".")}t=oe(t),e.components_||(e.components_={});var l=e.getComponent("Player");if(t==="Player"&&l&&l.players){var u=l.players,c=Object.keys(u);if(u&&c.length>0&&c.map(function(d){return u[d]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=i,i},e.getComponent=function(t){if(!!t&&(t=oe(t),e.components_&&e.components_[t]))return e.components_[t]},e}();R.prototype.supportsRaf_=typeof M.requestAnimationFrame=="function"&&typeof M.cancelAnimationFrame=="function";R.registerComponent("Component",R);function Gd(e,s,t){if(typeof s!="number"||s<0||s>t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+s+") is non-numeric or out of bounds (0-"+t+").")}function Tn(e,s,t,i){return Gd(e,i,t.length-1),t[i][s]}function la(e){return e===void 0||e.length===0?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Tn.bind(null,"start",0,e),end:Tn.bind(null,"end",1,e)}}function Pt(e,s){return Array.isArray(e)?la(e):e===void 0||s===void 0?la():la([[e,s]])}function Sl(e,s){var t=0,i=void 0,a=void 0;if(!s)return 0;(!e||!e.length)&&(e=Pt(0,0));for(var r=0;r<e.length;r++)i=e.start(r),a=e.end(r),a>s&&(a=s),t+=a-i;return t/s}var ms={},ns=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],qd=ns[0],os=void 0;for(var Yi=0;Yi<ns.length;Yi++)if(ns[Yi][1]in U){os=ns[Yi];break}if(os)for(var Ki=0;Ki<os.length;Ki++)ms[qd[Ki]]=os[Ki];function be(e){if(e instanceof be)return e;typeof e=="number"?this.code=e:typeof e=="string"?this.message=e:nt(e)&&(typeof e.code=="number"&&(this.code=e.code),ae(this,e)),this.message||(this.message=be.defaultMessages[this.code]||"")}be.prototype.code=0;be.prototype.message="";be.prototype.status=null;be.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];be.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ft=0;Ft<be.errorTypes.length;Ft++)be[be.errorTypes[Ft]]=Ft,be.prototype[be.errorTypes[Ft]]=Ft;function Tl(e){return e!=null&&typeof e.then=="function"}function ki(e){Tl(e)&&e.then(null,function(s){})}var La=function(s){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,a,r){return s[a]&&(i[a]=s[a]),i},{cues:s.cues&&Array.prototype.map.call(s.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return t},Yd=function(s){var t=s.$$("track"),i=Array.prototype.map.call(t,function(r){return r.track}),a=Array.prototype.map.call(t,function(r){var n=La(r.track);return r.src&&(n.src=r.src),n});return a.concat(Array.prototype.filter.call(s.textTracks(),function(r){return i.indexOf(r)===-1}).map(La))},Kd=function(s,t){return s.forEach(function(i){var a=t.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(r){return a.addCue(r)})}),t.textTracks()},wn={textTracksToJson:Yd,jsonToTextTracks:Kd,trackToJson_:La},ua="vjs-modal-dialog",Xd=27,ri=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=de("div",{className:ua+"-content"},{role:"document"}),a.descEl_=de("p",{className:ua+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),zi(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},s.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},s.prototype.buildCSSClass=function(){return ua+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},s.prototype.handleKeyPress=function(i){i.which===Xd&&this.closeable()&&this.close()},s.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},s.prototype.description=function(){var i=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(i+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),i},s.prototype.open=function(){if(!this.opened_){var i=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!i.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&i.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Y(this,this.handleKeyPress)),this.hadControls_=i.controls(),i.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},s.prototype.opened=function(i){return typeof i=="boolean"&&this[i?"open":"close"](),this.opened_},s.prototype.close=function(){if(!!this.opened_){var i=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&i.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Y(this,this.handleKeyPress)),this.hadControls_&&i.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},s.prototype.closeable=function(i){if(typeof i=="boolean"){var a=this.closeable_=!!i,r=this.getChild("closeButton");if(a&&!r){var n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close)}!a&&r&&(this.off(r,"close",this.close),this.removeChild(r),r.dispose())}return this.closeable_},s.prototype.fill=function(){this.fillWith(this.content())},s.prototype.fillWith=function(i){var a=this.contentEl(),r=a.parentNode,n=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(a),this.empty(),cl(a,i),this.trigger("modalfill"),n?r.insertBefore(a,n):r.appendChild(a);var o=this.getChild("closeButton");o&&r.appendChild(o.el_)},s.prototype.empty=function(){this.trigger("beforemodalempty"),yr(this.contentEl()),this.trigger("modalempty")},s.prototype.content=function(i){return typeof i!="undefined"&&(this.content_=i),this.content_},s.prototype.conditionalFocus_=function(){var i=U.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(i)||a===i)&&(this.previouslyActiveEl_=i,this.focus(),this.on(U,"keydown",this.handleKeyDown))},s.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(U,"keydown",this.handleKeyDown)},s.prototype.handleKeyDown=function(i){if(i.which===9){for(var a=this.focusableEls_(),r=this.el_.querySelector(":focus"),n=void 0,o=0;o<a.length;o++)if(r===a[o]){n=o;break}U.activeElement===this.el_&&(n=0),i.shiftKey&&n===0?(a[a.length-1].focus(),i.preventDefault()):!i.shiftKey&&n===a.length-1&&(a[0].focus(),i.preventDefault())}},s.prototype.focusableEls_=function(){var i=this.el_.querySelectorAll("*");return Array.prototype.filter.call(i,function(a){return(a instanceof M.HTMLAnchorElement||a instanceof M.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof M.HTMLInputElement||a instanceof M.HTMLSelectElement||a instanceof M.HTMLTextAreaElement||a instanceof M.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof M.HTMLIFrameElement||a instanceof M.HTMLObjectElement||a instanceof M.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},s}(R);ri.prototype.options_={pauseOnOpen:!0,temporary:!0};R.registerComponent("ModalDialog",ri);var Re=function(e){j(s,e);function s(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;$(this,s);var r=z(this,e.call(this));if(!a&&(a=r,le)){a=U.createElement("custom");for(var n in s.prototype)n!=="constructor"&&(a[n]=s.prototype[n])}a.tracks_=[],Object.defineProperty(a,"length",{get:function(){return this.tracks_.length}});for(var o=0;o<t.length;o++)a.addTrack(t[o]);return i=a,z(r,i)}return s.prototype.addTrack=function(i){var a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(i)===-1&&(this.tracks_.push(i),this.trigger({track:i,type:"addtrack"}))},s.prototype.removeTrack=function(i){for(var a=void 0,r=0,n=this.length;r<n;r++)if(this[r]===i){a=this[r],a.off&&a.off(),this.tracks_.splice(r,1);break}!a||this.trigger({track:a,type:"removetrack"})},s.prototype.getTrackById=function(i){for(var a=null,r=0,n=this.length;r<n;r++){var o=this[r];if(o.id===i){a=o;break}}return a},s}(me);Re.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var Zd in Re.prototype.allowedEvents_)Re.prototype["on"+Zd]=null;var ca=function(s,t){for(var i=0;i<s.length;i++)!Object.keys(s[i]).length||t.id===s[i].id||(s[i].enabled=!1)},Qd=function(e){j(s,e);function s(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];$(this,s);for(var r=void 0,n=a.length-1;n>=0;n--)if(a[n].enabled){ca(a,a[n]);break}if(le){r=U.createElement("custom");for(var o in Re.prototype)o!=="constructor"&&(r[o]=Re.prototype[o]);for(var l in s.prototype)l!=="constructor"&&(r[l]=s.prototype[l])}return r=(t=z(this,e.call(this,a,r)),t),r.changing_=!1,i=r,z(t,i)}return s.prototype.addTrack=function(i){var a=this;i.enabled&&ca(this,i),e.prototype.addTrack.call(this,i),i.addEventListener&&i.addEventListener("enabledchange",function(){a.changing_||(a.changing_=!0,ca(a,i),a.changing_=!1,a.trigger("change"))})},s}(Re),da=function(s,t){for(var i=0;i<s.length;i++)!Object.keys(s[i]).length||t.id===s[i].id||(s[i].selected=!1)},eh=function(e){j(s,e);function s(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];$(this,s);for(var r=void 0,n=a.length-1;n>=0;n--)if(a[n].selected){da(a,a[n]);break}if(le){r=U.createElement("custom");for(var o in Re.prototype)o!=="constructor"&&(r[o]=Re.prototype[o]);for(var l in s.prototype)l!=="constructor"&&(r[l]=s.prototype[l])}return r=(t=z(this,e.call(this,a,r)),t),r.changing_=!1,Object.defineProperty(r,"selectedIndex",{get:function(){for(var c=0;c<this.length;c++)if(this[c].selected)return c;return-1},set:function(){}}),i=r,z(t,i)}return s.prototype.addTrack=function(i){var a=this;i.selected&&da(this,i),e.prototype.addTrack.call(this,i),i.addEventListener&&i.addEventListener("selectedchange",function(){a.changing_||(a.changing_=!0,da(a,i),a.changing_=!1,a.trigger("change"))})},s}(Re),wl=function(e){j(s,e);function s(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];$(this,s);var r=void 0;if(le){r=U.createElement("custom");for(var n in Re.prototype)n!=="constructor"&&(r[n]=Re.prototype[n]);for(var o in s.prototype)o!=="constructor"&&(r[o]=s.prototype[o])}return r=(t=z(this,e.call(this,a,r)),t),i=r,z(t,i)}return s.prototype.addTrack=function(i){e.prototype.addTrack.call(this,i),i.addEventListener("modechange",Y(this,function(){this.trigger("change")}));var a=["metadata","chapters"];a.indexOf(i.kind)===-1&&i.addEventListener("modechange",Y(this,function(){this.trigger("selectedlanguagechange")}))},s}(Re),th=function(){function e(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];$(this,e);var t=this;if(le){t=U.createElement("custom");for(var i in e.prototype)i!=="constructor"&&(t[i]=e.prototype[i])}t.trackElements_=[],Object.defineProperty(t,"length",{get:function(){return this.trackElements_.length}});for(var a=0,r=s.length;a<r;a++)t.addTrackElement_(s[a]);if(le)return t}return e.prototype.addTrackElement_=function(t){var i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get:function(){return this.trackElements_[i]}}),this.trackElements_.indexOf(t)===-1&&this.trackElements_.push(t)},e.prototype.getTrackElementByTrack_=function(t){for(var i=void 0,a=0,r=this.trackElements_.length;a<r;a++)if(t===this.trackElements_[a].track){i=this.trackElements_[a];break}return i},e.prototype.removeTrackElement_=function(t){for(var i=0,a=this.trackElements_.length;i<a;i++)if(t===this.trackElements_[i]){this.trackElements_.splice(i,1);break}},e}(),xn=function(){function e(s){$(this,e);var t=this;if(le){t=U.createElement("custom");for(var i in e.prototype)i!=="constructor"&&(t[i]=e.prototype[i])}if(e.prototype.setCues_.call(t,s),Object.defineProperty(t,"length",{get:function(){return this.length_}}),le)return t}return e.prototype.setCues_=function(t){var i=this.length||0,a=0,r=t.length;this.cues_=t,this.length_=t.length;var n=function(l){""+l in this||Object.defineProperty(this,""+l,{get:function(){return this.cues_[l]}})};if(i<r)for(a=i;a<r;a++)n.call(this,a)},e.prototype.getCueById=function(t){for(var i=null,a=0,r=this.length;a<r;a++){var n=this[a];if(n.id===t){i=n;break}}return i},e}(),ih={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},sh={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ah={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},kn={disabled:"disabled",hidden:"hidden",showing:"showing"},wr=function(e){j(s,e);function s(){var t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$(this,s);var a=z(this,e.call(this)),r=a;if(le){r=U.createElement("custom");for(var n in s.prototype)n!=="constructor"&&(r[n]=s.prototype[n])}var o={id:i.id||"vjs_track_"+Mt(),kind:i.kind||"",label:i.label||"",language:i.language||""},l=function(d){Object.defineProperty(r,d,{get:function(){return o[d]},set:function(){}})};for(var u in o)l(u);return t=r,z(a,t)}return s}(me),xr=function(s){var t=["protocol","hostname","port","pathname","search","hash","host"],i=U.createElement("a");i.href=s;var a=i.host===""&&i.protocol!=="file:",r=void 0;a&&(r=U.createElement("div"),r.innerHTML='<a href="'+s+'"></a>',i=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),U.body.appendChild(r));for(var n={},o=0;o<t.length;o++)n[t[o]]=i[t[o]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=M.location.protocol),a&&U.body.removeChild(r),n},xl=function(s){if(!s.match(/^https?:\/\//)){var t=U.createElement("div");t.innerHTML='<a href="'+s+'">x</a>',s=t.firstChild.href}return s},kr=function(s){if(typeof s=="string"){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,i=t.exec(s);if(i)return i.pop().toLowerCase()}return""},Vs=function(s){var t=M.location,i=xr(s),a=i.protocol===":"?t.protocol:i.protocol,r=a+i.host!==t.protocol+t.host;return r},rh=(Object.freeze||Object)({parseUrl:xr,getAbsoluteURL:xl,getFileExtension:kr,isCrossOrigin:Vs}),In=function(s,t){var i=new M.WebVTT.Parser(M,M.vttjs,M.WebVTT.StringDecoder()),a=[];i.oncue=function(r){t.addCue(r)},i.onparsingerror=function(r){a.push(r)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(s),a.length>0&&(M.console&&M.console.groupCollapsed&&M.console.groupCollapsed("Text Track parsing errors for "+t.src),a.forEach(function(r){return Z.error(r)}),M.console&&M.console.groupEnd&&M.console.groupEnd()),i.flush()},nh=function(s,t){var i={uri:s},a=Vs(s);a&&(i.cors=a),Bo(i,Y(this,function(r,n,o){if(r)return Z.error(r,n);if(t.loaded_=!0,typeof M.WebVTT!="function"){if(t.tech_){var l=function(){return In(o,t)};t.tech_.on("vttjsloaded",l),t.tech_.on("vttjserror",function(){Z.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",l)})}}else In(o,t)}))},ji=function(e){j(s,e);function s(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($(this,s),!a.tech)throw new Error("A tech was not provided.");var r=re(a,{kind:ah[a.kind]||"subtitles",language:a.language||a.srclang||""}),n=kn[r.mode]||"disabled",o=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(n="hidden");var l=(t=z(this,e.call(this,r)),t);if(l.tech_=r.tech,le)for(var u in s.prototype)u!=="constructor"&&(l[u]=s.prototype[u]);l.cues_=[],l.activeCues_=[];var c=new xn(l.cues_),d=new xn(l.activeCues_),h=!1,p=Y(l,function(){this.activeCues=this.activeCues,h&&(this.trigger("cuechange"),h=!1)});return n!=="disabled"&&l.tech_.ready(function(){l.tech_.on("timeupdate",p)},!0),Object.defineProperty(l,"default",{get:function(){return o},set:function(){}}),Object.defineProperty(l,"mode",{get:function(){return n},set:function(v){var _=this;!kn[v]||(n=v,n!=="disabled"?this.tech_.ready(function(){_.tech_.on("timeupdate",p)},!0):this.tech_.off("timeupdate",p),this.trigger("modechange"))}}),Object.defineProperty(l,"cues",{get:function(){return this.loaded_?c:null},set:function(){}}),Object.defineProperty(l,"activeCues",{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return d;for(var v=this.tech_.currentTime(),_=[],b=0,S=this.cues.length;b<S;b++){var C=this.cues[b];(C.startTime<=v&&C.endTime>=v||C.startTime===C.endTime&&C.startTime<=v&&C.startTime+.5>=v)&&_.push(C)}if(h=!1,_.length!==this.activeCues_.length)h=!0;else for(var m=0;m<_.length;m++)this.activeCues_.indexOf(_[m])===-1&&(h=!0);return this.activeCues_=_,d.setCues_(this.activeCues_),d},set:function(){}}),r.src?(l.src=r.src,nh(r.src,l)):l.loaded_=!0,i=l,z(t,i)}return s.prototype.addCue=function(i){var a=i;if(M.vttjs&&!(i instanceof M.vttjs.VTTCue)){a=new M.vttjs.VTTCue(i.startTime,i.endTime,i.text);for(var r in i)r in a||(a[r]=i[r]);a.id=i.id,a.originalCue_=i}for(var n=this.tech_.textTracks(),o=0;o<n.length;o++)n[o]!==this&&n[o].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},s.prototype.removeCue=function(i){for(var a=this.cues_.length;a--;){var r=this.cues_[a];if(r===i||r.originalCue_&&r.originalCue_===i){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},s}(wr);ji.prototype.allowedEvents_={cuechange:"cuechange"};var kl=function(e){j(s,e);function s(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$(this,s);var r=re(a,{kind:sh[a.kind]||""}),n=(t=z(this,e.call(this,r)),t),o=!1;if(le)for(var l in s.prototype)l!=="constructor"&&(n[l]=s.prototype[l]);return Object.defineProperty(n,"enabled",{get:function(){return o},set:function(c){typeof c!="boolean"||c===o||(o=c,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,i=n,z(t,i)}return s}(wr),Il=function(e){j(s,e);function s(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$(this,s);var r=re(a,{kind:ih[a.kind]||""}),n=(t=z(this,e.call(this,r)),t),o=!1;if(le)for(var l in s.prototype)l!=="constructor"&&(n[l]=s.prototype[l]);return Object.defineProperty(n,"selected",{get:function(){return o},set:function(c){typeof c!="boolean"||c===o||(o=c,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),i=n,z(t,i)}return s}(wr),Pl=0,oh=1,El=2,lh=3,ni=function(e){j(s,e);function s(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$(this,s);var i=z(this,e.call(this)),a=void 0,r=i;if(le){r=U.createElement("custom");for(var n in s.prototype)n!=="constructor"&&(r[n]=s.prototype[n])}var o=new ji(t);if(r.kind=o.kind,r.src=o.src,r.srclang=o.language,r.label=o.label,r.default=o.default,Object.defineProperty(r,"readyState",{get:function(){return a}}),Object.defineProperty(r,"track",{get:function(){return o}}),a=Pl,o.addEventListener("loadeddata",function(){a=El,r.trigger({type:"load",target:r})}),le){var l;return l=r,z(i,l)}return i}return s}(me);ni.prototype.allowedEvents_={load:"load"};ni.NONE=Pl;ni.LOADING=oh;ni.LOADED=El;ni.ERROR=lh;var Fe={audio:{ListClass:Qd,TrackClass:kl,capitalName:"Audio"},video:{ListClass:eh,TrackClass:Il,capitalName:"Video"},text:{ListClass:wl,TrackClass:ji,capitalName:"Text"}};Object.keys(Fe).forEach(function(e){Fe[e].getterName=e+"Tracks",Fe[e].privateName=e+"Tracks_"});var Ii={remoteText:{ListClass:wl,TrackClass:ji,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:th,TrackClass:ni,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ke=re(Fe,Ii);Ii.names=Object.keys(Ii);Fe.names=Object.keys(Fe);ke.names=[].concat(Ii.names).concat(Fe.names);function uh(e,s,t,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},r=e.textTracks();a.kind=s,t&&(a.label=t),i&&(a.language=i),a.tech=e;var n=new ke.text.TrackClass(a);return r.addTrack(n),n}var se=function(e){j(s,e);function s(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};$(this,s),t.reportTouchActivity=!1;var a=z(this,e.call(this,null,t,i));return a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),ke.names.forEach(function(r){var n=ke[r];t&&t[n.getterName]&&(a[n.privateName]=t[n.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(r){t["native"+r+"Tracks"]===!1&&(a["featuresNative"+r+"Tracks"]=!1)}),t.nativeCaptions===!1||t.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(t.nativeCaptions===!0||t.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.autoRemoteTextTracks_=new ke.text.ListClass,a.initTrackListeners(),t.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}return s.prototype.triggerSourceset=function(i){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(i)},1)}),this.trigger({src:i,type:"sourceset"})},s.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},s.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},s.prototype.trackProgress=function(i){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Y(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},s.prototype.onDurationChange=function(i){this.duration_=this.duration()},s.prototype.buffered=function(){return Pt(0,0)},s.prototype.bufferedPercent=function(){return Sl(this.buffered(),this.duration_)},s.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},s.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},s.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},s.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},s.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},s.prototype.dispose=function(){this.clearTracks(Fe.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},s.prototype.clearTracks=function(i){var a=this;i=[].concat(i),i.forEach(function(r){for(var n=a[r+"Tracks"]()||[],o=n.length;o--;){var l=n[o];r==="text"&&a.removeRemoteTextTrack(l),n.removeTrack(l)}})},s.prototype.cleanupAutoTextTracks=function(){for(var i=this.autoRemoteTextTracks_||[],a=i.length;a--;){var r=i[a];this.removeRemoteTextTrack(r)}},s.prototype.reset=function(){},s.prototype.error=function(i){return i!==void 0&&(this.error_=new be(i),this.trigger("error")),this.error_},s.prototype.played=function(){return this.hasStarted_?Pt(0,0):Pt()},s.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},s.prototype.initTrackListeners=function(){var i=this;Fe.names.forEach(function(a){var r=Fe[a],n=function(){i.trigger(a+"trackchange")},o=i[r.getterName]();o.addEventListener("removetrack",n),o.addEventListener("addtrack",n),i.on("dispose",function(){o.removeEventListener("removetrack",n),o.removeEventListener("addtrack",n)})})},s.prototype.addWebVttScript_=function(){var i=this;if(!M.WebVTT)if(U.body.contains(this.el())){if(!this.options_["vtt.js"]&&Si(_n)&&Object.keys(_n).length>0){this.trigger("vttjsloaded");return}var a=U.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",a.onload=function(){i.trigger("vttjsloaded")},a.onerror=function(){i.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),M.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},s.prototype.emulateTextTracks=function(){var i=this,a=this.textTracks(),r=this.remoteTextTracks(),n=function(d){return a.addTrack(d.track)},o=function(d){return a.removeTrack(d.track)};r.on("addtrack",n),r.on("removetrack",o),this.addWebVttScript_();var l=function(){return i.trigger("texttrackchange")},u=function(){l();for(var d=0;d<a.length;d++){var h=a[d];h.removeEventListener("cuechange",l),h.mode==="showing"&&h.addEventListener("cuechange",l)}};u(),a.addEventListener("change",u),a.addEventListener("addtrack",u),a.addEventListener("removetrack",u),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",o),a.removeEventListener("change",u),a.removeEventListener("addtrack",u),a.removeEventListener("removetrack",u);for(var c=0;c<a.length;c++){var d=a[c];d.removeEventListener("cuechange",l)}})},s.prototype.addTextTrack=function(i,a,r){if(!i)throw new Error("TextTrack kind is required but was not provided");return uh(this,i,a,r)},s.prototype.createRemoteTextTrack=function(i){var a=re(i,{tech:this});return new Ii.remoteTextEl.TrackClass(a)},s.prototype.addRemoteTextTrack=function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments[1],n=this.createRemoteTextTrack(a);return r!==!0&&r!==!1&&(Z.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),r=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),r!==!0&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(n.track)}),n},s.prototype.removeRemoteTextTrack=function(i){var a=this.remoteTextTrackEls().getTrackElementByTrack_(i);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(i),this.autoRemoteTextTracks_.removeTrack(i)},s.prototype.getVideoPlaybackQuality=function(){return{}},s.prototype.setPoster=function(){},s.prototype.playsinline=function(){},s.prototype.setPlaysinline=function(){},s.prototype.canPlayType=function(){return""},s.canPlayType=function(){return""},s.canPlaySource=function(i,a){return s.canPlayType(i.type)},s.isTech=function(i){return i.prototype instanceof s||i instanceof s||i===s},s.registerTech=function(i,a){if(s.techs_||(s.techs_={}),!s.isTech(a))throw new Error("Tech "+i+" must be a Tech");if(!s.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!s.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return i=oe(i),s.techs_[i]=a,i!=="Tech"&&s.defaultTechOrder_.push(i),a},s.getTech=function(i){if(!!i){if(i=oe(i),s.techs_&&s.techs_[i])return s.techs_[i];if(M&&M.videojs&&M.videojs[i])return Z.warn("The "+i+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),M.videojs[i]}},s}(R);ke.names.forEach(function(e){var s=ke[e];se.prototype[s.getterName]=function(){return this[s.privateName]=this[s.privateName]||new s.ListClass,this[s.privateName]}});se.prototype.featuresVolumeControl=!0;se.prototype.featuresMuteControl=!0;se.prototype.featuresFullscreenResize=!1;se.prototype.featuresPlaybackRate=!1;se.prototype.featuresProgressEvents=!1;se.prototype.featuresSourceset=!1;se.prototype.featuresTimeupdateEvents=!1;se.prototype.featuresNativeTextTracks=!1;se.withSourceHandlers=function(e){e.registerSourceHandler=function(t,i){var a=e.sourceHandlers;a||(a=e.sourceHandlers=[]),i===void 0&&(i=a.length),a.splice(i,0,t)},e.canPlayType=function(t){for(var i=e.sourceHandlers||[],a=void 0,r=0;r<i.length;r++)if(a=i[r].canPlayType(t),a)return a;return""},e.selectSourceHandler=function(t,i){for(var a=e.sourceHandlers||[],r=void 0,n=0;n<a.length;n++)if(r=a[n].canHandleSource(t,i),r)return a[n];return null},e.canPlaySource=function(t,i){var a=e.selectSourceHandler(t,i);return a?a.canHandleSource(t,i):""};var s=["seekable","seeking","duration"];s.forEach(function(t){var i=this[t];typeof i=="function"&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var i=e.selectSourceHandler(t,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:Z.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=i.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};R.registerComponent("Tech",se);se.registerTech("Tech",se);se.defaultTechOrder_=[];var Et={},Ma={},Pi={};function ch(e,s){Et[e]=Et[e]||[],Et[e].push(s)}function dh(e,s,t){e.setTimeout(function(){return Ct(s,Et[s.type],t,e)},1)}function hh(e,s){e.forEach(function(t){return t.setTech&&t.setTech(s)})}function ph(e,s,t){return e.reduceRight(Ir(t),s[t]())}function fh(e,s,t,i){return s[t](e.reduce(Ir(t),i))}function Pn(e,s,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a="call"+oe(t),r=e.reduce(Ir(a),i),n=r===Pi,o=n?null:s[t](r);return gh(e,t,o,n),o}var mh={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},vh={setCurrentTime:1},En={play:1,pause:1};function Ir(e){return function(s,t){return s===Pi?Pi:t[e]?t[e](s):s}}function gh(e,s,t,i){for(var a=e.length-1;a>=0;a--){var r=e[a];r[s]&&r[s](i,t)}}function _h(e){Ma[e.id()]=null}function yh(e,s){var t=Ma[e.id()],i=null;if(t==null)return i=s(e),Ma[e.id()]=[[s,i]],i;for(var a=0;a<t.length;a++){var r=t[a],n=r[0],o=r[1];n===s&&(i=o)}return i===null&&(i=s(e),t.push([s,i])),i}function Ct(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments[2],i=arguments[3],a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,n=s[0],o=s.slice(1);if(typeof n=="string")Ct(e,Et[n],t,i,a,r);else if(n){var l=yh(i,n);if(!l.setSource)return a.push(l),Ct(e,o,t,i,a,r);l.setSource(ae({},e),function(u,c){if(u)return Ct(e,o,t,i,a,r);a.push(l),Ct(c,e.type===c.type?o:Et[c.type],t,i,a,r)})}else o.length?Ct(e,o,t,i,a,r):r?t(e,a):Ct(e,Et["*"],t,i,a,!0)}var bh={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Al=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=kr(s),i=bh[t.toLowerCase()];return i||""},Ch=function(s,t){if(!t)return"";if(s.cache_.source.src===t&&s.cache_.source.type)return s.cache_.source.type;var i=s.cache_.sources.filter(function(o){return o.src===t});if(i.length)return i[0].type;for(var a=s.$$("source"),r=0;r<a.length;r++){var n=a[r];if(n.type&&n.src&&n.src===t)return n.type}return Al(t)},Sh=function e(s){if(Array.isArray(s)){var t=[];s.forEach(function(i){i=e(i),Array.isArray(i)?t=t.concat(i):nt(i)&&t.push(i)}),s=t}else typeof s=="string"&&s.trim()?s=[An({src:s})]:nt(s)&&typeof s.src=="string"&&s.src&&s.src.trim()?s=[An(s)]:s=[];return s};function An(e){var s=Al(e.src);return!e.type&&s&&(e.type=s),e}var Th=function(e){j(s,e);function s(t,i,a){$(this,s);var r=re({createEl:!1},i),n=z(this,e.call(this,t,r,a));if(!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,l=i.playerOptions.techOrder;o<l.length;o++){var u=oe(l[o]),c=se.getTech(u);if(u||(c=R.getComponent(u)),c&&c.isSupported()){t.loadTech_(u);break}}else t.src(i.playerOptions.sources);return n}return s}(R);R.registerComponent("MediaLoader",Th);var Ws=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.emitTapEvents(),a.enable(),a}return s.prototype.createEl=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a=ae({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},a),i==="button"&&Z.error("Creating a ClickableComponent with an HTML element of "+i+" is not supported; use a Button instead."),r=ae({role:"button"},r),this.tabIndex_=a.tabIndex;var n=e.prototype.createEl.call(this,i,a,r);return this.createControlTextEl(n),n},s.prototype.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},s.prototype.createControlTextEl=function(i){return this.controlTextEl_=de("span",{className:"vjs-control-text"},{"aria-live":"polite"}),i&&i.appendChild(this.controlTextEl_),this.controlText(this.controlText_,i),this.controlTextEl_},s.prototype.controlText=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.el();if(i===void 0)return this.controlText_||"Need Text";var r=this.localize(i);this.controlText_=i,zi(this.controlTextEl_,r),this.nonIconControl||a.setAttribute("title",r)},s.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},s.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},s.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},s.prototype.handleClick=function(i){},s.prototype.handleFocus=function(i){$e(U,"keydown",Y(this,this.handleKeyPress))},s.prototype.handleKeyPress=function(i){i.which===32||i.which===13?(i.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,i)},s.prototype.handleBlur=function(i){Ie(U,"keydown",Y(this,this.handleKeyPress))},s}(R);R.registerComponent("ClickableComponent",Ws);var wh=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.update(),t.on("posterchange",Y(a,a.update)),a}return s.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},s.prototype.createEl=function(){var i=de("div",{className:"vjs-poster",tabIndex:-1});return Yo||(this.fallbackImg_=de("img"),i.appendChild(this.fallbackImg_)),i},s.prototype.update=function(i){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},s.prototype.setSrc=function(i){if(this.fallbackImg_)this.fallbackImg_.src=i;else{var a="";i&&(a='url("'+i+'")'),this.el_.style.backgroundImage=a}},s.prototype.handleClick=function(i){!this.player_.controls()||(this.player_.paused()?ki(this.player_.play()):this.player_.pause())},s}(Ws);R.registerComponent("PosterImage",wh);var Le="#222",On="#ccc",xh={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ha(e,s){var t=void 0;if(e.length===4)t=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else if(e.length===7)t=e.slice(1);else throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(t.slice(0,2),16)+","+parseInt(t.slice(2,4),16)+","+parseInt(t.slice(4,6),16)+","+s+")"}function pa(e,s,t){try{e.style[s]=t}catch{return}}var kh=function(e){j(s,e);function s(t,i,a){$(this,s);var r=z(this,e.call(this,t,i,a)),n=Y(r,r.updateDisplay);return t.on("loadstart",Y(r,r.toggleDisplay)),t.on("texttrackchange",n),t.on("loadstart",Y(r,r.preselectTrack)),t.ready(Y(r,function(){if(t.tech_&&t.tech_.featuresNativeTextTracks){this.hide();return}t.on("fullscreenchange",n),t.on("playerresize",n),M.addEventListener&&M.addEventListener("orientationchange",n),t.on("dispose",function(){return M.removeEventListener("orientationchange",n)});for(var o=this.options_.playerOptions.tracks||[],l=0;l<o.length;l++)this.player_.addRemoteTextTrack(o[l],!0);this.preselectTrack()})),r}return s.prototype.preselectTrack=function(){for(var i={captions:1,subtitles:1},a=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,n=void 0,o=void 0,l=void 0,u=0;u<a.length;u++){var c=a[u];r&&r.enabled&&r.language===c.language?c.kind===r.kind?l=c:l||(l=c):r&&!r.enabled?(l=null,n=null,o=null):c.default&&(c.kind==="descriptions"&&!n?n=c:c.kind in i&&!o&&(o=c))}l?l.mode="showing":o?o.mode="showing":n&&(n.mode="showing")},s.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},s.prototype.clearDisplay=function(){typeof M.WebVTT=="function"&&M.WebVTT.processCues(M,[],this.el_)},s.prototype.updateDisplay=function(){var i=this.player_.textTracks();this.clearDisplay();for(var a=null,r=null,n=i.length;n--;){var o=i[n];o.mode==="showing"&&(o.kind==="descriptions"?a=o:r=o)}r?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):a&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(a))},s.prototype.updateForTrack=function(i){if(!(typeof M.WebVTT!="function"||!i.activeCues)){for(var a=[],r=0;r<i.activeCues.length;r++)a.push(i.activeCues[r]);if(M.WebVTT.processCues(M,a,this.el_),!!this.player_.textTrackSettings)for(var n=this.player_.textTrackSettings.getValues(),o=a.length;o--;){var l=a[o];if(!!l){var u=l.displayState;if(n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&pa(u.firstChild,"color",ha(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&pa(u.firstChild,"backgroundColor",ha(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?pa(u,"backgroundColor",ha(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+Le+", 2px 2px 4px "+Le+", 2px 2px 5px "+Le:n.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+Le+", 2px 2px "+Le+", 3px 3px "+Le:n.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+On+", 0 1px "+On+", -1px -1px "+Le+", 0 -1px "+Le:n.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+Le+", 0 0 4px "+Le+", 0 0 4px "+Le+", 0 0 4px "+Le)),n.fontPercent&&n.fontPercent!==1){var c=M.parseFloat(u.style.fontSize);u.style.fontSize=c*n.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=xh[n.fontFamily])}}}},s}(R);R.registerComponent("TextTrackDisplay",kh);var Ih=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.createEl=function(){var i=this.player_.isAudio(),a=this.localize(i?"Audio Player":"Video Player"),r=de("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[a])}),n=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(r),n},s}(R);R.registerComponent("LoadingSpinner",Ih);var st=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.createEl=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i="button",a=ae({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},a),r=ae({type:"button"},r);var n=R.prototype.createEl.call(this,i,a,r);return this.createControlTextEl(n),n},s.prototype.addChild=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.constructor.name;return Z.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),R.prototype.addChild.call(this,i,a)},s.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},s.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},s.prototype.handleKeyPress=function(i){i.which===32||i.which===13||e.prototype.handleKeyPress.call(this,i)},s}(Ws);R.registerComponent("Button",st);var Ol=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.mouseused_=!1,a.on("mousedown",a.handleMouseDown),a}return s.prototype.buildCSSClass=function(){return"vjs-big-play-button"},s.prototype.handleClick=function(i){var a=this.player_.play();if(this.mouseused_&&i.clientX&&i.clientY){ki(a);return}var r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(!n){this.player_.focus();return}var o=function(){return n.focus()};Tl(a)?a.then(o,function(){}):this.setTimeout(o,1)},s.prototype.handleKeyPress=function(i){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,i)},s.prototype.handleMouseDown=function(i){this.mouseused_=!0},s}(st);Ol.prototype.controlText_="Play Video";R.registerComponent("BigPlayButton",Ol);var Ph=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.controlText(i&&i.controlText||a.localize("Close")),a}return s.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},s.prototype.handleClick=function(i){this.trigger({type:"close",bubbles:!1})},s}(st);R.registerComponent("CloseButton",Ph);var Dl=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.on(t,"play",a.handlePlay),a.on(t,"pause",a.handlePause),a.on(t,"ended",a.handleEnded),a}return s.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},s.prototype.handleClick=function(i){this.player_.paused()?this.player_.play():this.player_.pause()},s.prototype.handleSeeked=function(i){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(i):this.handlePlay(i)},s.prototype.handlePlay=function(i){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},s.prototype.handlePause=function(i){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},s.prototype.handleEnded=function(i){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},s}(st);Dl.prototype.controlText_="Play";R.registerComponent("PlayToggle",Dl);var Ll=function(s,t){s=s<0?0:s;var i=Math.floor(s%60),a=Math.floor(s/60%60),r=Math.floor(s/3600),n=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(s)||s===1/0)&&(r=a=i="-"),r=r>0||o>0?r+":":"",a=((r||n>=10)&&a<10?"0"+a:a)+":",i=i<10?"0"+i:i,r+a+i},Pr=Ll;function Eh(e){Pr=e}function Ah(){Pr=Ll}var Yt=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return Pr(e,s)},oi=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.throttledUpdateContent=qt(Y(a,a.updateContent),25),a.on(t,"timeupdate",a.throttledUpdateContent),a}return s.prototype.createEl=function(i){var a=this.buildCSSClass(),r=e.prototype.createEl.call(this,"div",{className:a+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+"\xA0</span>"});return this.contentEl_=de("span",{className:a+"-display"},{"aria-live":"off"}),this.updateTextNode_(),r.appendChild(this.contentEl_),r},s.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},s.prototype.updateTextNode_=function(){if(!!this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=U.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},s.prototype.formatTime_=function(i){return Yt(i)},s.prototype.updateFormattedTime_=function(i){var a=this.formatTime_(i);a!==this.formattedTime_&&(this.formattedTime_=a,this.requestAnimationFrame(this.updateTextNode_))},s.prototype.updateContent=function(i){},s}(R);oi.prototype.labelText_="Time";oi.prototype.controlText_="Time";R.registerComponent("TimeDisplay",oi);var Er=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.on(t,"ended",a.handleEnded),a}return s.prototype.buildCSSClass=function(){return"vjs-current-time"},s.prototype.updateContent=function(i){var a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(a)},s.prototype.handleEnded=function(i){!this.player_.duration()||this.updateFormattedTime_(this.player_.duration())},s}(oi);Er.prototype.labelText_="Current Time";Er.prototype.controlText_="Current Time";R.registerComponent("CurrentTimeDisplay",Er);var Ar=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.on(t,"durationchange",a.updateContent),a.on(t,"loadedmetadata",a.throttledUpdateContent),a}return s.prototype.buildCSSClass=function(){return"vjs-duration"},s.prototype.updateContent=function(i){var a=this.player_.duration();a&&this.duration_!==a&&(this.duration_=a,this.updateFormattedTime_(a))},s}(oi);Ar.prototype.labelText_="Duration";Ar.prototype.controlText_="Duration";R.registerComponent("DurationDisplay",Ar);var Oh=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},s}(R);R.registerComponent("TimeDivider",Oh);var Or=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.on(t,"durationchange",a.throttledUpdateContent),a.on(t,"ended",a.handleEnded),a}return s.prototype.buildCSSClass=function(){return"vjs-remaining-time"},s.prototype.formatTime_=function(i){return"-"+e.prototype.formatTime_.call(this,i)},s.prototype.updateContent=function(i){!this.player_.duration()||(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},s.prototype.handleEnded=function(i){!this.player_.duration()||this.updateFormattedTime_(0)},s}(oi);Or.prototype.labelText_="Remaining Time";Or.prototype.controlText_="Remaining Time";R.registerComponent("RemainingTimeDisplay",Or);var Dh=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.updateShowing(),a.on(a.player(),"durationchange",a.updateShowing),a}return s.prototype.createEl=function(){var i=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=de("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xA0</span>"+this.localize("LIVE")},{"aria-live":"off"}),i.appendChild(this.contentEl_),i},s.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},s.prototype.updateShowing=function(i){this.player().duration()===1/0?this.show():this.hide()},s}(R);R.registerComponent("LiveDisplay",Dh);var Dr=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}return s.prototype.enabled=function(){return this.enabled_},s.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},s.prototype.disable=function(){if(!!this.enabled()){var i=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(i,"mousemove",this.handleMouseMove),this.off(i,"mouseup",this.handleMouseUp),this.off(i,"touchmove",this.handleMouseMove),this.off(i,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},s.prototype.createEl=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a.className=a.className+" vjs-slider",a=ae({tabIndex:0},a),r=ae({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,i,a,r)},s.prototype.handleMouseDown=function(i){var a=this.bar.el_.ownerDocument;i.type==="mousedown"&&i.preventDefault(),i.type==="touchstart"&&!_t&&i.preventDefault(),rl(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove),this.on(a,"mouseup",this.handleMouseUp),this.on(a,"touchmove",this.handleMouseMove),this.on(a,"touchend",this.handleMouseUp),this.handleMouseMove(i)},s.prototype.handleMouseMove=function(i){},s.prototype.handleMouseUp=function(){var i=this.bar.el_.ownerDocument;nl(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove),this.off(i,"mouseup",this.handleMouseUp),this.off(i,"touchmove",this.handleMouseMove),this.off(i,"touchend",this.handleMouseUp),this.update()},s.prototype.update=function(){if(!!this.el_){var i=this.getPercent(),a=this.bar;if(!!a){(typeof i!="number"||i!==i||i<0||i===1/0)&&(i=0);var r=(i*100).toFixed(2)+"%",n=a.el().style;return this.vertical()?n.height=r:n.width=r,i}}},s.prototype.calculateDistance=function(i){var a=_r(this.el_,i);return this.vertical()?a.y:a.x},s.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},s.prototype.handleKeyPress=function(i){i.which===37||i.which===40?(i.preventDefault(),this.stepBack()):(i.which===38||i.which===39)&&(i.preventDefault(),this.stepForward())},s.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},s.prototype.handleClick=function(i){i.stopImmediatePropagation(),i.preventDefault()},s.prototype.vertical=function(i){if(i===void 0)return this.vertical_||!1;this.vertical_=!!i,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},s}(R);R.registerComponent("Slider",Dr);var Lh=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.partEls_=[],a.on(t,"progress",a.update),a}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},s.prototype.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},s.prototype.update=function(i){var a=this.player_.buffered(),r=this.player_.duration(),n=this.player_.bufferedEnd(),o=this.partEls_,l=function(v,_){var b=v/_||0;return(b>=1?1:b)*100+"%"};this.el_.style.width=l(n,r);for(var u=0;u<a.length;u++){var c=a.start(u),d=a.end(u),h=o[u];h||(h=this.el_.appendChild(de()),o[u]=h),h.style.left=l(c,n),h.style.width=l(d-c,n)}for(var p=o.length;p>a.length;p--)this.el_.removeChild(o[p-1]);o.length=a.length},s}(R);R.registerComponent("LoadProgressBar",Lh);var Mh=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},s.prototype.update=function(i,a,r){var n=wi(this.el_),o=wi(this.player_.el()),l=i.width*a;if(!(!o||!n)){var u=i.left-o.left+l,c=i.width-l+(o.right-i.right),d=n.width/2;u<d?d+=d-u:c<d&&(d=c),d<0?d=0:d>n.width&&(d=n.width),this.el_.style.right="-"+d+"px",zi(this.el_,r)}},s}(R);R.registerComponent("TimeTooltip",Mh);var Lr=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},s.prototype.update=function(i,a){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var n=r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),o=Yt(n,r.player_.duration()),l=r.getChild("timeTooltip");l&&l.update(i,a,o)})},s}(R);Lr.prototype.options_={children:[]};(!rt||rt>8)&&!ot&&!gt&&Lr.prototype.options_.children.push("timeTooltip");R.registerComponent("PlayProgressBar",Lr);var Ml=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.update=qt(Y(a,a.update),25),a}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},s.prototype.update=function(i,a){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var n=r.player_.duration(),o=Yt(a*n,n);r.el_.style.left=i.width*a+"px",r.getChild("timeTooltip").update(i,a,o)})},s}(R);Ml.prototype.options_={children:["timeTooltip"]};R.registerComponent("MouseTimeDisplay",Ml);var Dn=5,Ln=30,Js=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.setEventHandlers_(),a}return s.prototype.setEventHandlers_=function(){var i=this;this.update=qt(Y(this,this.update),Ln),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){i.clearInterval(i.updateInterval),i.updateInterval=i.setInterval(function(){i.requestAnimationFrame(function(){i.update()})},Ln)}),this.on(this.player_,["ended","pause","waiting"],function(){i.clearInterval(i.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},s.prototype.update_=function(i,a){var r=this.player_.duration();this.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Yt(i,r),Yt(r,r)],"{1} of {2}")),this.bar.update(wi(this.el_),a)},s.prototype.update=function(i){var a=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),a),a},s.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},s.prototype.handleEnded=function(i){this.update_(this.player_.duration(),1)},s.prototype.getPercent=function(){var i=this.getCurrentTime_()/this.player_.duration();return i>=1?1:i},s.prototype.handleMouseDown=function(i){!Gt(i)||(i.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,i))},s.prototype.handleMouseMove=function(i){if(!!Gt(i)){var a=this.calculateDistance(i)*this.player_.duration();a===this.player_.duration()&&(a=a-.1),this.player_.currentTime(a)}},s.prototype.enable=function(){e.prototype.enable.call(this);var i=this.getChild("mouseTimeDisplay");!i||i.show()},s.prototype.disable=function(){e.prototype.disable.call(this);var i=this.getChild("mouseTimeDisplay");!i||i.hide()},s.prototype.handleMouseUp=function(i){e.prototype.handleMouseUp.call(this,i),i&&i.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&ki(this.player_.play())},s.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+Dn)},s.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-Dn)},s.prototype.handleAction=function(i){this.player_.paused()?this.player_.play():this.player_.pause()},s.prototype.handleKeyPress=function(i){i.which===32||i.which===13?(i.preventDefault(),this.handleAction(i)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,i)},s}(Dr);Js.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};(!rt||rt>8)&&!ot&&!gt&&Js.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Js.prototype.playerEvent="timeupdate";R.registerComponent("SeekBar",Js);var Nl=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.handleMouseMove=qt(Y(a,a.handleMouseMove),25),a.throttledHandleMouseSeek=qt(Y(a,a.handleMouseSeek),25),a.enable(),a}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},s.prototype.handleMouseMove=function(i){var a=this.getChild("seekBar");if(a){var r=a.getChild("mouseTimeDisplay"),n=a.el(),o=wi(n),l=_r(n,i).x;l>1?l=1:l<0&&(l=0),r&&r.update(o,l)}},s.prototype.handleMouseSeek=function(i){var a=this.getChild("seekBar");a&&a.handleMouseMove(i)},s.prototype.enabled=function(){return this.enabled_},s.prototype.disable=function(){this.children().forEach(function(i){return i.disable&&i.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},s.prototype.enable=function(){this.children().forEach(function(i){return i.enable&&i.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},s.prototype.handleMouseDown=function(i){var a=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(i),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUp),this.on(a,"touchend",this.handleMouseUp)},s.prototype.handleMouseUp=function(i){var a=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseUp(i),this.off(a,"mousemove",this.throttledHandleMouseSeek),this.off(a,"touchmove",this.throttledHandleMouseSeek),this.off(a,"mouseup",this.handleMouseUp),this.off(a,"touchend",this.handleMouseUp)},s}(R);Nl.prototype.options_={children:["seekBar"]};R.registerComponent("ProgressControl",Nl);var Rl=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.on(t,"fullscreenchange",a.handleFullscreenChange),U[ms.fullscreenEnabled]===!1&&a.disable(),a}return s.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},s.prototype.handleFullscreenChange=function(i){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},s.prototype.handleClick=function(i){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},s}(st);Rl.prototype.controlText_="Fullscreen";R.registerComponent("FullscreenToggle",Rl);var Nh=function(s,t){t.tech_&&!t.tech_.featuresVolumeControl&&s.addClass("vjs-hidden"),s.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?s.removeClass("vjs-hidden"):s.addClass("vjs-hidden")})},Rh=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},s}(R);R.registerComponent("VolumeLevel",Rh);var Mr=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.on("slideractive",a.updateLastVolume_),a.on(t,"volumechange",a.updateARIAAttributes),t.ready(function(){return a.updateARIAAttributes()}),a}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},s.prototype.handleMouseDown=function(i){!Gt(i)||e.prototype.handleMouseDown.call(this,i)},s.prototype.handleMouseMove=function(i){!Gt(i)||(this.checkMuted(),this.player_.volume(this.calculateDistance(i)))},s.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},s.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},s.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},s.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},s.prototype.updateARIAAttributes=function(i){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},s.prototype.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},s.prototype.updateLastVolume_=function(){var i=this,a=this.player_.volume();this.one("sliderinactive",function(){i.player_.volume()===0&&i.player_.lastVolume_(a)})},s}(Dr);Mr.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};Mr.prototype.playerEvent="volumechange";R.registerComponent("VolumeBar",Mr);var Fl=function(e){j(s,e);function s(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(this,s),i.vertical=i.vertical||!1,(typeof i.volumeBar=="undefined"||Si(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical);var a=z(this,e.call(this,t,i));return Nh(a,t),a.throttledHandleMouseMove=qt(Y(a,a.handleMouseMove),25),a.on("mousedown",a.handleMouseDown),a.on("touchstart",a.handleMouseDown),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}return s.prototype.createEl=function(){var i="vjs-volume-horizontal";return this.options_.vertical&&(i="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+i})},s.prototype.handleMouseDown=function(i){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUp),this.on(a,"touchend",this.handleMouseUp)},s.prototype.handleMouseUp=function(i){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUp),this.off(a,"touchend",this.handleMouseUp)},s.prototype.handleMouseMove=function(i){this.volumeBar.handleMouseMove(i)},s}(R);Fl.prototype.options_={children:["volumeBar"]};R.registerComponent("VolumeControl",Fl);var Fh=function(s,t){t.tech_&&!t.tech_.featuresMuteControl&&s.addClass("vjs-hidden"),s.on(t,"loadstart",function(){t.tech_.featuresMuteControl?s.removeClass("vjs-hidden"):s.addClass("vjs-hidden")})},Ul=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return Fh(a,t),a.on(t,["loadstart","volumechange"],a.update),a}return s.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},s.prototype.handleClick=function(i){var a=this.player_.volume(),r=this.player_.lastVolume_();if(a===0){var n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},s.prototype.update=function(i){this.updateIcon_(),this.updateControlText_()},s.prototype.updateIcon_=function(){var i=this.player_.volume(),a=3;ot&&this.player_.muted(this.player_.tech_.el_.muted),i===0||this.player_.muted()?a=0:i<.33?a=1:i<.67&&(a=2);for(var r=0;r<4;r++)Bi(this.el_,"vjs-vol-"+r);It(this.el_,"vjs-vol-"+a)},s.prototype.updateControlText_=function(){var i=this.player_.muted()||this.player_.volume()===0,a=i?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},s}(st);Ul.prototype.controlText_="Mute";R.registerComponent("MuteToggle",Ul);var zl=function(e){j(s,e);function s(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(this,s),typeof i.inline!="undefined"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl=="undefined"||Si(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline);var a=z(this,e.call(this,t,i));return a.on(t,["loadstart"],a.volumePanelState_),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}return s.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},s.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},s.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},s.prototype.createEl=function(){var i="vjs-volume-panel-horizontal";return this.options_.inline||(i="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+i})},s}(R);zl.prototype.options_={children:["muteToggle","volumeControl"]};R.registerComponent("VolumePanel",zl);var Nr=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return i&&(a.menuButton_=i.menuButton),a.focusedChild_=-1,a.on("keydown",a.handleKeyPress),a}return s.prototype.addItem=function(i){this.addChild(i),i.on("click",Y(this,function(a){this.menuButton_&&(this.menuButton_.unpressButton(),i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus())}))},s.prototype.createEl=function(){var i=this.options_.contentElType||"ul";this.contentEl_=de(i,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),$e(a,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),a},s.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},s.prototype.handleKeyPress=function(i){i.which===37||i.which===40?(i.preventDefault(),this.stepForward()):(i.which===38||i.which===39)&&(i.preventDefault(),this.stepBack())},s.prototype.stepForward=function(){var i=0;this.focusedChild_!==void 0&&(i=this.focusedChild_+1),this.focus(i)},s.prototype.stepBack=function(){var i=0;this.focusedChild_!==void 0&&(i=this.focusedChild_-1),this.focus(i)},s.prototype.focus=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=this.children().slice(),r=a.length&&a[0].className&&/vjs-menu-title/.test(a[0].className);r&&a.shift(),a.length>0&&(i<0?i=0:i>=a.length&&(i=a.length-1),this.focusedChild_=i,a[i].el_.focus())},s}(R);R.registerComponent("Menu",Nr);var Rr=function(e){j(s,e);function s(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(this,s);var a=z(this,e.call(this,t,i));a.menuButton_=new st(t,i),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var r=st.prototype.buildCSSClass();return a.menuButton_.el_.className=a.buildCSSClass()+" "+r,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0,a.on(a.menuButton_,"tap",a.handleClick),a.on(a.menuButton_,"click",a.handleClick),a.on(a.menuButton_,"focus",a.handleFocus),a.on(a.menuButton_,"blur",a.handleBlur),a.on("keydown",a.handleSubmenuKeyPress),a}return s.prototype.update=function(){var i=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=i,this.addChild(i),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},s.prototype.createMenu=function(){var i=new Nr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=de("li",{className:"vjs-menu-title",innerHTML:oe(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,i.children_.unshift(a),fs(a,i.contentEl())}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)i.addItem(this.items[r]);return i},s.prototype.createItems=function(){},s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},s.prototype.buildWrapperCSSClass=function(){var i="vjs-menu-button";this.options_.inline===!0?i+="-inline":i+="-popup";var a=st.prototype.buildCSSClass();return"vjs-menu-button "+i+" "+a+" "+e.prototype.buildCSSClass.call(this)},s.prototype.buildCSSClass=function(){var i="vjs-menu-button";return this.options_.inline===!0?i+="-inline":i+="-popup","vjs-menu-button "+i+" "+e.prototype.buildCSSClass.call(this)},s.prototype.controlText=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(i,a)},s.prototype.handleClick=function(i){this.one(this.menu.contentEl(),"mouseleave",Y(this,function(a){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},s.prototype.focus=function(){this.menuButton_.focus()},s.prototype.blur=function(){this.menuButton_.blur()},s.prototype.handleFocus=function(){$e(U,"keydown",Y(this,this.handleKeyPress))},s.prototype.handleBlur=function(){Ie(U,"keydown",Y(this,this.handleKeyPress))},s.prototype.handleKeyPress=function(i){i.which===27||i.which===9?(this.buttonPressed_&&this.unpressButton(),i.which!==9&&(i.preventDefault(),this.menuButton_.el_.focus())):(i.which===38||i.which===40)&&(this.buttonPressed_||(this.pressButton(),i.preventDefault()))},s.prototype.handleSubmenuKeyPress=function(i){(i.which===27||i.which===9)&&(this.buttonPressed_&&this.unpressButton(),i.which!==9&&(i.preventDefault(),this.menuButton_.el_.focus()))},s.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ot&&el())return;this.menu.focus()}},s.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},s.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},s.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},s}(R);R.registerComponent("MenuButton",Rr);var Fr=function(e){j(s,e);function s(t,i){$(this,s);var a=i.tracks,r=z(this,e.call(this,t,i));if(r.items.length<=1&&r.hide(),!a)return z(r);var n=Y(r,r.update);return a.addEventListener("removetrack",n),a.addEventListener("addtrack",n),r.player_.on("ready",n),r.player_.on("dispose",function(){a.removeEventListener("removetrack",n),a.removeEventListener("addtrack",n)}),r}return s}(Rr);R.registerComponent("TrackButton",Fr);var Hi=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.selectable=i.selectable,a.isSelected_=i.selected||!1,a.multiSelectable=i.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}return s.prototype.createEl=function(i,a,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",ae({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},a),r)},s.prototype.handleClick=function(i){this.selected(!0)},s.prototype.selected=function(i){this.selectable&&(i?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},s}(Ws);R.registerComponent("MenuItem",Hi);var Vi=function(e){j(s,e);function s(t,i){$(this,s);var a=i.track,r=t.textTracks();i.label=a.label||a.language||"Unknown",i.selected=a.mode==="showing";var n=z(this,e.call(this,t,i));n.track=a;var o=function(){for(var d=arguments.length,h=Array(d),p=0;p<d;p++)h[p]=arguments[p];n.handleTracksChange.apply(n,h)},l=function(){for(var d=arguments.length,h=Array(d),p=0;p<d;p++)h[p]=arguments[p];n.handleSelectedLanguageChange.apply(n,h)};if(t.on(["loadstart","texttrackchange"],o),r.addEventListener("change",o),r.addEventListener("selectedlanguagechange",l),n.on("dispose",function(){t.off(["loadstart","texttrackchange"],o),r.removeEventListener("change",o),r.removeEventListener("selectedlanguagechange",l)}),r.onchange===void 0){var u=void 0;n.on(["tap","click"],function(){if(Jt(M.Event)!=="object")try{u=new M.Event("change")}catch{}u||(u=U.createEvent("Event"),u.initEvent("change",!0,!0)),r.dispatchEvent(u)})}return n.handleTracksChange(),n}return s.prototype.handleClick=function(i){var a=this.track.kind,r=this.track.kinds,n=this.player_.textTracks();if(r||(r=[a]),e.prototype.handleClick.call(this,i),!!n)for(var o=0;o<n.length;o++){var l=n[o];l===this.track&&r.indexOf(l.kind)>-1?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled")}},s.prototype.handleTracksChange=function(i){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},s.prototype.handleSelectedLanguageChange=function(i){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},s.prototype.dispose=function(){this.track=null,e.prototype.dispose.call(this)},s}(Hi);R.registerComponent("TextTrackMenuItem",Vi);var Bl=function(e){j(s,e);function s(t,i){return $(this,s),i.track={player:t,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,z(this,e.call(this,t,i))}return s.prototype.handleTracksChange=function(i){for(var a=this.player().textTracks(),r=!0,n=0,o=a.length;n<o;n++){var l=a[n];if(this.options_.kinds.indexOf(l.kind)>-1&&l.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)},s.prototype.handleSelectedLanguageChange=function(i){for(var a=this.player().textTracks(),r=!0,n=0,o=a.length;n<o;n++){var l=a[n];if(["captions","descriptions","subtitles"].indexOf(l.kind)>-1&&l.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},s}(Vi);R.registerComponent("OffTextTrackMenuItem",Bl);var li=function(e){j(s,e);function s(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $(this,s),i.tracks=t.textTracks(),z(this,e.call(this,t,i))}return s.prototype.createItems=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vi,r=void 0;this.label_&&(r=this.label_+" off"),i.push(new Bl(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<n.length;o++){var l=n[o];if(this.kinds_.indexOf(l.kind)>-1){var u=new a(this.player_,{track:l,selectable:!0,multiSelectable:!1});u.addClass("vjs-"+l.kind+"-menu-item"),i.push(u)}}return i},s}(Fr);R.registerComponent("TextTrackButton",li);var $l=function(e){j(s,e);function s(t,i){$(this,s);var a=i.track,r=i.cue,n=t.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=r.text,i.selected=r.startTime<=n&&n<r.endTime;var o=z(this,e.call(this,t,i));return o.track=a,o.cue=r,a.addEventListener("cuechange",Y(o,o.update)),o}return s.prototype.handleClick=function(i){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},s.prototype.update=function(i){var a=this.cue,r=this.player_.currentTime();this.selected(a.startTime<=r&&r<a.endTime)},s}(Hi);R.registerComponent("ChaptersTrackMenuItem",$l);var Ur=function(e){j(s,e);function s(t,i,a){return $(this,s),z(this,e.call(this,t,i,a))}return s.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},s.prototype.update=function(i){(!this.track_||i&&(i.type==="addtrack"||i.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},s.prototype.setTrack=function(i){if(this.track_!==i){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=i,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}}},s.prototype.findChaptersTrack=function(){for(var i=this.player_.textTracks()||[],a=i.length-1;a>=0;a--){var r=i[a];if(r.kind===this.kind_)return r}},s.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(oe(this.kind_))},s.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},s.prototype.createItems=function(){var i=[];if(!this.track_)return i;var a=this.track_.cues;if(!a)return i;for(var r=0,n=a.length;r<n;r++){var o=a[r],l=new $l(this.player_,{track:this.track_,cue:o});i.push(l)}return i},s}(li);Ur.prototype.kind_="chapters";Ur.prototype.controlText_="Chapters";R.registerComponent("ChaptersButton",Ur);var zr=function(e){j(s,e);function s(t,i,a){$(this,s);var r=z(this,e.call(this,t,i,a)),n=t.textTracks(),o=Y(r,r.handleTracksChange);return n.addEventListener("change",o),r.on("dispose",function(){n.removeEventListener("change",o)}),r}return s.prototype.handleTracksChange=function(i){for(var a=this.player().textTracks(),r=!1,n=0,o=a.length;n<o;n++){var l=a[n];if(l.kind!==this.kind_&&l.mode==="showing"){r=!0;break}}r?this.disable():this.enable()},s.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},s}(li);zr.prototype.kind_="descriptions";zr.prototype.controlText_="Descriptions";R.registerComponent("DescriptionsButton",zr);var Br=function(e){j(s,e);function s(t,i,a){return $(this,s),z(this,e.call(this,t,i,a))}return s.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},s}(li);Br.prototype.kind_="subtitles";Br.prototype.controlText_="Subtitles";R.registerComponent("SubtitlesButton",Br);var $r=function(e){j(s,e);function s(t,i){$(this,s),i.track={player:t,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem";var a=z(this,e.call(this,t,i));return a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+i.kind+" settings dialog"),a}return s.prototype.handleClick=function(i){this.player().getChild("textTrackSettings").open()},s}(Vi);R.registerComponent("CaptionSettingsMenuItem",$r);var jr=function(e){j(s,e);function s(t,i,a){return $(this,s),z(this,e.call(this,t,i,a))}return s.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},s.prototype.createItems=function(){var i=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(i.push(new $r(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,i)},s}(li);jr.prototype.kind_="captions";jr.prototype.controlText_="Captions";R.registerComponent("CaptionsButton",jr);var jl=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.createEl=function(i,a,r){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);this.options_.track.kind==="captions"&&(n+=`
        <span aria-hidden="true" class="vjs-icon-placeholder"></span>
        <span class="vjs-control-text"> `+this.localize("Captions")+`</span>
      `),n+="</span>";var o=e.prototype.createEl.call(this,i,ae({innerHTML:n},a),r);return o},s}(Vi);R.registerComponent("SubsCapsMenuItem",jl);var Hr=function(e){j(s,e);function s(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(this,s);var a=z(this,e.call(this,t,i));return a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(oe(a.label_)),a}return s.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},s.prototype.createItems=function(){var i=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(i.push(new $r(this.player_,{kind:this.label_})),this.hideThreshold_+=1),i=e.prototype.createItems.call(this,i,jl),i},s}(li);Hr.prototype.kinds_=["captions","subtitles"];Hr.prototype.controlText_="Subtitles";R.registerComponent("SubsCapsButton",Hr);var Hl=function(e){j(s,e);function s(t,i){$(this,s);var a=i.track,r=t.audioTracks();i.label=a.label||a.language||"Unknown",i.selected=a.enabled;var n=z(this,e.call(this,t,i));n.track=a,n.addClass("vjs-"+a.kind+"-menu-item");var o=function(){for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];n.handleTracksChange.apply(n,c)};return r.addEventListener("change",o),n.on("dispose",function(){r.removeEventListener("change",o)}),n}return s.prototype.createEl=function(i,a,r){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);this.options_.track.kind==="main-desc"&&(n+=`
        <span aria-hidden="true" class="vjs-icon-placeholder"></span>
        <span class="vjs-control-text"> `+this.localize("Descriptions")+`</span>
      `),n+="</span>";var o=e.prototype.createEl.call(this,i,ae({innerHTML:n},a),r);return o},s.prototype.handleClick=function(i){var a=this.player_.audioTracks();e.prototype.handleClick.call(this,i);for(var r=0;r<a.length;r++){var n=a[r];n.enabled=n===this.track}},s.prototype.handleTracksChange=function(i){this.selected(this.track.enabled)},s}(Hi);R.registerComponent("AudioTrackMenuItem",Hl);var Vl=function(e){j(s,e);function s(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $(this,s),i.tracks=t.audioTracks(),z(this,e.call(this,t,i))}return s.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},s.prototype.createItems=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.hideThreshold_=1;for(var a=this.player_.audioTracks(),r=0;r<a.length;r++){var n=a[r];i.push(new Hl(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return i},s}(Fr);Vl.prototype.controlText_="Audio Track";R.registerComponent("AudioTrackButton",Vl);var Vr=function(e){j(s,e);function s(t,i){$(this,s);var a=i.rate,r=parseFloat(a,10);i.label=a,i.selected=r===1,i.selectable=!0,i.multiSelectable=!1;var n=z(this,e.call(this,t,i));return n.label=a,n.rate=r,n.on(t,"ratechange",n.update),n}return s.prototype.handleClick=function(i){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},s.prototype.update=function(i){this.selected(this.player().playbackRate()===this.rate)},s}(Hi);Vr.prototype.contentElType="button";R.registerComponent("PlaybackRateMenuItem",Vr);var Wl=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.updateVisibility(),a.updateLabel(),a.on(t,"loadstart",a.updateVisibility),a.on(t,"ratechange",a.updateLabel),a}return s.prototype.createEl=function(){var i=e.prototype.createEl.call(this);return this.labelEl_=de("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),i.appendChild(this.labelEl_),i},s.prototype.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},s.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},s.prototype.createMenu=function(){var i=new Nr(this.player()),a=this.playbackRates();if(a)for(var r=a.length-1;r>=0;r--)i.addChild(new Vr(this.player(),{rate:a[r]+"x"}));return i},s.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},s.prototype.handleClick=function(i){for(var a=this.player().playbackRate(),r=this.playbackRates(),n=r[0],o=0;o<r.length;o++)if(r[o]>a){n=r[o];break}this.player().playbackRate(n)},s.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},s.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},s.prototype.updateVisibility=function(i){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},s.prototype.updateLabel=function(i){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},s}(Rr);Wl.prototype.controlText_="Playback Rate";R.registerComponent("PlaybackRateMenuButton",Wl);var Jl=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},s}(R);R.registerComponent("Spacer",Jl);var Uh=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},s.prototype.createEl=function(){var i=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return i.innerHTML="\xA0",i},s}(Jl);R.registerComponent("CustomControlSpacer",Uh);var Gl=function(e){j(s,e);function s(){return $(this,s),z(this,e.apply(this,arguments))}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},s}(R);Gl.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};R.registerComponent("ControlBar",Gl);var ql=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i));return a.on(t,"error",a.open),a}return s.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},s.prototype.content=function(){var i=this.player().error();return i?this.localize(i.message):""},s}(ri);ql.prototype.options_=re(ri.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});R.registerComponent("ErrorDisplay",ql);var fa="vjs-text-track-settings",Mn=["#000","Black"],Nn=["#00F","Blue"],Rn=["#0FF","Cyan"],Fn=["#0F0","Green"],Un=["#F0F","Magenta"],zn=["#F00","Red"],Bn=["#FFF","White"],$n=["#FF0","Yellow"],ma=["1","Opaque"],va=["0.5","Semi-Transparent"],jn=["0","Transparent"],Tt={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Mn,Bn,zn,Fn,Nn,$n,Un,Rn]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ma,va,jn]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Bn,Mn,zn,Fn,Nn,$n,Un,Rn]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(s){return s==="1.00"?null:Number(s)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ma,va]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[jn,va,ma]}};Tt.windowColor.options=Tt.backgroundColor.options;function Yl(e,s){if(s&&(e=s(e)),e&&e!=="none")return e}function zh(e,s){var t=e.options[e.options.selectedIndex].value;return Yl(t,s)}function Bh(e,s,t){if(!!s){for(var i=0;i<e.options.length;i++)if(Yl(e.options[i].value,t)===s){e.selectedIndex=i;break}}}var $h=function(e){j(s,e);function s(t,i){$(this,s),i.temporary=!1;var a=z(this,e.call(this,t,i));return a.updateDisplay=Y(a,a.updateDisplay),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=de("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),i.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),Vt(Tt,function(r){a.on(a.$(r.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}return s.prototype.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},s.prototype.createElSelect_=function(i){var a=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"label",o=Tt[i],l=o.id.replace("%s",this.id_),u=[r,l].join(" ").trim();return["<"+n+' id="'+l+'" class="'+(n==="label"?"vjs-label":"")+'">',this.localize(o.label),"</"+n+">",'<select aria-labelledby="'+u+'">'].concat(o.options.map(function(c){var d=l+"-"+c[1].replace(/\W+/g,"");return['<option id="'+d+'" value="'+c[0]+'" ','aria-labelledby="'+u+" "+d+'">',a.localize(c[1]),"</option>"].join("")})).concat("</select>").join("")},s.prototype.createElFgColor_=function(){var i="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",i),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",i),"</span>","</fieldset>"].join("")},s.prototype.createElBgColor_=function(){var i="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",i),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",i),"</span>","</fieldset>"].join("")},s.prototype.createElWinColor_=function(){var i="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",i),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",i),"</span>","</fieldset>"].join("")},s.prototype.createElColors_=function(){return de("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},s.prototype.createElFont_=function(){return de("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},s.prototype.createElControls_=function(){var i=this.localize("restore all settings to the default values");return de("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+i+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+i+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},s.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},s.prototype.label=function(){return this.localize("Caption Settings Dialog")},s.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},s.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},s.prototype.getValues=function(){var i=this;return Nd(Tt,function(a,r,n){var o=zh(i.$(r.selector),r.parser);return o!==void 0&&(a[n]=o),a},{})},s.prototype.setValues=function(i){var a=this;Vt(Tt,function(r,n){Bh(a.$(r.selector),i[n],r.parser)})},s.prototype.setDefaults=function(){var i=this;Vt(Tt,function(a){var r=a.hasOwnProperty("default")?a.default:0;i.$(a.selector).selectedIndex=r})},s.prototype.restoreSettings=function(){var i=void 0;try{i=JSON.parse(M.localStorage.getItem(fa))}catch(a){Z.warn(a)}i&&this.setValues(i)},s.prototype.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var i=this.getValues();try{Object.keys(i).length?M.localStorage.setItem(fa,JSON.stringify(i)):M.localStorage.removeItem(fa)}catch(a){Z.warn(a)}}},s.prototype.updateDisplay=function(){var i=this.player_.getChild("textTrackDisplay");i&&i.updateDisplay()},s.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(U,"keydown",this.handleKeyDown);var i=this.player_.controlBar,a=i&&i.subsCapsButton,r=i&&i.captionsButton;a?a.focus():r&&r.focus()},s}(ri);R.registerComponent("TextTrackSettings",$h);var jh=function(e){j(s,e);function s(t,i){$(this,s);var a=i.ResizeObserver||M.ResizeObserver;i.ResizeObserver===null&&(a=!1);var r=re({createEl:!a},i),n=z(this,e.call(this,t,r));return n.ResizeObserver=i.ResizeObserver||M.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=Hd(function(){n.resizeHandler()},100,!1,n),a?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(t.el())):(n.loadListener_=function(){!n.el_||!n.el_.contentWindow||$e(n.el_.contentWindow,"resize",n.debouncedHandler_)},n.one("load",n.loadListener_)),n}return s.prototype.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},s.prototype.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},s.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Ie(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},s}(R);R.registerComponent("ResizeManager",jh);var Na=function(s){var t=s.el();if(t.hasAttribute("src"))return s.triggerSourceset(t.src),!0;var i=s.$$("source"),a=[],r="";if(!i.length)return!1;for(var n=0;n<i.length;n++){var o=i[n].src;o&&a.indexOf(o)===-1&&a.push(o)}return a.length?(a.length===1&&(r=a[0]),s.triggerSourceset(r),!0):!1},Kl={};le||(Kl=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(s){var t=U.createElement(this.nodeName.toLowerCase());t.innerHTML=s;for(var i=U.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",M.Element.prototype.appendChild.call(this,i),this.innerHTML}}));var Xl=function(s,t){for(var i={},a=0;a<s.length&&(i=Object.getOwnPropertyDescriptor(s[a],t),!(i&&i.set&&i.get));a++);return i.enumerable=!0,i.configurable=!0,i},Hh=function(s){return Xl([s.el(),M.HTMLMediaElement.prototype,M.Element.prototype,Kl],"innerHTML")},Hn=function(s){var t=s.el();if(!t.resetSourceWatch_){var i={},a=Hh(s),r=function(o){return function(){for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=o.apply(t,u);return Na(s),d}};["append","appendChild","insertAdjacentHTML"].forEach(function(n){!t[n]||(i[n]=t[n],t[n]=r(i[n]))}),Object.defineProperty(t,"innerHTML",re(a,{set:r(a.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(i).forEach(function(n){t[n]=i[n]}),Object.defineProperty(t,"innerHTML",a)},s.one("sourceset",t.resetSourceWatch_)}},Zl={};le||(Zl=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?xl(M.Element.prototype.getAttribute.call(this,"src")):""},set:function(s){return M.Element.prototype.setAttribute.call(this,"src",s),s}}));var Vh=function(s){return Xl([s.el(),M.HTMLMediaElement.prototype,Zl],"src")},Wh=function(s){if(!!s.featuresSourceset){var t=s.el();if(!t.resetSourceset_){var i=Vh(s),a=t.setAttribute,r=t.load;Object.defineProperty(t,"src",re(i,{set:function(o){var l=i.set.call(t,o);return s.triggerSourceset(t.src),l}})),t.setAttribute=function(n,o){var l=a.call(t,n,o);return/src/i.test(n)&&s.triggerSourceset(t.src),l},t.load=function(){var n=r.call(t);return Na(s)||(s.triggerSourceset(""),Hn(s)),n},t.currentSrc?s.triggerSourceset(t.currentSrc):Na(s)||Hn(s),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=r,t.setAttribute=a,Object.defineProperty(t,"src",i),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Jh=gr([`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
            This may prevent text tracks from loading.`],[`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
            This may prevent text tracks from loading.`]),F=function(e){j(s,e);function s(t,i){$(this,s);var a=z(this,e.call(this,t,i)),r=t.source,n=!1;if(r&&(a.el_.currentSrc!==r.src||t.tag&&t.tag.initNetworkState_===3)?a.setSource(r):a.handleLateInit_(a.el_),t.enableSourceset&&a.setupSourcesetHandling_(),a.el_.hasChildNodes()){for(var o=a.el_.childNodes,l=o.length,u=[];l--;){var c=o[l],d=c.nodeName.toLowerCase();d==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(c),a.remoteTextTracks().addTrack(c.track),a.textTracks().addTrack(c.track),!n&&!a.el_.hasAttribute("crossorigin")&&Vs(c.src)&&(n=!0)):u.push(c))}for(var h=0;h<u.length;h++)a.el_.removeChild(u[h])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&n&&Z.warn(pr(Jh)),a.restoreMetadataTracksInIOSNativePlayer_(),(ps||mr||Vo)&&t.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}return s.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),s.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},s.prototype.setupSourcesetHandling_=function(){Wh(this)},s.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var i=this.textTracks(),a=void 0,r=function(){a=[];for(var l=0;l<i.length;l++){var u=i[l];u.kind==="metadata"&&a.push({track:u,storedMode:u.mode})}};r(),i.addEventListener("change",r),this.on("dispose",function(){return i.removeEventListener("change",r)});var n=function o(){for(var l=0;l<a.length;l++){var u=a[l];u.track.mode==="disabled"&&u.track.mode!==u.storedMode&&(u.track.mode=u.storedMode)}i.removeEventListener("change",o)};this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",r),i.removeEventListener("change",n),i.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",r),i.addEventListener("change",r),i.removeEventListener("change",n)})},s.prototype.proxyNativeTracks_=function(){var i=this;Fe.names.forEach(function(a){var r=Fe[a],n=i.el()[r.getterName],o=i[r.getterName]();if(!(!i["featuresNative"+r.capitalName+"Tracks"]||!n||!n.addEventListener)){var l={change:function(d){o.trigger({type:"change",target:o,currentTarget:o,srcElement:o})},addtrack:function(d){o.addTrack(d.track)},removetrack:function(d){o.removeTrack(d.track)}},u=function(){for(var d=[],h=0;h<o.length;h++){for(var p=!1,f=0;f<n.length;f++)if(n[f]===o[h]){p=!0;break}p||d.push(o[h])}for(;d.length;)o.removeTrack(d.shift())};Object.keys(l).forEach(function(c){var d=l[c];n.addEventListener(c,d),i.on("dispose",function(h){return n.removeEventListener(c,d)})}),i.on("loadstart",u),i.on("dispose",function(c){return i.off("loadstart",u)})}})},s.prototype.createEl=function(){var i=this.options_.tag;if(!i||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(i){var a=i.cloneNode(!0);i.parentNode&&i.parentNode.insertBefore(a,i),s.disposeMediaElement(i),i=a}else{i=U.createElement("video");var r=this.options_.tag&&et(this.options_.tag),n=re({},r);(!ps||this.options_.nativeControlsForTouch!==!0)&&delete n.controls,sl(i,ae(n,{id:this.options_.techId,class:"vjs-tech"}))}i.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&Ti(i,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],l=0;l<o.length;l++){var u=o[l],c=this.options_[u];typeof c!="undefined"&&(c?Ti(i,u,u):$s(i,u),i[u]=c)}return i},s.prototype.handleLateInit_=function(i){if(!(i.networkState===0||i.networkState===3)){if(i.readyState===0){var a=!1,r=function(){a=!0};this.on("loadstart",r);var n=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",n),this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",n),a||this.trigger("loadstart")});return}var o=["loadstart"];o.push("loadedmetadata"),i.readyState>=2&&o.push("loadeddata"),i.readyState>=3&&o.push("canplay"),i.readyState>=4&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(l){this.trigger(l)},this)})}},s.prototype.setCurrentTime=function(i){try{this.el_.currentTime=i}catch(a){Z(a,"Video is not ready. (Video.js)")}},s.prototype.duration=function(){var i=this;if(this.el_.duration===1/0&&gt&&_t&&this.el_.currentTime===0){var a=function r(){i.el_.currentTime>0&&(i.el_.duration===1/0&&i.trigger("durationchange"),i.off("timeupdate",r))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},s.prototype.width=function(){return this.el_.offsetWidth},s.prototype.height=function(){return this.el_.offsetHeight},s.prototype.proxyWebkitFullscreen_=function(){var i=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",function(){i.off("webkitbeginfullscreen",r),i.off("webkitendfullscreen",a)})}},s.prototype.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var i=M.navigator&&M.navigator.userAgent||"";if(/Android/.test(i)||!/Chrome|Mac OS X 10.5/.test(i))return!0}return!1},s.prototype.enterFullScreen=function(){var i=this.el_;i.paused&&i.networkState<=i.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){i.pause(),i.webkitEnterFullScreen()},0)):i.webkitEnterFullScreen()},s.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},s.prototype.src=function(i){if(i===void 0)return this.el_.src;this.setSrc(i)},s.prototype.reset=function(){s.resetMediaElement(this.el_)},s.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},s.prototype.setControls=function(i){this.el_.controls=!!i},s.prototype.addTextTrack=function(i,a,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(i,a,r):e.prototype.addTextTrack.call(this,i,a,r)},s.prototype.createRemoteTextTrack=function(i){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,i);var a=U.createElement("track");return i.kind&&(a.kind=i.kind),i.label&&(a.label=i.label),(i.language||i.srclang)&&(a.srclang=i.language||i.srclang),i.default&&(a.default=i.default),i.id&&(a.id=i.id),i.src&&(a.src=i.src),a},s.prototype.addRemoteTextTrack=function(i,a){var r=e.prototype.addRemoteTextTrack.call(this,i,a);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},s.prototype.removeRemoteTextTrack=function(i){if(e.prototype.removeRemoteTextTrack.call(this,i),this.featuresNativeTextTracks)for(var a=this.$$("track"),r=a.length;r--;)(i===a[r]||i===a[r].track)&&this.el().removeChild(a[r])},s.prototype.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var i={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(i.droppedVideoFrames=this.el().webkitDroppedFrameCount,i.totalVideoFrames=this.el().webkitDecodedFrameCount),M.performance&&typeof M.performance.now=="function"?i.creationTime=M.performance.now():M.performance&&M.performance.timing&&typeof M.performance.timing.navigationStart=="number"&&(i.creationTime=M.Date.now()-M.performance.timing.navigationStart),i},s}(se);if(yt()){F.TEST_VID=U.createElement("video");var Xi=U.createElement("track");Xi.kind="captions",Xi.srclang="en",Xi.label="English",F.TEST_VID.appendChild(Xi)}F.isSupported=function(){try{F.TEST_VID.volume=.5}catch{return!1}return!!(F.TEST_VID&&F.TEST_VID.canPlayType)};F.canPlayType=function(e){return F.TEST_VID.canPlayType(e)};F.canPlaySource=function(e,s){return F.canPlayType(e.type)};F.canControlVolume=function(){try{var e=F.TEST_VID.volume;return F.TEST_VID.volume=e/2+.1,e!==F.TEST_VID.volume}catch{return!1}};F.canMuteVolume=function(){try{var e=F.TEST_VID.muted;return F.TEST_VID.muted=!e,F.TEST_VID.muted?Ti(F.TEST_VID,"muted","muted"):$s(F.TEST_VID,"muted","muted"),e!==F.TEST_VID.muted}catch{return!1}};F.canControlPlaybackRate=function(){if(gt&&_t&&Jo<58)return!1;try{var e=F.TEST_VID.playbackRate;return F.TEST_VID.playbackRate=e/2+.1,e!==F.TEST_VID.playbackRate}catch{return!1}};F.canOverrideAttributes=function(){if(le)return!1;try{var e=function(){};Object.defineProperty(U.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(U.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(U.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(U.createElement("audio"),"innerHTML",{get:e,set:e})}catch{return!1}return!0};F.supportsNativeTextTracks=function(){return qo||ot&&_t};F.supportsNativeVideoTracks=function(){return!!(F.TEST_VID&&F.TEST_VID.videoTracks)};F.supportsNativeAudioTracks=function(){return!!(F.TEST_VID&&F.TEST_VID.audioTracks)};F.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];F.prototype.featuresVolumeControl=F.canControlVolume();F.prototype.featuresMuteControl=F.canMuteVolume();F.prototype.featuresPlaybackRate=F.canControlPlaybackRate();F.prototype.featuresSourceset=F.canOverrideAttributes();F.prototype.movingMediaElementInDOM=!ot;F.prototype.featuresFullscreenResize=!0;F.prototype.featuresProgressEvents=!0;F.prototype.featuresTimeupdateEvents=!0;F.prototype.featuresNativeTextTracks=F.supportsNativeTextTracks();F.prototype.featuresNativeVideoTracks=F.supportsNativeVideoTracks();F.prototype.featuresNativeAudioTracks=F.supportsNativeAudioTracks();var Ra=F.TEST_VID&&F.TEST_VID.constructor.prototype.canPlayType,Gh=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,qh=/^video\/mp4/i;F.patchCanPlayType=function(){Bs>=4&&!Wo&&!_t?F.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Gh.test(e)?"maybe":Ra.call(this,e)}:Ho&&(F.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&qh.test(e)?"maybe":Ra.call(this,e)})};F.unpatchCanPlayType=function(){var e=F.TEST_VID.constructor.prototype.canPlayType;return F.TEST_VID.constructor.prototype.canPlayType=Ra,e};F.patchCanPlayType();F.disposeMediaElement=function(e){if(!!e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),typeof e.load=="function"&&function(){try{e.load()}catch{}}()}};F.resetMediaElement=function(e){if(!!e){for(var s=e.querySelectorAll("source"),t=s.length;t--;)e.removeChild(s[t]);e.removeAttribute("src"),typeof e.load=="function"&&function(){try{e.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){F.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){F.prototype["set"+oe(e)]=function(s){this.el_[e]=s,s?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){F.prototype[e]=function(){return this.el_[e]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){F.prototype["set"+oe(e)]=function(s){this.el_[e]=s}});["pause","load","play"].forEach(function(e){F.prototype[e]=function(){return this.el_[e]()}});se.withSourceHandlers(F);F.nativeSourceHandler={};F.nativeSourceHandler.canPlayType=function(e){try{return F.TEST_VID.canPlayType(e)}catch{return""}};F.nativeSourceHandler.canHandleSource=function(e,s){if(e.type)return F.nativeSourceHandler.canPlayType(e.type);if(e.src){var t=kr(e.src);return F.nativeSourceHandler.canPlayType("video/"+t)}return""};F.nativeSourceHandler.handleSource=function(e,s,t){s.setSrc(e.src)};F.nativeSourceHandler.dispose=function(){};F.registerSourceHandler(F.nativeSourceHandler);se.registerTech("Html5",F);var Yh=gr([`
        Using the tech directly can be dangerous. I hope you know what you're doing.
        See https://github.com/videojs/video.js/issues/2617 for more info.
      `],[`
        Using the tech directly can be dangerous. I hope you know what you're doing.
        See https://github.com/videojs/video.js/issues/2617 for more info.
      `]),Ql=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ga={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Fa=["tiny","xsmall","small","medium","large","xlarge","huge"],ls={};Fa.forEach(function(e){var s=e.charAt(0)==="x"?"x-"+e.substring(1):e;ls[e]="vjs-layout-"+s});var Kh={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},he=function(e){j(s,e);function s(t,i,a){if($(this,s),t.id=t.id||i.id||"vjs_video_"+Mt(),i=ae(s.getTagSettings(t),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if(typeof t.closest=="function"){var r=t.closest("[lang]");r&&r.getAttribute&&(i.language=r.getAttribute("lang"))}else for(var n=t;n&&n.nodeType===1;){if(et(n).hasOwnProperty("lang")){i.language=n.getAttribute("lang");break}n=n.parentNode}var o=z(this,e.call(this,null,i,a));if(o.log=Zo(o.id_),o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=t,o.tagAttributes=t&&et(t),o.language(o.options_.language),i.languages){var l={};Object.getOwnPropertyNames(i.languages).forEach(function(h){l[h.toLowerCase()]=i.languages[h]}),o.languages_=l}else o.languages_=s.prototype.options_.languages;o.cache_={},o.poster_=i.poster||"",o.controls_=!!i.controls,o.cache_.lastVolume=1,t.controls=!1,t.removeAttribute("controls"),t.hasAttribute("autoplay")?o.options_.autoplay=!0:o.autoplay(o.options_.autoplay),o.scrubbing_=!1,o.el_=o.createEl(),o.cache_.lastPlaybackRate=o.defaultPlaybackRate(),Tr(o,{eventBusKey:"el_"});var u=re(o.options_);if(i.plugins){var c=i.plugins;Object.keys(c).forEach(function(h){if(typeof this[h]=="function")this[h](c[h]);else throw new Error('plugin "'+h+'" does not exist')},o)}o.options_.playerOptions=u,o.middleware_=[],o.initChildren(),o.isAudio(t.nodeName.toLowerCase()==="audio"),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),ot||o.addClass("vjs-workinghover"),s.players[o.id_]=o;var d=$o.split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("fullscreenchange",o.handleFullscreenChange_),o.on("stageclick",o.handleStageClick_),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o.changingSrc_=!1,o.playWaitingForReady_=!1,o.playOnLoadstart_=null,o}return s.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),s.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),_h(this),e.prototype.dispose.call(this)},s.prototype.createEl=function(){var i=this.tag,a=void 0,r=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),n=this.tag.tagName.toLowerCase()==="video-js";r?a=this.el_=i.parentNode:n||(a=this.el_=e.prototype.createEl.call(this,"div"));var o=et(i);if(n){for(a=this.el_=i,i=this.tag=U.createElement("video");a.children.length;)i.appendChild(a.firstChild);kt(a,"video-js")||It(a,"video-js"),a.appendChild(i),r=this.playerElIngest_=a,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach(function(p){typeof a[p]!="undefined"&&(i[p]=a[p])})}if(i.setAttribute("tabindex","-1"),o.tabindex="-1",rt&&(i.setAttribute("role","application"),o.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(p){p==="class"?(a.className+=" "+o[p],n&&(i.className+=" "+o[p])):(a.setAttribute(p,o[p]),n&&i.setAttribute(p,o[p]))}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=a.player=this,this.addClass("vjs-paused"),M.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=vl("vjs-styles-dimensions");var l=vt(".vjs-styles-defaults"),u=vt("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=i.getElementsByTagName("a"),d=0;d<c.length;d++){var h=c.item(d);It(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!r&&i.parentNode.insertBefore(a,i),fs(i,a),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=a,a},s.prototype.width=function(i){return this.dimension("width",i)},s.prototype.height=function(i){return this.dimension("height",i)},s.prototype.dimension=function(i,a){var r=i+"_";if(a===void 0)return this[r]||0;if(a===""){this[r]=void 0,this.updateStyleEl_();return}var n=parseFloat(a);if(isNaN(n)){Z.error('Improper value "'+a+'" supplied for for '+i);return}this[r]=n,this.updateStyleEl_()},s.prototype.fluid=function(i){if(i===void 0)return!!this.fluid_;this.fluid_=!!i,i?(this.addClass("vjs-fluid"),this.fill(!1)):this.removeClass("vjs-fluid"),this.updateStyleEl_()},s.prototype.fill=function(i){if(i===void 0)return!!this.fill_;this.fill_=!!i,i?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},s.prototype.aspectRatio=function(i){if(i===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(i))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=i,this.fluid(!0),this.updateStyleEl_()},s.prototype.updateStyleEl_=function(){if(M.VIDEOJS_NO_DYNAMIC_STYLE===!0){var i=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,r=this.tech_&&this.tech_.el();r&&(i>=0&&(r.width=i),a>=0&&(r.height=a));return}var n=void 0,o=void 0,l=void 0,u=void 0;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?l=this.aspectRatio_:this.videoWidth()>0?l=this.videoWidth()+":"+this.videoHeight():l="16:9";var c=l.split(":"),d=c[1]/c[0];this.width_!==void 0?n=this.width_:this.height_!==void 0?n=this.height_/d:n=this.videoWidth()||300,this.height_!==void 0?o=this.height_:o=n*d,/^[^a-zA-Z]/.test(this.id())?u="dimensions-"+this.id():u=this.id()+"-dimensions",this.addClass(u),gl(this.styleEl_,`
      .`+u+` {
        width: `+n+`px;
        height: `+o+`px;
      }

      .`+u+`.vjs-fluid {
        padding-top: `+d*100+`%;
      }
    `)},s.prototype.loadTech_=function(i,a){var r=this;this.tech_&&this.unloadTech_();var n=oe(i),o=i.charAt(0).toLowerCase()+i.slice(1);n!=="Html5"&&this.tag&&(se.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var l=typeof this.autoplay()=="string"?!1:this.autoplay(),u={source:a,autoplay:l,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+o+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};ke.names.forEach(function(d){var h=ke[d];u[h.getterName]=r[h.privateName]}),ae(u,this.options_[n]),ae(u,this.options_[o]),ae(u,this.options_[i.toLowerCase()]),this.tag&&(u.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(u.startTime=this.cache_.currentTime);var c=se.getTech(i);if(!c)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new c(u),this.tech_.ready(Y(this,this.handleTechReady_),!0),wn.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Ql.forEach(function(d){r.on(r.tech_,d,r["handleTech"+oe(d)+"_"])}),Object.keys(ga).forEach(function(d){r.on(r.tech_,d,function(h){if(r.tech_.playbackRate()===0&&r.tech_.seeking()){r.queuedCallbacks_.push({callback:r["handleTech"+ga[d]+"_"].bind(r),event:h});return}r["handleTech"+ga[d]+"_"](h)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&fs(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},s.prototype.unloadTech_=function(){var i=this;ke.names.forEach(function(a){var r=ke[a];i[r.privateName]=i[r.getterName]()}),this.textTracksJson_=wn.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},s.prototype.tech=function(i){return i===void 0&&Z.warn(pr(Yh)),this.tech_},s.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},s.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},s.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(i){Z("deleting tag.poster throws in some browsers",i)}},s.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},s.prototype.manualAutoplay_=function(i){var a=this;if(!(!this.tech_||typeof i!="string")){var r=function(){var l=a.muted();a.muted(!0);var u=a.play();if(!(!u||!u.then||!u.catch))return u.catch(function(c){a.muted(l)})},n=void 0;if(i==="any"?(n=this.play(),n&&n.then&&n.catch&&n.catch(function(){return r()})):i==="muted"?n=r():n=this.play(),!(!n||!n.then||!n.catch))return n.then(function(){a.trigger({type:"autoplay-success",autoplay:i})}).catch(function(o){a.trigger({type:"autoplay-failure",autoplay:i})})}},s.prototype.updateSourceCaches_=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=i,r="";typeof a!="string"&&(a=i.src,r=i.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!r&&(r=Ch(this,a)),this.cache_.source=re({},i,{src:a,type:r});for(var n=this.cache_.sources.filter(function(h){return h.src&&h.src===a}),o=[],l=this.$$("source"),u=[],c=0;c<l.length;c++){var d=et(l[c]);o.push(d),d.src&&d.src===a&&u.push(d.src)}u.length&&!n.length?this.cache_.sources=o:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},s.prototype.handleTechSourceset_=function(i){var a=this;if(!this.changingSrc_){var r=function(c){return a.updateSourceCaches_(c)},n=this.currentSource().src,o=i.src;if(n&&!/^blob:/.test(n)&&/^blob:/.test(o)&&(!this.lastSource_||this.lastSource_.tech!==o&&this.lastSource_.player!==n)&&(r=function(){}),r(o),!i.src){var l=function u(c){if(c.type!=="sourceset"){var d=a.techGet("currentSrc");a.lastSource_.tech=d,a.updateSourceCaches_(d)}a.tech_.off(["sourceset","loadstart"],u)};this.tech_.one(["sourceset","loadstart"],l)}}this.lastSource_={player:this.currentSource().src,tech:i.src},this.trigger({src:i.src,type:"sourceset"})},s.prototype.hasStarted=function(i){if(i===void 0)return this.hasStarted_;i!==this.hasStarted_&&(this.hasStarted_=i,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},s.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},s.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(i){return i.callback(i.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},s.prototype.handleTechWaiting_=function(){var i=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return i.removeClass("vjs-waiting")})},s.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},s.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},s.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},s.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},s.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},s.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(Z.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},s.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},s.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},s.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},s.prototype.handleTechClick_=function(i){!Gt(i)||!this.controls_||(this.paused()?ki(this.play()):this.pause())},s.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},s.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},s.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},s.prototype.handleTechTouchEnd_=function(i){i.preventDefault()},s.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},s.prototype.handleStageClick_=function(){this.reportUserActivity()},s.prototype.handleTechFullscreenChange_=function(i,a){a&&this.isFullscreen(a.isFullscreen),this.trigger("fullscreenchange")},s.prototype.handleTechError_=function(){var i=this.tech_.error();this.error(i)},s.prototype.handleTechTextData_=function(){var i=null;arguments.length>1&&(i=arguments[1]),this.trigger("textdata",i)},s.prototype.getCache=function(){return this.cache_},s.prototype.techCall_=function(i,a){this.ready(function(){if(i in vh)return fh(this.middleware_,this.tech_,i,a);if(i in En)return Pn(this.middleware_,this.tech_,i,a);try{this.tech_&&this.tech_[i](a)}catch(r){throw Z(r),r}},!0)},s.prototype.techGet_=function(i){if(!(!this.tech_||!this.tech_.isReady_)){if(i in mh)return ph(this.middleware_,this.tech_,i);if(i in En)return Pn(this.middleware_,this.tech_,i);try{return this.tech_[i]()}catch(a){throw this.tech_[i]===void 0?(Z("Video.js: "+i+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(Z("Video.js: "+i+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(Z(a),a)}}},s.prototype.play=function(){var i=this,a=this.options_.Promise||M.Promise;return a?new a(function(r){i.play_(r)}):this.play_()},s.prototype.play_=function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ki;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_)if(!this.changingSrc_&&(this.src()||this.currentSrc())){a(this.techGet_("play"));return}else this.playOnLoadstart_=function(){i.playOnLoadstart_=null,a(i.play())},this.one("loadstart",this.playOnLoadstart_);else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){i.playWaitingForReady_=!1,a(i.play())})}},s.prototype.pause=function(){this.techCall_("pause")},s.prototype.paused=function(){return this.techGet_("paused")!==!1},s.prototype.played=function(){return this.techGet_("played")||Pt(0,0)},s.prototype.scrubbing=function(i){if(typeof i=="undefined")return this.scrubbing_;this.scrubbing_=!!i,i?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},s.prototype.currentTime=function(i){if(typeof i!="undefined"){i<0&&(i=0),this.techCall_("setCurrentTime",i);return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},s.prototype.duration=function(i){if(i===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;i=parseFloat(i),i<0&&(i=1/0),i!==this.cache_.duration&&(this.cache_.duration=i,i===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},s.prototype.remainingTime=function(){return this.duration()-this.currentTime()},s.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},s.prototype.buffered=function(){var i=this.techGet_("buffered");return(!i||!i.length)&&(i=Pt(0,0)),i},s.prototype.bufferedPercent=function(){return Sl(this.buffered(),this.duration())},s.prototype.bufferedEnd=function(){var i=this.buffered(),a=this.duration(),r=i.end(i.length-1);return r>a&&(r=a),r},s.prototype.volume=function(i){var a=void 0;if(i!==void 0){a=Math.max(0,Math.min(1,parseFloat(i))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},s.prototype.muted=function(i){if(i!==void 0){this.techCall_("setMuted",i);return}return this.techGet_("muted")||!1},s.prototype.defaultMuted=function(i){return i!==void 0?this.techCall_("setDefaultMuted",i):this.techGet_("defaultMuted")||!1},s.prototype.lastVolume_=function(i){if(i!==void 0&&i!==0){this.cache_.lastVolume=i;return}return this.cache_.lastVolume},s.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},s.prototype.isFullscreen=function(i){if(i!==void 0){this.isFullscreen_=!!i;return}return!!this.isFullscreen_},s.prototype.requestFullscreen=function(){var i=ms;this.isFullscreen(!0),i.requestFullscreen?($e(U,i.fullscreenchange,Y(this,function a(r){this.isFullscreen(U[i.fullscreenElement]),this.isFullscreen()===!1&&Ie(U,i.fullscreenchange,a),this.trigger("fullscreenchange")})),this.el_[i.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},s.prototype.exitFullscreen=function(){var i=ms;this.isFullscreen(!1),i.requestFullscreen?U[i.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},s.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=U.documentElement.style.overflow,$e(U,"keydown",Y(this,this.fullWindowOnEscKey)),U.documentElement.style.overflow="hidden",It(U.body,"vjs-full-window"),this.trigger("enterFullWindow")},s.prototype.fullWindowOnEscKey=function(i){i.keyCode===27&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},s.prototype.exitFullWindow=function(){this.isFullWindow=!1,Ie(U,"keydown",this.fullWindowOnEscKey),U.documentElement.style.overflow=this.docOrigOverflow,Bi(U.body,"vjs-full-window"),this.trigger("exitFullWindow")},s.prototype.canPlayType=function(i){for(var a=void 0,r=0,n=this.options_.techOrder;r<n.length;r++){var o=n[r],l=se.getTech(o);if(l||(l=R.getComponent(o)),!l){Z.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.');continue}if(l.isSupported()&&(a=l.canPlayType(i),a))return a}return""},s.prototype.selectSource=function(i){var a=this,r=this.options_.techOrder.map(function(c){return[c,se.getTech(c)]}).filter(function(c){var d=c[0],h=c[1];return h?h.isSupported():(Z.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(d,h,p){var f=void 0;return d.some(function(v){return h.some(function(_){if(f=p(v,_),f)return!0})}),f},o=void 0,l=function(d){return function(h,p){return d(p,h)}},u=function(d,h){var p=d[0],f=d[1];if(f.canPlaySource(h,a.options_[p.toLowerCase()]))return{source:h,tech:p}};return this.options_.sourceOrder?o=n(i,r,l(u)):o=n(r,i,u),o||!1},s.prototype.src=function(i){var a=this;if(typeof i=="undefined")return this.cache_.src||"";var r=Sh(i);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),dh(this,r[0],function(n,o){a.middleware_=o,a.cache_.sources=r,a.updateSourceCaches_(n);var l=a.src_(n);if(l){if(r.length>1)return a.src(r.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),a.triggerReady();return}hh(o,a.tech_)})},s.prototype.src_=function(i){var a=this,r=this.selectSource([i]);return r?Jd(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",i):this.techCall_("src",i.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},s.prototype.load=function(){this.techCall_("load")},s.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},s.prototype.currentSources=function(){var i=this.currentSource(),a=[];return Object.keys(i).length!==0&&a.push(i),this.cache_.sources||a},s.prototype.currentSource=function(){return this.cache_.source||{}},s.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},s.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},s.prototype.preload=function(i){if(i!==void 0){this.techCall_("setPreload",i),this.options_.preload=i;return}return this.techGet_("preload")},s.prototype.autoplay=function(i){if(i===void 0)return this.options_.autoplay||!1;var a=void 0;typeof i=="string"&&/(any|play|muted)/.test(i)?(this.options_.autoplay=i,this.manualAutoplay_(i),a=!1):i?this.options_.autoplay=!0:this.options_.autoplay=!1,a=a||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",a)},s.prototype.playsinline=function(i){return i!==void 0?(this.techCall_("setPlaysinline",i),this.options_.playsinline=i,this):this.techGet_("playsinline")},s.prototype.loop=function(i){if(i!==void 0){this.techCall_("setLoop",i),this.options_.loop=i;return}return this.techGet_("loop")},s.prototype.poster=function(i){if(i===void 0)return this.poster_;i||(i=""),i!==this.poster_&&(this.poster_=i,this.techCall_("setPoster",i),this.isPosterFromTech_=!1,this.trigger("posterchange"))},s.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var i=this.tech_.poster()||"";i!==this.poster_&&(this.poster_=i,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},s.prototype.controls=function(i){if(i===void 0)return!!this.controls_;i=!!i,this.controls_!==i&&(this.controls_=i,this.usingNativeControls()&&this.techCall_("setControls",i),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},s.prototype.usingNativeControls=function(i){if(i===void 0)return!!this.usingNativeControls_;i=!!i,this.usingNativeControls_!==i&&(this.usingNativeControls_=i,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},s.prototype.error=function(i){if(i===void 0)return this.error_||null;if(i===null){this.error_=i,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new be(i),this.addClass("vjs-error"),Z.error("(CODE:"+this.error_.code+" "+be.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},s.prototype.reportUserActivity=function(i){this.userActivity_=!0},s.prototype.userActive=function(i){if(i===void 0)return this.userActive_;if(i=!!i,i!==this.userActive_){if(this.userActive_=i,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},s.prototype.listenForUserActivity_=function(){var i=void 0,a=void 0,r=void 0,n=Y(this,this.reportUserActivity),o=function(h){(h.screenX!==a||h.screenY!==r)&&(a=h.screenX,r=h.screenY,n())},l=function(){n(),this.clearInterval(i),i=this.setInterval(n,250)},u=function(h){n(),this.clearInterval(i)};this.on("mousedown",l),this.on("mousemove",o),this.on("mouseup",u),this.on("keydown",n),this.on("keyup",n);var c=void 0;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(c);var d=this.options_.inactivityTimeout;d<=0||(c=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))}},250)},s.prototype.playbackRate=function(i){if(i!==void 0){this.techCall_("setPlaybackRate",i);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},s.prototype.defaultPlaybackRate=function(i){return i!==void 0?this.techCall_("setDefaultPlaybackRate",i):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},s.prototype.isAudio=function(i){if(i!==void 0){this.isAudio_=!!i;return}return!!this.isAudio_},s.prototype.addTextTrack=function(i,a,r){if(this.tech_)return this.tech_.addTextTrack(i,a,r)},s.prototype.addRemoteTextTrack=function(i,a){if(this.tech_)return this.tech_.addRemoteTextTrack(i,a)},s.prototype.removeRemoteTextTrack=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=i.track,r=a===void 0?arguments[0]:a;if(this.tech_)return this.tech_.removeRemoteTextTrack(r)},s.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},s.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},s.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},s.prototype.language=function(i){if(i===void 0)return this.language_;this.language_=String(i).toLowerCase()},s.prototype.languages=function(){return re(s.prototype.options_.languages,this.languages_)},s.prototype.toJSON=function(){var i=re(this.options_),a=i.tracks;i.tracks=[];for(var r=0;r<a.length;r++){var n=a[r];n=re(n),n.player=void 0,i.tracks[r]=n}return i},s.prototype.createModal=function(i,a){var r=this;a=a||{},a.content=i||"";var n=new ri(this,a);return this.addChild(n),n.on("dispose",function(){r.removeChild(n)}),n.open(),n},s.prototype.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var i=this.currentBreakpoint(),a=this.currentWidth(),r=0;r<Fa.length;r++){var n=Fa[r],o=this.breakpoints_[n];if(a<=o){if(i===n)return;i&&this.removeClass(ls[i]),this.addClass(ls[n]),this.breakpoint_=n;break}}},s.prototype.removeCurrentBreakpoint_=function(){var i=this.currentBreakpointClass();this.breakpoint_="",i&&this.removeClass(i)},s.prototype.breakpoints=function(i){return i===void 0?ae(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=ae({},Kh,i),this.updateCurrentBreakpoint_(),ae(this.breakpoints_))},s.prototype.responsive=function(i){if(i===void 0)return this.responsive_;i=Boolean(i);var a=this.responsive_;if(i!==a)return this.responsive_=i,i?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),i},s.prototype.currentBreakpoint=function(){return this.breakpoint_},s.prototype.currentBreakpointClass=function(){return ls[this.breakpoint_]||""},s.getTagSettings=function(i){var a={sources:[],tracks:[]},r=et(i),n=r["data-setup"];if(kt(i,"vjs-fill")&&(r.fill=!0),kt(i,"vjs-fluid")&&(r.fluid=!0),n!==null){var o=Ad(n||"{}"),l=o[0],u=o[1];l&&Z.error(l),ae(r,u)}if(ae(a,r),i.hasChildNodes())for(var c=i.childNodes,d=0,h=c.length;d<h;d++){var p=c[d],f=p.nodeName.toLowerCase();f==="source"?a.sources.push(et(p)):f==="track"&&a.tracks.push(et(p))}return a},s.prototype.flexNotSupported_=function(){var i=U.createElement("i");return!("flexBasis"in i.style||"webkitFlexBasis"in i.style||"mozFlexBasis"in i.style||"msFlexBasis"in i.style||"msFlexOrder"in i.style)},s}(R);ke.names.forEach(function(e){var s=ke[e];he.prototype[s.getterName]=function(){return this.tech_?this.tech_[s.getterName]():(this[s.privateName]=this[s.privateName]||new s.ListClass,this[s.privateName])}});he.players={};var hi=M.navigator;he.prototype.options_={techOrder:se.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:hi&&(hi.languages&&hi.languages[0]||hi.userLanguage||hi.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1};le||he.prototype.options_.children.push("resizeManager");["ended","seeking","seekable","networkState","readyState"].forEach(function(e){he.prototype[e]=function(){return this.techGet_(e)}});Ql.forEach(function(e){he.prototype["handleTech"+oe(e)+"_"]=function(){return this.trigger(e)}});R.registerComponent("Player",he);var vs="plugin",Wt="activePlugins_",$t={},gs=function(s){return $t.hasOwnProperty(s)},us=function(s){return gs(s)?$t[s]:void 0},eu=function(s,t){s[Wt]=s[Wt]||{},s[Wt][t]=!0},_s=function(s,t,i){var a=(i?"before":"")+"pluginsetup";s.trigger(a,t),s.trigger(a+":"+t.name,t)},Xh=function(s,t){var i=function(){_s(this,{name:s,plugin:t,instance:null},!0);var r=t.apply(this,arguments);return eu(this,s),_s(this,{name:s,plugin:t,instance:r}),r};return Object.keys(t).forEach(function(a){i[a]=t[a]}),i},Vn=function(s,t){return t.prototype.name=s,function(){_s(this,{name:s,plugin:t,instance:null},!0);for(var i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];var n=new(Function.prototype.bind.apply(t,[null].concat([this].concat(a))));return this[s]=function(){return n},_s(this,n.getEventHash()),n}},Je=function(){function e(s){if($(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=s,Tr(this),delete this.trigger,Cl(this,this.constructor.defaultState),eu(s,this.name),this.dispose=Y(this,this.dispose),s.on("dispose",this.dispose)}return e.prototype.version=function(){return this.constructor.VERSION},e.prototype.getEventHash=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.prototype.trigger=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ai(this.eventBusEl_,t,this.getEventHash(i))},e.prototype.handleStateChanged=function(t){},e.prototype.dispose=function(){var t=this.name,i=this.player;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[Wt][t]=!1,this.player=this.state=null,i[t]=Vn(t,$t[t])},e.isBasic=function(t){var i=typeof t=="string"?us(t):t;return typeof i=="function"&&!e.prototype.isPrototypeOf(i.prototype)},e.registerPlugin=function(t,i){if(typeof t!="string")throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(typeof t=="undefined"?"undefined":Jt(t))+".");if(gs(t))Z.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(he.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if(typeof i!="function")throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(typeof i=="undefined"?"undefined":Jt(i))+".");return $t[t]=i,t!==vs&&(e.isBasic(i)?he.prototype[t]=Xh(t,i):he.prototype[t]=Vn(t,i)),i},e.deregisterPlugin=function(t){if(t===vs)throw new Error("Cannot de-register base plugin.");gs(t)&&(delete $t[t],delete he.prototype[t])},e.getPlugins=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Object.keys($t),i=void 0;return t.forEach(function(a){var r=us(a);r&&(i=i||{},i[a]=r)}),i},e.getPluginVersion=function(t){var i=us(t);return i&&i.VERSION||""},e}();Je.getPlugin=us;Je.BASE_PLUGIN_NAME=vs;Je.registerPlugin(vs,Je);he.prototype.usingPlugin=function(e){return!!this[Wt]&&this[Wt][e]===!0};he.prototype.hasPlugin=function(e){return!!gs(e)};var Zh=function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":Jt(t)));s.prototype=Object.create(t&&t.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.super_=t)},Qh=function(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=function(){s.apply(this,arguments)},a={};(typeof t=="undefined"?"undefined":Jt(t))==="object"?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),a=t):typeof t=="function"&&(i=t),Zh(i,s);for(var r in a)a.hasOwnProperty(r)&&(i.prototype[r]=a[r]);return i};typeof HTMLVideoElement=="undefined"&&yt()&&(U.createElement("video"),U.createElement("audio"),U.createElement("track"),U.createElement("video-js"));var tu=function(s){return s.indexOf("#")===0?s.slice(1):s};function B(e,s,t){var i=B.getPlayer(e);if(i)return s&&Z.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&i.ready(t),i;var a=typeof e=="string"?vt("#"+tu(e)):e;if(!Ui(a))throw new TypeError("The element or ID supplied is not valid. (videojs)");U.body.contains(a)||Z.warn("The element supplied is not included in the DOM"),s=s||{},B.hooks("beforesetup").forEach(function(n){var o=n(a,re(s));if(!nt(o)||Array.isArray(o)){Z.error("please return an object in beforesetup hooks");return}s=re(s,o)});var r=R.getComponent("Player");return i=new r(a,s,t),B.hooks("setup").forEach(function(n){return n(i)}),i}B.hooks_={};B.hooks=function(e,s){return B.hooks_[e]=B.hooks_[e]||[],s&&(B.hooks_[e]=B.hooks_[e].concat(s)),B.hooks_[e]};B.hook=function(e,s){B.hooks(e,s)};B.hookOnce=function(e,s){B.hooks(e,[].concat(s).map(function(t){var i=function a(){return B.removeHook(e,a),t.apply(void 0,arguments)};return i}))};B.removeHook=function(e,s){var t=B.hooks(e).indexOf(s);return t<=-1?!1:(B.hooks_[e]=B.hooks_[e].slice(),B.hooks_[e].splice(t,1),!0)};if(M.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&yt()){var Zi=vt(".vjs-styles-defaults");if(!Zi){Zi=vl("vjs-styles-defaults");var _a=vt("head");_a&&_a.insertBefore(Zi,_a.firstChild),gl(Zi,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}Da(1,B);B.VERSION=$o;B.options=he.prototype.options_;B.getPlayers=function(){return he.players};B.getPlayer=function(e){var s=he.players,t=void 0;if(typeof e=="string"){var i=tu(e),a=s[i];if(a)return a;t=vt("#"+i)}else t=e;if(Ui(t)){var r=t,n=r.player,o=r.playerId;if(n||s[o])return n||s[o]}};B.getAllPlayers=function(){return Object.keys(he.players).map(function(e){return he.players[e]}).filter(Boolean)};B.players=he.players;B.getComponent=R.getComponent;B.registerComponent=function(e,s){se.isTech(s)&&Z.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),R.registerComponent.call(R,e,s)};B.getTech=se.getTech;B.registerTech=se.registerTech;B.use=ch;!le&&Object.defineProperty?(Object.defineProperty(B,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(B.middleware,"TERMINATOR",{value:Pi,writeable:!1,enumerable:!0})):B.middleware={TERMINATOR:Pi};B.browser=Ld;B.TOUCH_ENABLED=ps;B.extend=Qh;B.mergeOptions=re;B.bind=Y;B.registerPlugin=Je.registerPlugin;B.deregisterPlugin=Je.deregisterPlugin;B.plugin=function(e,s){return Z.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Je.registerPlugin(e,s)};B.getPlugins=Je.getPlugins;B.getPlugin=Je.getPlugin;B.getPluginVersion=Je.getPluginVersion;B.addLanguage=function(e,s){var t;return e=(""+e).toLowerCase(),B.options.languages=re(B.options.languages,(t={},t[e]=s,t)),B.options.languages[e]};B.log=Z;B.createLogger=Zo;B.createTimeRange=B.createTimeRanges=Pt;B.formatTime=Yt;B.setFormatTime=Eh;B.resetFormatTime=Ah;B.parseUrl=xr;B.isCrossOrigin=Vs;B.EventTarget=me;B.on=$e;B.one=$i;B.off=Ie;B.trigger=ai;B.xhr=Bo;B.TextTrack=ji;B.AudioTrack=kl;B.VideoTrack=Il;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){B[e]=function(){return Z.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),hl[e].apply(null,arguments)}});B.computedStyle=Ea;B.dom=hl;B.url=rh;var ue=B;class Wr{constructor(){this.listeners={}}on(s,t){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(t)}off(s,t){if(!this.listeners[s])return!1;const i=this.listeners[s].indexOf(t);return this.listeners[s].splice(i,1),i>-1}trigger(s){const t=this.listeners[s];let i,a,r;if(!!t)if(arguments.length===2)for(a=t.length,i=0;i<a;++i)t[i].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),a=t.length,i=0;i<a;++i)t[i].apply(this,r)}dispose(){this.listeners={}}pipe(s){this.on("data",function(t){s.push(t)})}}class iu extends Wr{constructor(){super(),this.buffer=""}push(s){let t;for(this.buffer+=s,t=this.buffer.indexOf(`
`);t>-1;t=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}const ep=function(){const e="[^=]*",s='"[^"]*"|[^,]*',t="(?:"+e+")=(?:"+s+")";return new RegExp("(?:^|,)("+t+")")},Qi=function(e){const s=e.split(ep()),t={};let i=s.length,a;for(;i--;)s[i]!==""&&(a=/([^=]*)=(.*)/.exec(s[i]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),t[a[0]]=a[1]);return t};class su extends Wr{constructor(){super()}push(s){let t,i;if(s=s.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),s.length!==0){if(s[0]!=="#"){this.trigger("data",{type:"uri",uri:s});return}if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),t=/^#EXTM3U/.exec(s),t){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(s),t){i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),this.trigger("data",i);return}if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(s),t){i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),this.trigger("data",i);return}if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(s),t){i={type:"tag",tagType:"totalduration"},t[1]&&(i.duration=parseInt(t[1],10)),this.trigger("data",i);return}if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(s),t){i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),this.trigger("data",i);return}if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(s),t){i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),this.trigger("data",i);return}if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(s),t){i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),this.trigger("data",i);return}if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(s),t){i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),this.trigger("data",i);return}if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(s),t){i={type:"tag",tagType:"byterange"},t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),this.trigger("data",i);return}if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(s),t){i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),this.trigger("data",i);return}if(t=/^#EXT-X-MAP:?(.*)$/.exec(s),t){if(i={type:"tag",tagType:"map"},t[1]){const a=Qi(t[1]);if(a.URI&&(i.uri=a.URI),a.BYTERANGE){const[r,n]=a.BYTERANGE.split("@");i.byterange={},r&&(i.byterange.length=parseInt(r,10)),n&&(i.byterange.offset=parseInt(n,10))}}this.trigger("data",i);return}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(s),t){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=Qi(t[1]),i.attributes.RESOLUTION){const a=i.attributes.RESOLUTION.split("x"),r={};a[0]&&(r.width=parseInt(a[0],10)),a[1]&&(r.height=parseInt(a[1],10)),i.attributes.RESOLUTION=r}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i);return}if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(s),t){i={type:"tag",tagType:"media"},t[1]&&(i.attributes=Qi(t[1])),this.trigger("data",i);return}if(t=/^#EXT-X-ENDLIST/.exec(s),t){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(t=/^#EXT-X-DISCONTINUITY/.exec(s),t){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(s),t){i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),this.trigger("data",i);return}if(t=/^#EXT-X-KEY:?(.*)$/.exec(s),t){i={type:"tag",tagType:"key"},t[1]&&(i.attributes=Qi(t[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(s),t){i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",this.trigger("data",i);return}if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(s),t){i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",this.trigger("data",i);return}if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),t){i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",this.trigger("data",i);return}this.trigger("data",{type:"tag",data:s.slice(4)})}}}class tp extends Wr{constructor(){super(),this.lineStream=new iu,this.parseStream=new su,this.lineStream.pipe(this.parseStream);const s=this,t=[];let i={},a,r;const n=function(){},o={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let l=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},this.parseStream.on("data",function(u){let c,d;({tag(){({"allow-cache"(){this.manifest.allowCache=u.allowed,"allowed"in u||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const h={};"length"in u&&(i.byterange=h,h.length=u.length,"offset"in u||(this.trigger("info",{message:"defaulting offset to zero"}),u.offset=0)),"offset"in u&&(i.byterange=h,h.offset=u.offset)},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),u.duration>0&&(i.duration=u.duration),u.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=t},key(){if(!u.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(u.attributes.METHOD==="NONE"){r=null;return}if(!u.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}u.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:u.attributes.METHOD||"AES-128",uri:u.attributes.URI},typeof u.attributes.IV!="undefined"&&(r.iv=u.attributes.IV)},"media-sequence"(){if(!isFinite(u.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+u.number});return}this.manifest.mediaSequence=u.number},"discontinuity-sequence"(){if(!isFinite(u.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+u.number});return}this.manifest.discontinuitySequence=u.number,l=u.number},"playlist-type"(){if(!/VOD|EVENT/.test(u.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+u.playlist});return}this.manifest.playlistType=u.playlistType},map(){a={},u.uri&&(a.uri=u.uri),u.byterange&&(a.byterange=u.byterange)},"stream-inf"(){if(this.manifest.playlists=t,this.manifest.mediaGroups=this.manifest.mediaGroups||o,!u.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),Object.assign(i.attributes,u.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||o,!(u.attributes&&u.attributes.TYPE&&u.attributes["GROUP-ID"]&&u.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const h=this.manifest.mediaGroups[u.attributes.TYPE];h[u.attributes["GROUP-ID"]]=h[u.attributes["GROUP-ID"]]||{},c=h[u.attributes["GROUP-ID"]],d={default:/yes/i.test(u.attributes.DEFAULT)},d.default?d.autoselect=!0:d.autoselect=/yes/i.test(u.attributes.AUTOSELECT),u.attributes.LANGUAGE&&(d.language=u.attributes.LANGUAGE),u.attributes.URI&&(d.uri=u.attributes.URI),u.attributes["INSTREAM-ID"]&&(d.instreamId=u.attributes["INSTREAM-ID"]),u.attributes.CHARACTERISTICS&&(d.characteristics=u.attributes.CHARACTERISTICS),u.attributes.FORCED&&(d.forced=/yes/i.test(u.attributes.FORCED)),c[u.attributes.NAME]=d},discontinuity(){l+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(t.length)},"program-date-time"(){this.manifest.dateTimeString=u.dateTimeString,this.manifest.dateTimeObject=u.dateTimeObject},targetduration(){if(!isFinite(u.duration)||u.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+u.duration});return}this.manifest.targetDuration=u.duration},totalduration(){if(!isFinite(u.duration)||u.duration<0){this.trigger("warn",{message:"ignoring invalid total duration: "+u.duration});return}this.manifest.totalDuration=u.duration},"cue-out"(){i.cueOut=u.data},"cue-out-cont"(){i.cueOutCont=u.data},"cue-in"(){i.cueIn=u.data}}[u.tagType]||n).call(s)},uri(){i.uri=u.uri,t.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),r&&(i.key=r),i.timeline=l,a&&(i.map=a),i={}},comment(){}})[u.type].call(s)})}push(s){this.lineStream.push(s)}end(){this.lineStream.push(`
`)}}module.exports={LineStream:iu,ParseStream:su,Parser:tp};var ip=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),au=Oo(ip);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function m(T,g){for(var y=0;y<g.length;y++){var A=g[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,g,y){return g&&m(T.prototype,g),y&&m(T,y),T}}(),t=function(T,g,y){var A=!0;e:for(;A;){var E=T,D=g,I=y;A=!1,E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,D);if(x===void 0){var O=Object.getPrototypeOf(E);if(O===null)return;T=O,g=D,y=I,A=!0,x=O=void 0;continue e}else{if("value"in x)return x.value;var P=x.get;return P===void 0?void 0:P.call(I)}}};function i(m){return m&&m.__esModule?m:{default:m}}function a(m,T){if(!(m instanceof T))throw new TypeError("Cannot call a class as a function")}function r(m,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);m.prototype=Object.create(T&&T.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(m,T):m.__proto__=T)}var n=Pa.exports,o=i(n),l=ue,u=au,c=i(u),d=ve,h=i(d),p=function(T,g,y){var A=g.slice();y=y||0;for(var E=Math.min(T.length,g.length+y),D=y;D<E;D++)A[D-y]=(0,l.mergeOptions)(T[D],A[D-y]);return A};e.updateSegments=p;var f=function(T,g){T.resolvedUri||(T.resolvedUri=(0,o.default)(g,T.uri)),T.key&&!T.key.resolvedUri&&(T.key.resolvedUri=(0,o.default)(g,T.key.uri)),T.map&&!T.map.resolvedUri&&(T.map.resolvedUri=(0,o.default)(g,T.map.uri))};e.resolveSegmentUris=f;var v=function(T,g){var y=(0,l.mergeOptions)(T,{}),A=y.playlists.filter(function(I){return I.uri===g.uri})[0];if(!A||A.segments&&g.segments&&A.segments.length===g.segments.length&&A.mediaSequence===g.mediaSequence)return null;var E=(0,l.mergeOptions)(A,g);A.segments&&(E.segments=p(A.segments,g.segments,g.mediaSequence-A.mediaSequence)),E.segments.forEach(function(I){f(I,E.resolvedUri)});for(var D=0;D<y.playlists.length;D++)y.playlists[D].uri===g.uri&&(y.playlists[D]=E);return y.playlists[g.uri]=E,y};e.updateMaster=v;var _=function(T){for(var g=T.playlists.length;g--;){var y=T.playlists[g];T.playlists[y.uri]=y,y.resolvedUri=(0,o.default)(T.uri,y.uri),y.attributes||(y.attributes={},l.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};e.setupMediaPlaylists=_;var b=function(T){["AUDIO","SUBTITLES"].forEach(function(g){for(var y in T.mediaGroups[g])for(var A in T.mediaGroups[g][y]){var E=T.mediaGroups[g][y][A];E.uri&&(E.resolvedUri=(0,o.default)(T.uri,E.uri))}})};e.resolveMediaGroupUris=b;var S=function(T,g){var y=T.segments[T.segments.length-1],A=void 0;return g&&y&&y.duration?A=y.duration*1e3:A=(T.targetDuration||10)*500,A};e.refreshDelay=S;var C=function(m){r(T,m);function T(g,y,A){var E=this;if(a(this,T),t(Object.getPrototypeOf(T.prototype),"constructor",this).call(this),A=A||{},this.srcUrl=g,this.hls_=y,this.withCredentials=!!A.withCredentials,this.handleManifestRedirects=!!A.handleManifestRedirects,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){E.state==="HAVE_METADATA"&&(E.state="HAVE_CURRENT_METADATA",E.request=E.hls_.xhr({uri:(0,o.default)(E.master.uri,E.media().uri),withCredentials:E.withCredentials},function(D,I){if(!!E.request){if(D)return E.playlistRequestError(E.request,E.media().uri,"HAVE_METADATA");E.haveMetadata(E.request,E.media().uri)}}))})}return s(T,[{key:"playlistRequestError",value:function(y,A,E){this.request=null,E&&(this.state=E),this.error={playlist:this.master.playlists[A],status:y.status,message:"HLS playlist request error at URL: "+A,responseText:y.responseText,code:y.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(y,A){var E=this;this.request=null,this.state="HAVE_METADATA";var D=new c.default.Parser;D.push(y.responseText),D.end(),D.manifest.uri=A,D.manifest.attributes=D.manifest.attributes||{};var I=v(this.master,D.manifest);this.targetDuration=D.manifest.targetDuration,I?(this.master=I,this.media_=this.master.playlists[D.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(h.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=h.default.setTimeout(function(){E.trigger("mediaupdatetimeout")},S(this.media(),!!I))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),h.default.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var y=this.request;this.request=null,y.onreadystatechange=null,y.abort()}}},{key:"media",value:function(y){var A=this;if(!y)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var E=this.state;if(typeof y=="string"){if(!this.master.playlists[y])throw new Error("Unknown playlist URI: "+y);y=this.master.playlists[y]}var D=!this.media_||y.uri!==this.media_.uri;if(this.master.playlists[y.uri].endList){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=y,D&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}if(!!D){if(this.state="SWITCHING_MEDIA",this.request){if(y.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:y.resolvedUri,withCredentials:this.withCredentials},function(I,x){if(!!A.request){if(y.resolvedUri=A.resolveManifestRedirect(y.resolvedUri,x),I)return A.playlistRequestError(A.request,y.uri,E);A.haveMetadata(x,y.uri),E==="HAVE_MASTER"?A.trigger("loadedmetadata"):A.trigger("mediachange")}})}}},{key:"resolveManifestRedirect",value:function(y,A){return this.handleManifestRedirects&&A.responseURL&&y!==A.responseURL?A.responseURL:y}},{key:"pause",value:function(){this.stopRequest(),h.default.clearTimeout(this.mediaUpdateTimeout),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}},{key:"load",value:function(y){var A=this;h.default.clearTimeout(this.mediaUpdateTimeout);var E=this.media();if(y){var D=E?E.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=h.default.setTimeout(function(){return A.load()},D);return}if(!this.started){this.start();return}E&&!E.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}},{key:"start",value:function(){var y=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(A,E){if(!!y.request){if(y.request=null,A)return y.error={status:E.status,message:"HLS playlist request error at URL: "+y.srcUrl,responseText:E.responseText,code:2},y.state==="HAVE_NOTHING"&&(y.started=!1),y.trigger("error");var D=new c.default.Parser;if(D.push(E.responseText),D.end(),y.state="HAVE_MASTER",y.srcUrl=y.resolveManifestRedirect(y.srcUrl,E),D.manifest.uri=y.srcUrl,D.manifest.playlists){y.master=D.manifest,_(y.master),b(y.master),y.trigger("loadedplaylist"),y.request||y.media(D.manifest.playlists[0]);return}return y.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:h.default.location.href,playlists:[{uri:y.srcUrl,resolvedUri:y.srcUrl,attributes:{}}]},y.master.playlists[y.srcUrl]=y.master.playlists[0],y.haveMetadata(E,y.srcUrl),y.trigger("loadedmetadata")}})}}]),T}(l.EventTarget);e.default=C})(Us);var Nt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function s(I){return I&&I.__esModule?I:{default:I}}var t=ue,i=ve,a=s(i),r=function(x,O){var P=0,w=O-x.mediaSequence,k=x.segments[w];if(k){if(typeof k.start!="undefined")return{result:k.start,precise:!0};if(typeof k.end!="undefined")return{result:k.end-k.duration,precise:!0}}for(;w--;){if(k=x.segments[w],typeof k.end!="undefined")return{result:P+k.end,precise:!0};if(P+=k.duration,typeof k.start!="undefined")return{result:P+k.start,precise:!0}}return{result:P,precise:!1}},n=function(x,O){for(var P=0,w=void 0,k=O-x.mediaSequence;k<x.segments.length;k++){if(w=x.segments[k],typeof w.start!="undefined")return{result:w.start-P,precise:!0};if(P+=w.duration,typeof w.end!="undefined")return{result:w.end-P,precise:!0}}return{result:-1,precise:!1}},o=function(x,O,P){var w=void 0,k=void 0;return typeof O=="undefined"&&(O=x.mediaSequence+x.segments.length),O<x.mediaSequence?0:(w=r(x,O),w.precise?w.result:(k=n(x,O),k.precise?k.result:w.result+P))},l=function(x,O,P){if(!x)return 0;if(typeof P!="number"&&(P=0),typeof O=="undefined"){if(x.totalDuration)return x.totalDuration;if(!x.endList)return a.default.Infinity}return o(x,O,P)};e.duration=l;var u=function(x,O,P){var w=0;if(O>P){var k=[P,O];O=k[0],P=k[1]}if(O<0){for(var L=O;L<Math.min(0,P);L++)w+=x.targetDuration;O=0}for(var L=O;L<P;L++)w+=x.segments[L].duration;return w};e.sumDurations=u;var c=function(x){if(!x.segments.length)return 0;for(var O=x.segments.length-1,P=x.segments[O].duration||x.targetDuration,w=P+x.targetDuration*2;O--&&(P+=x.segments[O].duration,!(P>=w)););return Math.max(0,O)};e.safeLiveIndex=c;var d=function(x,O,P){if(!x||!x.segments)return null;if(x.endList)return l(x);if(O===null)return null;O=O||0;var w=P?c(x):x.segments.length;return o(x,x.mediaSequence+w,O)};e.playlistEnd=d;var h=function(x,O){var P=!0,w=O||0,k=d(x,O,P);return k===null?(0,t.createTimeRange)():(0,t.createTimeRange)(w,k)};e.seekable=h;var p=function(x){return x-Math.floor(x)===0},f=function(x,O){if(p(O))return O+x*.1;for(var P=O.toString().split(".")[1].length,w=1;w<=P;w++){var k=Math.pow(10,w),L=O*k;if(p(L)||w===P)return(L+x)/k}},v=f.bind(null,1),_=f.bind(null,-1),b=function(x,O,P,w){var k=void 0,L=void 0,N=x.segments.length,H=O-w;if(H<0){if(P>0){for(k=P-1;k>=0;k--)if(L=x.segments[k],H+=_(L.duration),H>0)return{mediaIndex:k,startTime:w-u(x,P,k)}}return{mediaIndex:0,startTime:O}}if(P<0){for(k=P;k<0;k++)if(H-=x.targetDuration,H<0)return{mediaIndex:0,startTime:O};P=0}for(k=P;k<N;k++)if(L=x.segments[k],H-=v(L.duration),H<0)return{mediaIndex:k,startTime:w+u(x,P,k)};return{mediaIndex:N-1,startTime:O}};e.getMediaInfoForTime=b;var S=function(x){return x.excludeUntil&&x.excludeUntil>Date.now()};e.isBlacklisted=S;var C=function(x){return x.excludeUntil&&x.excludeUntil===1/0};e.isIncompatible=C;var m=function(x){var O=S(x);return!x.disabled&&!O};e.isEnabled=m;var T=function(x){return x.disabled};e.isDisabled=T;var g=function(x){for(var O=0;O<x.segments.length;O++)if(x.segments[O].key)return!0;return!1};e.isAes=g;var y=function(x){for(var O=0;O<x.segments.length;O++)if(x.segments[O].map)return!0;return!1};e.isFmp4=y;var A=function(x,O){return O.attributes&&O.attributes[x]};e.hasAttribute=A;var E=function(x,O,P){var w=arguments.length<=3||arguments[3]===void 0?0:arguments[3];if(!A("BANDWIDTH",P))return NaN;var k=x*P.attributes.BANDWIDTH;return(k-w*8)/O};e.estimateSegmentRequestTime=E;var D=function(x,O){if(x.playlists.length===1)return!0;var P=O.attributes.BANDWIDTH||Number.MAX_VALUE;return x.playlists.filter(function(w){return m(w)?(w.attributes.BANDWIDTH||0)<P:!1}).length===0};e.isLowestEnabledRendition=D,e.default={duration:l,seekable:h,safeLiveIndex:c,getMediaInfoForTime:b,isEnabled:m,isDisabled:T,isBlacklisted:S,isIncompatible:C,playlistEnd:d,isAes:g,isFmp4:y,hasAttribute:A,estimateSegmentRequestTime:E,isLowestEnabledRendition:D}})(Nt);var Ua={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});function t(n){return n&&n.__esModule?n:{default:n}}var i=ue,a=t(i),r=function(){var o=function l(u,c){u=(0,i.mergeOptions)({timeout:45e3},u);var d=l.beforeRequest||a.default.Hls.xhr.beforeRequest;if(d&&typeof d=="function"){var h=d(u);h&&(u=h)}var p=(0,i.xhr)(u,function(v,_){var b=p.response;!v&&b&&(p.responseTime=Date.now(),p.roundTripTime=p.responseTime-p.requestTime,p.bytesReceived=b.byteLength||b.length,p.bandwidth||(p.bandwidth=Math.floor(p.bytesReceived/p.roundTripTime*8*1e3))),v&&v.code==="ETIMEDOUT"&&(p.timedout=!0),!v&&!p.aborted&&_.statusCode!==200&&_.statusCode!==206&&_.statusCode!==0&&(v=new Error("XHR Failed with a response of: "+(p&&(b||p.responseText)))),c(v,p)}),f=p.abort;return p.abort=function(){return p.aborted=!0,f.apply(p,arguments)},p.uri=u.uri,p.requestTime=Date.now(),p};return o};s.default=r,e.exports=s.default})(Ua,Ua.exports);var ys={exports:{}},ru={},za={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function o(l,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,c){return u&&o(l.prototype,u),c&&o(l,c),l}}();function i(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function(){var l=[[[],[],[],[],[]],[[],[],[],[],[]]],u=l[0],c=l[1],d=u[4],h=c[4],p=void 0,f=void 0,v=void 0,_=[],b=[],S=void 0,C=void 0,m=void 0,T=void 0,g=void 0,y=void 0;for(p=0;p<256;p++)b[(_[p]=p<<1^(p>>7)*283)^p]=p;for(f=v=0;!d[f];f^=S||1,v=b[v]||1)for(T=v^v<<1^v<<2^v<<3^v<<4,T=T>>8^T&255^99,d[f]=T,h[T]=f,m=_[C=_[S=_[f]]],y=m*16843009^C*65537^S*257^f*16843008,g=_[T]*257^T*16843008,p=0;p<4;p++)u[p][f]=g=g<<24^g>>>8,c[p][T]=y=y<<24^y>>>8;for(p=0;p<5;p++)u[p]=u[p].slice(0),c[p]=c[p].slice(0);return l},r=null,n=function(){function o(l){i(this,o),r||(r=a()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];var u=void 0,c=void 0,d=void 0,h=void 0,p=void 0,f=this._tables[0][4],v=this._tables[1],_=l.length,b=1;if(_!==4&&_!==6&&_!==8)throw new Error("Invalid aes key size");for(h=l.slice(0),p=[],this._key=[h,p],u=_;u<4*_+28;u++)d=h[u-1],(u%_===0||_===8&&u%_===4)&&(d=f[d>>>24]<<24^f[d>>16&255]<<16^f[d>>8&255]<<8^f[d&255],u%_===0&&(d=d<<8^d>>>24^b<<24,b=b<<1^(b>>7)*283)),h[u]=h[u-_]^d;for(c=0;u;c++,u--)d=h[c&3?u:u-4],u<=4||c<4?p[c]=d:p[c]=v[0][f[d>>>24]]^v[1][f[d>>16&255]]^v[2][f[d>>8&255]]^v[3][f[d&255]]}return t(o,[{key:"decrypt",value:function(u,c,d,h,p,f){var v=this._key[1],_=u^v[0],b=h^v[1],S=d^v[2],C=c^v[3],m=void 0,T=void 0,g=void 0,y=v.length/4-2,A=void 0,E=4,D=this._tables[1],I=D[0],x=D[1],O=D[2],P=D[3],w=D[4];for(A=0;A<y;A++)m=I[_>>>24]^x[b>>16&255]^O[S>>8&255]^P[C&255]^v[E],T=I[b>>>24]^x[S>>16&255]^O[C>>8&255]^P[_&255]^v[E+1],g=I[S>>>24]^x[C>>16&255]^O[_>>8&255]^P[b&255]^v[E+2],C=I[C>>>24]^x[_>>16&255]^O[b>>8&255]^P[S&255]^v[E+3],E+=4,_=m,b=T,S=g;for(A=0;A<4;A++)p[(3&-A)+f]=w[_>>>24]<<24^w[b>>16&255]<<16^w[S>>8&255]<<8^w[C&255]^v[E++],m=_,_=b,b=S,S=C,C=m}}]),o}();s.default=n,e.exports=s.default})(za,za.exports);var bs={exports:{}},Ba={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function r(n,o){for(var l=0;l<o.length;l++){var u=o[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}return function(n,o,l){return o&&r(n.prototype,o),l&&r(n,l),n}}();function i(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var a=function(){function r(){i(this,r),this.listeners={}}return t(r,[{key:"on",value:function(o,l){this.listeners[o]||(this.listeners[o]=[]),this.listeners[o].push(l)}},{key:"off",value:function(o,l){var u=void 0;return this.listeners[o]?(u=this.listeners[o].indexOf(l),this.listeners[o].splice(u,1),u>-1):!1}},{key:"trigger",value:function(o){var l=void 0,u=void 0,c=void 0,d=void 0;if(l=this.listeners[o],!!l)if(arguments.length===2)for(c=l.length,u=0;u<c;++u)l[u].call(this,arguments[1]);else for(d=Array.prototype.slice.call(arguments,1),c=l.length,u=0;u<c;++u)l[u].apply(this,d)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(o){this.on("data",function(l){o.push(l)})}}]),r}();s.default=a,e.exports=s.default})(Ba,Ba.exports);(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function c(d,h){for(var p=0;p<h.length;p++){var f=h[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,h,p){return h&&c(d.prototype,h),p&&c(d,p),d}}(),i=function(d,h,p){var f=!0;e:for(;f;){var v=d,_=h,b=p;f=!1,v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,_);if(S===void 0){var C=Object.getPrototypeOf(v);if(C===null)return;d=C,h=_,p=b,f=!0,S=C=void 0;continue e}else{if("value"in S)return S.value;var m=S.get;return m===void 0?void 0:m.call(b)}}};function a(c){return c&&c.__esModule?c:{default:c}}function r(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function n(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var o=Ba.exports,l=a(o),u=function(c){n(d,c);function d(){r(this,d),i(Object.getPrototypeOf(d.prototype),"constructor",this).call(this,l.default),this.jobs=[],this.delay=1,this.timeout_=null}return t(d,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(p){this.jobs.push(p),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),d}(l.default);s.default=u,e.exports=s.default})(bs,bs.exports);var Jr={},nu,sp=function(s){var t=nu[s.byteLength%16||0],i=new Uint8Array(s.byteLength+t.length);return i.set(s),i.set(t,s.byteLength),i};nu=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]];var ap=function(s){return s.subarray(0,s.byteLength-s[s.byteLength-1])};Jr.pad=sp;Jr.unpad=ap;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function h(p,f){for(var v=0;v<f.length;v++){var _=f[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,f,v){return f&&h(p.prototype,f),v&&h(p,v),p}}();function t(h){return h&&h.__esModule?h:{default:h}}function i(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var a=za.exports,r=t(a),n=bs.exports,o=t(n),l=Jr,u=function(p){return p<<24|(p&65280)<<8|(p&16711680)>>8|p>>>24},c=function(p,f,v){var _=new Int32Array(p.buffer,p.byteOffset,p.byteLength>>2),b=new r.default(Array.prototype.slice.call(f)),S=new Uint8Array(p.byteLength),C=new Int32Array(S.buffer),m=void 0,T=void 0,g=void 0,y=void 0,A=void 0,E=void 0,D=void 0,I=void 0,x=void 0;for(m=v[0],T=v[1],g=v[2],y=v[3],x=0;x<_.length;x+=4)A=u(_[x]),E=u(_[x+1]),D=u(_[x+2]),I=u(_[x+3]),b.decrypt(A,E,D,I,C,x),C[x]=u(C[x]^m),C[x+1]=u(C[x+1]^T),C[x+2]=u(C[x+2]^g),C[x+3]=u(C[x+3]^y),m=A,T=E,g=D,y=I;return S};e.decrypt=c;var d=function(){function h(p,f,v,_){i(this,h);var b=h.STEP,S=new Int32Array(p.buffer),C=new Uint8Array(p.byteLength),m=0;for(this.asyncStream_=new o.default,this.asyncStream_.push(this.decryptChunk_(S.subarray(m,m+b),f,v,C)),m=b;m<S.length;m+=b)v=new Uint32Array([u(S[m-4]),u(S[m-3]),u(S[m-2]),u(S[m-1])]),this.asyncStream_.push(this.decryptChunk_(S.subarray(m,m+b),f,v,C));this.asyncStream_.push(function(){_(null,(0,l.unpad)(C))})}return s(h,[{key:"decryptChunk_",value:function(f,v,_,b){return function(){var S=c(f,v,_);b.set(S,f.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),h}();e.Decrypter=d,e.default={Decrypter:d,decrypt:c}})(ru);(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});function t(n){return n&&n.__esModule?n:{default:n}}var i=ru,a=bs.exports,r=t(a);s.default={decrypt:i.decrypt,Decrypter:i.Decrypter,AsyncStream:r.default},e.exports=s.default})(ys,ys.exports);var Ot={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(u,c){return u.start(c)+"-"+u.end(c)},i=function(u,c){var d=u.toString(16);return"00".substring(0,2-d.length)+d+(c%2?" ":"")},a=function(u){return u>=32&&u<126?String.fromCharCode(u):"."},r=function(u){var c={};return Object.keys(u).forEach(function(d){var h=u[d];ArrayBuffer.isView(h)?c[d]={bytes:h.buffer,byteOffset:h.byteOffset,byteLength:h.byteLength}:c[d]=h}),c},n=function(u){var c=u.byterange||{length:1/0,offset:0};return[c.length,c.offset,u.resolvedUri].join(",")},o={hexDump:function(u){for(var c=Array.prototype.slice.call(u),d=16,h="",p=void 0,f=void 0,v=0;v<c.length/d;v++)p=c.slice(v*d,v*d+d).map(i).join(""),f=c.slice(v*d,v*d+d).map(a).join(""),h+=p+" "+f+`
`;return h},tagDump:function(u){return o.hexDump(u.bytes)},textRanges:function(u){var c="",d=void 0;for(d=0;d<u.length;d++)c+=t(u,d)+" ";return c},createTransferableMessage:r,initSegmentId:n};s.default=o,e.exports=s.default})(Ot,Ot.exports);var Gs={},$a={exports:{}},ja={exports:{}},Q;Q=function(e,s){var t=0,i=16384,a=function(u,c){var d,h=u.position+c;h<u.bytes.byteLength||(d=new Uint8Array(h*2),d.set(u.bytes.subarray(0,u.position),0),u.bytes=d,u.view=new DataView(u.bytes.buffer))},r=Q.widthBytes||new Uint8Array(5),n=Q.heightBytes||new Uint8Array(6),o=Q.videocodecidBytes||new Uint8Array(12),l;if(!Q.widthBytes){for(l=0;l<5;l++)r[l]="width".charCodeAt(l);for(l=0;l<6;l++)n[l]="height".charCodeAt(l);for(l=0;l<12;l++)o[l]="videocodecid".charCodeAt(l);Q.widthBytes=r,Q.heightBytes=n,Q.videocodecidBytes=o}switch(this.keyFrame=!1,e){case Q.VIDEO_TAG:this.length=16,i*=6;break;case Q.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case Q.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(i),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=s,this.pts=0,this.dts=0,this.writeBytes=function(u,c,d){var h=c||0,p;d=d||u.byteLength,p=h+d,a(this,d),this.bytes.set(u.subarray(h,p),this.position),this.position+=d,this.length=Math.max(this.length,this.position)},this.writeByte=function(u){a(this,1),this.bytes[this.position]=u,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(u){a(this,2),this.view.setUint16(this.position,u),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(u){return this.bytes[this.length-u]},this.nalUnitSize=function(){return t===0?0:this.length-(t+4)},this.startNalUnit=function(){if(t>0)throw new Error("Attempted to create new NAL wihout closing the old one");t=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(u){var c,d;this.length===t+4?this.length-=4:t>0&&(c=t+4,d=this.length-c,this.position=t,this.view.setUint32(this.position,d),this.position=this.length,u&&u.push(this.bytes.subarray(c,c+d))),t=0},this.writeMetaDataDouble=function(u,c){var d;if(a(this,2+u.length+9),this.view.setUint16(this.position,u.length),this.position+=2,u==="width")this.bytes.set(r,this.position),this.position+=5;else if(u==="height")this.bytes.set(n,this.position),this.position+=6;else if(u==="videocodecid")this.bytes.set(o,this.position),this.position+=12;else for(d=0;d<u.length;d++)this.bytes[this.position]=u.charCodeAt(d),this.position++;this.position++,this.view.setFloat64(this.position,c),this.position+=8,this.length=Math.max(this.length,this.position),++t},this.writeMetaDataBoolean=function(u,c){var d;for(a(this,2),this.view.setUint16(this.position,u.length),this.position+=2,d=0;d<u.length;d++)a(this,1),this.bytes[this.position]=u.charCodeAt(d),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,c?1:0),this.position++,this.length=Math.max(this.length,this.position),++t},this.finalize=function(){var u,c;switch(this.bytes[0]){case Q.VIDEO_TAG:this.bytes[11]=(this.keyFrame||s?16:32)|7,this.bytes[12]=s?0:1,u=this.pts-this.dts,this.bytes[13]=(u&16711680)>>>16,this.bytes[14]=(u&65280)>>>8,this.bytes[15]=(u&255)>>>0;break;case Q.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=s?0:1;break;case Q.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,t),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position;break}return c=this.length-11,this.bytes[1]=(c&16711680)>>>16,this.bytes[2]=(c&65280)>>>8,this.bytes[3]=(c&255)>>>0,this.bytes[4]=(this.dts&16711680)>>>16,this.bytes[5]=(this.dts&65280)>>>8,this.bytes[6]=(this.dts&255)>>>0,this.bytes[7]=(this.dts&4278190080)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=Q.frameTime(this.bytes),this}};Q.AUDIO_TAG=8;Q.VIDEO_TAG=9;Q.METADATA_TAG=18;Q.isAudioFrame=function(e){return Q.AUDIO_TAG===e[0]};Q.isVideoFrame=function(e){return Q.VIDEO_TAG===e[0]};Q.isMetaData=function(e){return Q.METADATA_TAG===e[0]};Q.isKeyFrame=function(e){return Q.isVideoFrame(e)?e[11]===23:!!(Q.isAudioFrame(e)||Q.isMetaData(e))};Q.frameTime=function(e){var s=e[4]<<16;return s|=e[5]<<8,s|=e[6]<<0,s|=e[7]<<24,s};var Gr=Q,qs=function(){this.init=function(){var e={};this.on=function(s,t){e[s]||(e[s]=[]),e[s]=e[s].concat(t)},this.off=function(s,t){var i;return e[s]?(i=e[s].indexOf(t),e[s]=e[s].slice(),e[s].splice(i,1),i>-1):!1},this.trigger=function(s){var t,i,a,r;if(t=e[s],!!t)if(arguments.length===2)for(a=t.length,i=0;i<a;++i)t[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(a=t.length,i=0;i<a;++i)t[i].apply(this,r)}},this.dispose=function(){e={}}}};qs.prototype.pipe=function(e){return this.on("data",function(s){e.push(s)}),this.on("done",function(s){e.flush(s)}),e};qs.prototype.push=function(e){this.trigger("data",e)};qs.prototype.flush=function(e){this.trigger("done",e)};var Xe=qs,ou=4,rp=128,lu=Xe,np=function(e){for(var s=0,t={payloadType:-1,payloadSize:0},i=0,a=0;s<e.byteLength&&e[s]!==rp;){for(;e[s]===255;)i+=255,s++;for(i+=e[s++];e[s]===255;)a+=255,s++;if(a+=e[s++],!t.payload&&i===ou){t.payloadType=i,t.payloadSize=a,t.payload=e.subarray(s,s+a);break}s+=a,i=0,a=0}return t},op=function(e){return e.payload[0]!==181||(e.payload[1]<<8|e.payload[2])!==49||String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])!=="GA94"||e.payload[7]!==3?null:e.payload.subarray(8,e.payload.length-1)},lp=function(e,s){var t=[],i,a,r,n;if(!(s[0]&64))return t;for(a=s[0]&31,i=0;i<a;i++)r=i*3,n={type:s[r+2]&3,pts:e},s[r+2]&4&&(n.ccData=s[r+3]<<8|s[r+4],t.push(n));return t},lt=function(){lt.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new ne(0,0),new ne(0,1),new ne(1,0),new ne(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};lt.prototype=new lu;lt.prototype.push=function(e){var s,t;if(e.nalUnitType==="sei_rbsp"&&(s=np(e.escapedRBSP),s.payloadType===ou&&(t=op(s),!!t))){if(e.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.ignoreNextEqualDts_=!1;return}this.captionPackets_=this.captionPackets_.concat(lp(e.pts,t)),this.latestDts_=e.dts}};lt.prototype.flush=function(){if(!this.captionPackets_.length){this.ccStreams_.forEach(function(e){e.flush()},this);return}this.captionPackets_.forEach(function(e,s){e.presortIndex=s}),this.captionPackets_.sort(function(e,s){return e.pts===s.pts?e.presortIndex-s.presortIndex:e.pts-s.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)};lt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})};lt.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),this.activeCea608Channel_[e.type]!==null&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)};lt.prototype.setsChannel1Active=function(e){return(e.ccData&30720)===4096};lt.prototype.setsChannel2Active=function(e){return(e.ccData&30720)===6144};var up={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},es=function(e){return e===null?"":(e=up[e]||e,String.fromCharCode(e))},ge=14,cp=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Cs=function(){for(var e=[],s=ge+1;s--;)e.push("");return e},ne=function(e,s){ne.prototype.init.call(this),this.field_=e||0,this.dataChannel_=s||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(t){var i,a,r,n,o;if(i=t.ccData&32639,i===this.lastControlCode_){this.lastControlCode_=null;return}if((i&61440)===4096?this.lastControlCode_=i:i!==this.PADDING_&&(this.lastControlCode_=null),r=i>>>8,n=i&255,i!==this.PADDING_)if(i===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(i===this.END_OF_CAPTION_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),a=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=a,this.startPts_=t.pts;else if(i===this.ROLL_UP_2_ROWS_)this.topRow_=ge-1,this.mode_="rollUp";else if(i===this.ROLL_UP_3_ROWS_)this.topRow_=ge-2,this.mode_="rollUp";else if(i===this.ROLL_UP_4_ROWS_)this.topRow_=ge-3,this.mode_="rollUp";else if(i===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(i===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[ge]=this.nonDisplayed_[ge].slice(0,-1):this.displayed_[ge]=this.displayed_[ge].slice(0,-1);else if(i===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Cs();else if(i===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Cs();else if(i===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(r,n))r=(r&3)<<8,o=es(r|n),this[this.mode_](t.pts,o),this.column_++;else if(this.isExtCharacter(r,n))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[ge]=this.displayed_[ge].slice(0,-1),r=(r&3)<<8,o=es(r|n),this[this.mode_](t.pts,o),this.column_++;else if(this.isMidRowCode(r,n))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,(n&14)===14&&this.addFormatting(t.pts,["i"]),(n&1)===1&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(r,n))this.column_+=n&3;else if(this.isPAC(r,n)){var l=cp.indexOf(i&7968);l!==this.row_&&(this.clearFormatting(t.pts),this.row_=l),n&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(t.pts,["u"]),(i&16)===16&&(this.column_=((i&14)>>1)*4),this.isColorPAC(n)&&(n&14)===14&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(r)&&(n===0&&(n=null),o=es(r),o+=es(n),this[this.mode_](t.pts,o),this.column_+=o.length)}};ne.prototype=new lu;ne.prototype.flushDisplayed=function(e){var s=this.displayed_.map(function(t){return t.trim()}).join(`
`).replace(/^\n+|\n+$/g,"");s.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:s,stream:this.name_})};ne.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Cs(),this.nonDisplayed_=Cs(),this.lastControlCode_=null,this.column_=0,this.row_=ge,this.formatting_=[]};ne.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};ne.prototype.isSpecialCharacter=function(e,s){return e===this.EXT_&&s>=48&&s<=63};ne.prototype.isExtCharacter=function(e,s){return(e===this.EXT_+1||e===this.EXT_+2)&&s>=32&&s<=63};ne.prototype.isMidRowCode=function(e,s){return e===this.EXT_&&s>=32&&s<=47};ne.prototype.isOffsetControlCode=function(e,s){return e===this.OFFSET_&&s>=33&&s<=35};ne.prototype.isPAC=function(e,s){return e>=this.BASE_&&e<this.BASE_+8&&s>=64&&s<=127};ne.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127};ne.prototype.isNormalChar=function(e){return e>=32&&e<=127};ne.prototype.addFormatting=function(e,s){this.formatting_=this.formatting_.concat(s);var t=s.reduce(function(i,a){return i+"<"+a+">"},"");this[this.mode_](e,t)};ne.prototype.clearFormatting=function(e){if(!!this.formatting_.length){var s=this.formatting_.reverse().reduce(function(t,i){return t+"</"+i+">"},"");this.formatting_=[],this[this.mode_](e,s)}};ne.prototype.popOn=function(e,s){var t=this.nonDisplayed_[this.row_];t+=s,this.nonDisplayed_[this.row_]=t};ne.prototype.rollUp=function(e,s){var t=this.displayed_[ge];t+=s,this.displayed_[ge]=t};ne.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<ge;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[ge]=""};ne.prototype.paintOn=function(){};var dp={CaptionStream:lt,Cea608Stream:ne},Wi={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},hp=Xe,pp=8589934592,fp=4294967296,Ha=function(e,s){var t=1;for(e>s&&(t=-1);Math.abs(s-e)>fp;)e+=t*pp;return e},qr=function(e){var s,t;qr.prototype.init.call(this),this.type_=e,this.push=function(i){i.type===this.type_&&(t===void 0&&(t=i.dts),i.dts=Ha(i.dts,t),i.pts=Ha(i.pts,t),s=i.dts,this.trigger("data",i))},this.flush=function(){t=s,this.trigger("done")},this.discontinuity=function(){t=void 0,s=void 0}};qr.prototype=new hp;var uu={TimestampRolloverStream:qr,handleRollover:Ha},mp=Xe,vp=Wi,cu=function(e,s,t){var i,a="";for(i=s;i<t;i++)a+="%"+("00"+e[i].toString(16)).slice(-2);return a},ts=function(e,s,t){return decodeURIComponent(cu(e,s,t))},gp=function(e,s,t){return unescape(cu(e,s,t))},is=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Wn={TXXX:function(e){var s;if(e.data[0]===3){for(s=1;s<e.data.length;s++)if(e.data[s]===0){e.description=ts(e.data,1,s),e.value=ts(e.data,s+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var s;if(e.data[0]===3){for(s=1;s<e.data.length;s++)if(e.data[s]===0){e.description=ts(e.data,1,s),e.url=ts(e.data,s+1,e.data.length);break}}},PRIV:function(e){var s;for(s=0;s<e.data.length;s++)if(e.data[s]===0){e.owner=gp(e.data,0,s);break}e.privateData=e.data.subarray(s+1),e.data=e.privateData}},Ss;Ss=function(e){var s={debug:!!(e&&e.debug),descriptor:e&&e.descriptor},t=0,i=[],a=0,r;if(Ss.prototype.init.call(this),this.dispatchType=vp.METADATA_STREAM_TYPE.toString(16),s.descriptor)for(r=0;r<s.descriptor.length;r++)this.dispatchType+=("00"+s.descriptor[r].toString(16)).slice(-2);this.push=function(n){var o,l,u,c,d,h;if(n.type==="timed-metadata"){if(n.dataAlignmentIndicator&&(a=0,i.length=0),i.length===0&&(n.data.length<10||n.data[0]!=="I".charCodeAt(0)||n.data[1]!=="D".charCodeAt(0)||n.data[2]!=="3".charCodeAt(0))){s.debug&&console.log("Skipping unrecognized metadata packet");return}if(i.push(n),a+=n.data.byteLength,i.length===1&&(t=is(n.data.subarray(6,10)),t+=10),!(a<t)){for(o={data:new Uint8Array(t),frames:[],pts:i[0].pts,dts:i[0].dts},d=0;d<t;)o.data.set(i[0].data.subarray(0,t-d),d),d+=i[0].data.byteLength,a-=i[0].data.byteLength,i.shift();l=10,o.data[5]&64&&(l+=4,l+=is(o.data.subarray(10,14)),t-=is(o.data.subarray(16,20)));do{if(u=is(o.data.subarray(l+4,l+8)),u<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(h=String.fromCharCode(o.data[l],o.data[l+1],o.data[l+2],o.data[l+3]),c={id:h,data:o.data.subarray(l+10,l+u+10)},c.key=c.id,Wn[c.id]&&(Wn[c.id](c),c.owner==="com.apple.streaming.transportStreamTimestamp")){var p=c.data,f=(p[3]&1)<<30|p[4]<<22|p[5]<<14|p[6]<<6|p[7]>>>2;f*=4,f+=p[7]&3,c.timeStamp=f,o.pts===void 0&&o.dts===void 0&&(o.pts=c.timeStamp,o.dts=c.timeStamp),this.trigger("timestamp",c)}o.frames.push(c),l+=10,l+=u}while(l<t);this.trigger("data",o)}}}};Ss.prototype=new mp;var _p=Ss,Yr=Xe,Jn=dp,Be=Wi,yp=uu.TimestampRolloverStream,bp=Wi,Ts,Ei,ws,zt=188,ya=71;Ts=function(){var e=new Uint8Array(zt),s=0;Ts.prototype.init.call(this),this.push=function(t){var i=0,a=zt,r;for(s?(r=new Uint8Array(t.byteLength+s),r.set(e.subarray(0,s)),r.set(t,s),s=0):r=t;a<r.byteLength;){if(r[i]===ya&&r[a]===ya){this.trigger("data",r.subarray(i,a)),i+=zt,a+=zt;continue}i++,a++}i<r.byteLength&&(e.set(r.subarray(i),0),s=r.byteLength-i)},this.flush=function(){s===zt&&e[0]===ya&&(this.trigger("data",e),s=0),this.trigger("done")}};Ts.prototype=new Yr;Ei=function(){var e,s,t,i;Ei.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(a,r){var n=0;r.payloadUnitStartIndicator&&(n+=a[n]+1),r.type==="pat"?s(a.subarray(n),r):t(a.subarray(n),r)},s=function(a,r){r.section_number=a[7],r.last_section_number=a[8],i.pmtPid=(a[10]&31)<<8|a[11],r.pmtPid=i.pmtPid},t=function(a,r){var n,o,l,u;if(!!(a[5]&1)){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(a[1]&15)<<8|a[2],o=3+n-4,l=(a[10]&15)<<8|a[11],u=12+l;u<o;){var c=a[u],d=(a[u+1]&31)<<8|a[u+2];c===Be.H264_STREAM_TYPE&&i.programMapTable.video===null?i.programMapTable.video=d:c===Be.ADTS_STREAM_TYPE&&i.programMapTable.audio===null?i.programMapTable.audio=d:c===Be.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][d]=c),u+=((a[u+3]&15)<<8|a[u+4])+5}r.programMapTable=i.programMapTable}},this.push=function(a){var r={},n=4;if(r.payloadUnitStartIndicator=!!(a[1]&64),r.pid=a[1]&31,r.pid<<=8,r.pid|=a[2],(a[3]&48)>>>4>1&&(n+=a[n]+1),r.pid===0)r.type="pat",e(a.subarray(n),r),this.trigger("data",r);else if(r.pid===this.pmtPid)for(r.type="pmt",e(a.subarray(n),r),this.trigger("data",r);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([a,n,r]):this.processPes_(a,n,r)},this.processPes_=function(a,r,n){n.pid===this.programMapTable.video?n.streamType=Be.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Be.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=a.subarray(r),this.trigger("data",n)}};Ei.prototype=new Yr;Ei.STREAM_TYPES={h264:27,adts:15};ws=function(){var e=this,s={data:[],size:0},t={data:[],size:0},i={data:[],size:0},a=function(n,o){var l;o.packetLength=6+(n[4]<<8|n[5]),o.dataAlignmentIndicator=(n[6]&4)!==0,l=n[7],l&192&&(o.pts=(n[9]&14)<<27|(n[10]&255)<<20|(n[11]&254)<<12|(n[12]&255)<<5|(n[13]&254)>>>3,o.pts*=4,o.pts+=(n[13]&6)>>>1,o.dts=o.pts,l&64&&(o.dts=(n[14]&14)<<27|(n[15]&255)<<20|(n[16]&254)<<12|(n[17]&255)<<5|(n[18]&254)>>>3,o.dts*=4,o.dts+=(n[18]&6)>>>1)),o.data=n.subarray(9+n[8])},r=function(n,o,l){var u=new Uint8Array(n.size),c={type:o},d=0,h=0,p=!1,f;if(!(!n.data.length||n.size<9)){for(c.trackId=n.data[0].pid,d=0;d<n.data.length;d++)f=n.data[d],u.set(f.data,h),h+=f.data.byteLength;a(u,c),p=o==="video"||c.packetLength<=n.size,(l||p)&&(n.size=0,n.data.length=0),p&&e.trigger("data",c)}};ws.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var o,l;switch(n.streamType){case Be.H264_STREAM_TYPE:case bp.H264_STREAM_TYPE:o=s,l="video";break;case Be.ADTS_STREAM_TYPE:o=t,l="audio";break;case Be.METADATA_STREAM_TYPE:o=i,l="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&r(o,l,!0),o.data.push(n),o.size+=n.data.byteLength},pmt:function(){var o={type:"metadata",tracks:[]},l=n.programMapTable;l.video!==null&&o.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+l.video,codec:"avc",type:"video"}),l.audio!==null&&o.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+l.audio,codec:"adts",type:"audio"}),e.trigger("data",o)}})[n.type]()},this.flush=function(){r(s,"video"),r(t,"audio"),r(i,"timed-metadata"),this.trigger("done")}};ws.prototype=new Yr;var du={PAT_PID:0,MP2T_PACKET_LENGTH:zt,TransportPacketStream:Ts,TransportParseStream:Ei,ElementaryStream:ws,TimestampRolloverStream:yp,CaptionStream:Jn.CaptionStream,Cea608Stream:Jn.Cea608Stream,MetadataStream:_p};for(var ba in Be)Be.hasOwnProperty(ba)&&(du[ba]=Be[ba]);var hu=du,Cp=Xe,xs,Gn=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];xs=function(){var e;xs.prototype.init.call(this),this.push=function(s){var t=0,i=0,a,r,n,o,l,u;if(s.type==="audio")for(e?(o=e,e=new Uint8Array(o.byteLength+s.data.byteLength),e.set(o),e.set(s.data,o.byteLength)):e=s.data;t+5<e.length;){if(e[t]!==255||(e[t+1]&246)!==240){t++;continue}if(r=(~e[t+1]&1)*2,a=(e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>5,l=((e[t+6]&3)+1)*1024,u=l*9e4/Gn[(e[t+2]&60)>>>2],n=t+a,e.byteLength<n)return;if(this.trigger("data",{pts:s.pts+i*u,dts:s.dts+i*u,sampleCount:l,audioobjecttype:(e[t+2]>>>6&3)+1,channelcount:(e[t+2]&1)<<2|(e[t+3]&192)>>>6,samplerate:Gn[(e[t+2]&60)>>>2],samplingfrequencyindex:(e[t+2]&60)>>>2,samplesize:16,data:e.subarray(t+7+r,n)}),e.byteLength===n){e=void 0;return}i++,e=e.subarray(n)}},this.flush=function(){this.trigger("done")}};xs.prototype=new Cp;var pu=xs,fu;fu=function(e){var s=e.byteLength,t=0,i=0;this.length=function(){return 8*s},this.bitsAvailable=function(){return 8*s+i},this.loadWord=function(){var a=e.byteLength-s,r=new Uint8Array(4),n=Math.min(4,s);if(n===0)throw new Error("no bytes available");r.set(e.subarray(a,a+n)),t=new DataView(r.buffer).getUint32(0),i=n*8,s-=n},this.skipBits=function(a){var r;i>a?(t<<=a,i-=a):(a-=i,r=Math.floor(a/8),a-=r*8,s-=r,this.loadWord(),t<<=a,i-=a)},this.readBits=function(a){var r=Math.min(i,a),n=t>>>32-r;return i-=r,i>0?t<<=r:s>0&&this.loadWord(),r=a-r,r>0?n<<r|this.readBits(r):n},this.skipLeadingZeros=function(){var a;for(a=0;a<i;++a)if((t&2147483648>>>a)!==0)return t<<=a,i-=a,a;return this.loadWord(),a+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var a=this.skipLeadingZeros();return this.readBits(a+1)-1},this.readExpGolomb=function(){var a=this.readUnsignedExpGolomb();return 1&a?1+a>>>1:-1*(a>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Sp=fu,mu=Xe,Tp=Sp,ks,Ai,vu;Ai=function(){var e=0,s,t;Ai.prototype.init.call(this),this.push=function(i){var a;for(t?(a=new Uint8Array(t.byteLength+i.data.byteLength),a.set(t),a.set(i.data,t.byteLength),t=a):t=i.data;e<t.byteLength-3;e++)if(t[e+2]===1){s=e+5;break}for(;s<t.byteLength;)switch(t[s]){case 0:if(t[s-1]!==0){s+=2;break}else if(t[s-2]!==0){s++;break}e+3!==s-2&&this.trigger("data",t.subarray(e+3,s-2));do s++;while(t[s]!==1&&s<t.length);e=s-2,s+=3;break;case 1:if(t[s-1]!==0||t[s-2]!==0){s+=3;break}this.trigger("data",t.subarray(e+3,s-2)),e=s-2,s+=3;break;default:s+=3;break}t=t.subarray(e),s-=e,e=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(e+3)),t=null,e=0,this.trigger("done")}};Ai.prototype=new mu;vu={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};ks=function(){var e=new Ai,s,t,i,a,r,n,o;ks.prototype.init.call(this),s=this,this.push=function(l){l.type==="video"&&(t=l.trackId,i=l.pts,a=l.dts,e.push(l))},e.on("data",function(l){var u={trackId:t,pts:i,dts:a,data:l};switch(l[0]&31){case 5:u.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:u.nalUnitType="sei_rbsp",u.escapedRBSP=r(l.subarray(1));break;case 7:u.nalUnitType="seq_parameter_set_rbsp",u.escapedRBSP=r(l.subarray(1)),u.config=n(u.escapedRBSP);break;case 8:u.nalUnitType="pic_parameter_set_rbsp";break;case 9:u.nalUnitType="access_unit_delimiter_rbsp";break}s.trigger("data",u)}),e.on("done",function(){s.trigger("done")}),this.flush=function(){e.flush()},o=function(l,u){var c=8,d=8,h,p;for(h=0;h<l;h++)d!==0&&(p=u.readExpGolomb(),d=(c+p+256)%256),c=d===0?c:d},r=function(l){for(var u=l.byteLength,c=[],d=1,h,p;d<u-2;)l[d]===0&&l[d+1]===0&&l[d+2]===3?(c.push(d+2),d+=2):d++;if(c.length===0)return l;h=u-c.length,p=new Uint8Array(h);var f=0;for(d=0;d<h;f++,d++)f===c[0]&&(f++,c.shift()),p[d]=l[f];return p},n=function(l){var u=0,c=0,d=0,h=0,p=1,f,v,_,b,S,C,m,T,g,y,A,E,D,I;if(f=new Tp(l),v=f.readUnsignedByte(),b=f.readUnsignedByte(),_=f.readUnsignedByte(),f.skipUnsignedExpGolomb(),vu[v]&&(S=f.readUnsignedExpGolomb(),S===3&&f.skipBits(1),f.skipUnsignedExpGolomb(),f.skipUnsignedExpGolomb(),f.skipBits(1),f.readBoolean()))for(A=S!==3?8:12,I=0;I<A;I++)f.readBoolean()&&(I<6?o(16,f):o(64,f));if(f.skipUnsignedExpGolomb(),C=f.readUnsignedExpGolomb(),C===0)f.readUnsignedExpGolomb();else if(C===1)for(f.skipBits(1),f.skipExpGolomb(),f.skipExpGolomb(),m=f.readUnsignedExpGolomb(),I=0;I<m;I++)f.skipExpGolomb();if(f.skipUnsignedExpGolomb(),f.skipBits(1),T=f.readUnsignedExpGolomb(),g=f.readUnsignedExpGolomb(),y=f.readBits(1),y===0&&f.skipBits(1),f.skipBits(1),f.readBoolean()&&(u=f.readUnsignedExpGolomb(),c=f.readUnsignedExpGolomb(),d=f.readUnsignedExpGolomb(),h=f.readUnsignedExpGolomb()),f.readBoolean()&&f.readBoolean()){switch(D=f.readUnsignedByte(),D){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:{E=[f.readUnsignedByte()<<8|f.readUnsignedByte(),f.readUnsignedByte()<<8|f.readUnsignedByte()];break}}E&&(p=E[0]/E[1])}return{profileIdc:v,levelIdc:_,profileCompatibility:b,width:Math.ceil(((T+1)*16-u*2-c*2)*p),height:(2-y)*(g+1)*16-d*2-h*2}}};ks.prototype=new mu;var gu={H264Stream:ks,NalByteStream:Ai},wp=Xe,Ys=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,Ys.prototype.init.call(this),this.push=function(s){if(s.text)return this.pendingCaptions.push(s);if(s.frames)return this.pendingMetadata.push(s);s.track.type==="video"&&(this.videoTrack=s.track,this.videoTags=s.tags,this.pendingTracks++),s.track.type==="audio"&&(this.audioTrack=s.track,this.audioTags=s.tags,this.pendingTracks++)}};Ys.prototype=new wp;Ys.prototype.flush=function(e){var s,t,i,a,r={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if(e!=="VideoSegmentStream"&&e!=="AudioSegmentStream")return;if(this.pendingTracks===0&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?a=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts),r.tags.videoTags=this.videoTags,r.tags.audioTags=this.audioTags,i=0;i<this.pendingCaptions.length;i++)t=this.pendingCaptions[i],t.startTime=t.startPts-a,t.startTime/=9e4,t.endTime=t.endPts-a,t.endTime/=9e4,r.captionStreams[t.stream]=!0,r.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)s=this.pendingMetadata[i],s.cueTime=s.pts-a,s.cueTime/=9e4,r.metadata.push(s);r.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",r),this.trigger("done")}};var xp=Ys,kp=function(){var e=this;this.list=[],this.push=function(s){this.list.push({bytes:s.bytes,dts:s.dts,pts:s.pts,keyFrame:s.keyFrame,metaDataTag:s.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})},Ip=kp,Kr=Xe,Ne=Gr,dt=hu,Pp=pu,Ep=gu.H264Stream,Ap=xp,_u=Ip,Is,Ps,Es,Xr,yu,bu;Xr=function(e,s){typeof s.pts=="number"&&(e.timelineStartInfo.pts===void 0?e.timelineStartInfo.pts=s.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,s.pts)),typeof s.dts=="number"&&(e.timelineStartInfo.dts===void 0?e.timelineStartInfo.dts=s.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,s.dts))};yu=function(e,s){var t=new Ne(Ne.METADATA_TAG);return t.dts=s,t.pts=s,t.writeMetaDataDouble("videocodecid",7),t.writeMetaDataDouble("width",e.width),t.writeMetaDataDouble("height",e.height),t};bu=function(e,s){var t,i=new Ne(Ne.VIDEO_TAG,!0);for(i.dts=s,i.pts=s,i.writeByte(1),i.writeByte(e.profileIdc),i.writeByte(e.profileCompatibility),i.writeByte(e.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(e.sps[0].length),i.writeBytes(e.sps[0]),i.writeByte(e.pps.length),t=0;t<e.pps.length;++t)i.writeShort(e.pps[t].length),i.writeBytes(e.pps[t]);return i};Es=function(e){var s=[],t=[],i;Es.prototype.init.call(this),this.push=function(a){Xr(e,a),e&&(e.audioobjecttype=a.audioobjecttype,e.channelcount=a.channelcount,e.samplerate=a.samplerate,e.samplingfrequencyindex=a.samplingfrequencyindex,e.samplesize=a.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),a.pts=Math.round(a.pts/90),a.dts=Math.round(a.dts/90),s.push(a)},this.flush=function(){var a,r,n,o=new _u;if(s.length===0){this.trigger("done","AudioSegmentStream");return}for(n=-1/0;s.length;)a=s.shift(),t.length&&a.pts>=t[0]&&(n=t.shift(),this.writeMetaDataTags(o,n)),(e.extraData!==i||a.pts-n>=1e3)&&(this.writeMetaDataTags(o,a.pts),i=e.extraData,n=a.pts),r=new Ne(Ne.AUDIO_TAG),r.pts=a.pts,r.dts=a.dts,r.writeBytes(a.data),o.push(r.finalize());t.length=0,i=null,this.trigger("data",{track:e,tags:o.list}),this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(a,r){var n;n=new Ne(Ne.METADATA_TAG),n.pts=r,n.dts=r,n.writeMetaDataDouble("audiocodecid",10),n.writeMetaDataBoolean("stereo",e.channelcount===2),n.writeMetaDataDouble("audiosamplerate",e.samplerate),n.writeMetaDataDouble("audiosamplesize",16),a.push(n.finalize()),n=new Ne(Ne.AUDIO_TAG,!0),n.pts=r,n.dts=r,n.view.setUint16(n.position,e.extraData),n.position+=2,n.length=Math.max(n.length,n.position),a.push(n.finalize())},this.onVideoKeyFrame=function(a){t.push(a)}};Es.prototype=new Kr;Ps=function(e){var s=[],t,i;Ps.prototype.init.call(this),this.finishFrame=function(a,r){if(!!r){if(t&&e&&e.newMetadata&&(r.keyFrame||a.length===0)){var n=yu(t,r.dts).finalize(),o=bu(e,r.dts).finalize();n.metaDataTag=o.metaDataTag=!0,a.push(n),a.push(o),e.newMetadata=!1,this.trigger("keyframe",r.dts)}r.endNalUnit(),a.push(r.finalize()),i=null}},this.push=function(a){Xr(e,a),a.pts=Math.round(a.pts/90),a.dts=Math.round(a.dts/90),s.push(a)},this.flush=function(){for(var a,r=new _u;s.length&&s[0].nalUnitType!=="access_unit_delimiter_rbsp";)s.shift();if(s.length===0){this.trigger("done","VideoSegmentStream");return}for(;s.length;)a=s.shift(),a.nalUnitType==="seq_parameter_set_rbsp"?(e.newMetadata=!0,t=a.config,e.width=t.width,e.height=t.height,e.sps=[a.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,i.endNalUnit()):a.nalUnitType==="pic_parameter_set_rbsp"?(e.newMetadata=!0,e.pps=[a.data],i.endNalUnit()):a.nalUnitType==="access_unit_delimiter_rbsp"?(i&&this.finishFrame(r,i),i=new Ne(Ne.VIDEO_TAG),i.pts=a.pts,i.dts=a.dts):(a.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(i.keyFrame=!0),i.endNalUnit()),i.startNalUnit(),i.writeBytes(a.data);i&&this.finishFrame(r,i),this.trigger("data",{track:e,tags:r.list}),this.trigger("done","VideoSegmentStream")}};Ps.prototype=new Kr;Is=function(e){var s=this,t,i,a,r,n,o,l,u,c,d,h,p;Is.prototype.init.call(this),e=e||{},this.metadataStream=new dt.MetadataStream,e.metadataStream=this.metadataStream,t=new dt.TransportPacketStream,i=new dt.TransportParseStream,a=new dt.ElementaryStream,r=new dt.TimestampRolloverStream("video"),n=new dt.TimestampRolloverStream("audio"),o=new dt.TimestampRolloverStream("timed-metadata"),l=new Pp,u=new Ep,p=new Ap(e),t.pipe(i).pipe(a),a.pipe(r).pipe(u),a.pipe(n).pipe(l),a.pipe(o).pipe(this.metadataStream).pipe(p),h=new dt.CaptionStream,u.pipe(h).pipe(p),a.on("data",function(f){var v,_,b;if(f.type==="metadata"){for(v=f.tracks.length;v--;)f.tracks[v].type==="video"?_=f.tracks[v]:f.tracks[v].type==="audio"&&(b=f.tracks[v]);_&&!c&&(p.numberOfTracks++,c=new Ps(_),u.pipe(c).pipe(p)),b&&!d&&(p.numberOfTracks++,d=new Es(b),l.pipe(d).pipe(p),c&&c.on("keyframe",d.onVideoKeyFrame))}}),this.push=function(f){t.push(f)},this.flush=function(){t.flush()},this.resetCaptions=function(){h.reset()},p.on("data",function(f){s.trigger("data",f)}),p.on("done",function(){s.trigger("done")})};Is.prototype=new Kr;var Op=Is,qn=Gr,Dp=function(e,s,t){var i=new Uint8Array(9),a=new DataView(i.buffer),r,n,o;return e=e||0,s=s===void 0?!0:s,t=t===void 0?!0:t,a.setUint8(0,70),a.setUint8(1,76),a.setUint8(2,86),a.setUint8(3,1),a.setUint8(4,(s?4:0)|(t?1:0)),a.setUint32(5,i.byteLength),e<=0?(n=new Uint8Array(i.byteLength+4),n.set(i),n.set([0,0,0,0],i.byteLength),n):(r=new qn(qn.METADATA_TAG),r.pts=r.dts=0,r.writeMetaDataDouble("duration",e),o=r.finalize().length,n=new Uint8Array(i.byteLength+o),n.set(i),n.set(a.byteLength,o),n)},Lp=Dp,Cu={tag:Gr,Transmuxer:Op,getFlvHeader:Lp},Kt={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(a,r,n){var o=void 0,l=void 0;if(!!n&&!!n.cues)for(o=n.cues.length;o--;)l=n.cues[o],l.startTime<=r&&l.endTime>=a&&n.removeCue(l)};s.default=t,e.exports=s.default})(Kt,Kt.exports);var As={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(a,r,n){var o=r.player_;if(n.captions&&n.captions.length){a.inbandTextTracks_||(a.inbandTextTracks_={});for(var l in n.captionStreams)if(!a.inbandTextTracks_[l]){o.tech_.trigger({type:"usage",name:"hls-608"});var u=o.textTracks().getTrackById(l);u?a.inbandTextTracks_[l]=u:a.inbandTextTracks_[l]=o.addRemoteTextTrack({kind:"captions",id:l,label:l},!1).track}}n.metadata&&n.metadata.length&&!a.metadataTrack_&&(a.metadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,a.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};s.default=t,e.exports=s.default})(As,As.exports);var Oi={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});function t(c){return c&&c.__esModule?c:{default:c}}var i=ve,a=t(i),r=ue,n=t(r),o=function(d){Object.defineProperties(d.frame,{id:{get:function(){return n.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),d.value.key}},value:{get:function(){return n.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),d.value.data}},privateData:{get:function(){return n.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),d.value.data}}})},l=function(d){var h=void 0;return isNaN(d)||Math.abs(d)===1/0?h=Number.MAX_VALUE:h=d,h},u=function(d,h,p){var f=a.default.WebKitDataCue||a.default.VTTCue;h&&h.forEach(function(v){var _=v.stream;this.inbandTextTracks_[_].addCue(new f(v.startTime+this.timestampOffset,v.endTime+this.timestampOffset,v.text))},d),p&&function(){var v=l(d.mediaSource_.duration);p.forEach(function(_){var b=_.cueTime+this.timestampOffset;_.frames.forEach(function(S){var C=new f(b,b,S.value||S.url||S.data||"");C.frame=S,C.value=S,o(C),this.metadataTrack_.addCue(C)},this)},d),d.metadataTrack_&&d.metadataTrack_.cues&&d.metadataTrack_.cues.length&&function(){for(var _=d.metadataTrack_.cues,b=[],S=0;S<_.length;S++)_[S]&&b.push(_[S]);var C=b.reduce(function(T,g){var y=T[g.startTime]||[];return y.push(g),T[g.startTime]=y,T},{}),m=Object.keys(C).sort(function(T,g){return Number(T)-Number(g)});m.forEach(function(T,g){var y=C[T],A=Number(m[g+1])||v;y.forEach(function(E){E.endTime=A})})}()}()};s.default={addTextTrackData:u,durationOfVideo:l},e.exports=s.default})(Oi,Oi.exports);var Va={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function h(p,f){for(var v=0;v<f.length;v++){var _=f[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,f,v){return f&&h(p.prototype,f),v&&h(p,v),p}}();function i(h){return h&&h.__esModule?h:{default:h}}function a(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var r=ve,n=i(r),o=Cu,l=i(o),u=function(p){p.on("data",function(f){n.default.postMessage({action:"data",segment:f})}),p.on("done",function(f){n.default.postMessage({action:"done"})})},c=function(){function h(p){a(this,h),this.options=p||{},this.init()}return t(h,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l.default.Transmuxer(this.options),u(this.transmuxer)}},{key:"push",value:function(f){var v=new Uint8Array(f.data,f.byteOffset,f.byteLength);this.transmuxer.push(v)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),h}(),d=function(p){p.onmessage=function(f){if(f.data.action==="init"&&f.data.options){this.messageHandlers=new c(f.data.options);return}this.messageHandlers||(this.messageHandlers=new c),f.data&&f.data.action&&f.data.action!=="init"&&this.messageHandlers[f.data.action]&&this.messageHandlers[f.data.action](f.data)}};s.default=function(h){return new d(h)},e.exports=s.default})(Va,Va.exports);var Os=arguments[3],tt=arguments[4],Yn=arguments[5],jt=JSON.stringify,Su=!1,Mp=function(e){var s={};function t(i){if(s[i])return s[i].exports;var a=s[i]={i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=s,t.d=function(i,a,r){t.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(a,"a",a),a},t.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},t.p="",t(t.s=entryModule)};typeof Os=="undefined"&&(Su=!0,Os=Mp,tt=__webpack_modules__);var Np=function(e){for(var s=Object.keys(Yn),t,i=0;i<s.length;i++){var a=s[i],r=Yn[a].exports;if(r===e||r&&r.default===e){t=a;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var n={},i=0;i<s.length;i++){var a=s[i];n[a]=a}tt[t]=["function(require,module,exports){"+e+"(self); }",n]}var o=Math.floor(Math.pow(16,8)*Math.random()).toString(16),l={};return l[t]=t,tt[o]=["function(require,module,exports){var f = require("+jt(t)+");(f.default ? f.default : f)(self);}",l],"("+Os+")({"+Object.keys(tt).map(function(u){return jt(u)+":["+tt[u][0]+","+jt(tt[u][1])+"]"}).join(",")+"},{},["+jt(o)+"])"},Rp=function(e,s){var t=typeof s=="string",i;t?i={}:i=[],Object.keys(tt).forEach(function(l){!tt[l]||(i[l]=tt[l].toString())});var a=__webpack_require__(s);if(!(a&&(a===e||a.default===e))){var r=i[s];i[s]=r.substring(0,r.length-1)+`
`+e.name+`();
}`}var n;if(t){s=jt(s);var o=Object.keys(i).map(function(l){return jt(l)+":"+i[l]});n="{"+o.join(",")+"}"}else n="["+i.join(",")+"]";return"var fn = ("+Os.toString().replace("entryModule",s)+")("+n+`);
(typeof fn === "function") && fn(self);`},Zr=function(s,t){var i;Su?i=Rp(s,t):i=Np(s);var a=new Blob([i],{type:"text/javascript"}),r=window.URL||window.webkitURL||window.mozURL||window.msURL,n=r.createObjectURL(a),o=new Worker(n);return o.objectURL=n,o},Ds={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:1024*32};s.default=t,e.exports=s.default})(Ds,Ds.exports);(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function O(P,w){for(var k=0;k<w.length;k++){var L=w[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(P,L.key,L)}}return function(P,w,k){return w&&O(P.prototype,w),k&&O(P,k),P}}(),i=function(P,w,k){var L=!0;e:for(;L;){var N=P,H=w,W=k;L=!1,N===null&&(N=Function.prototype);var V=Object.getOwnPropertyDescriptor(N,H);if(V===void 0){var J=Object.getPrototypeOf(N);if(J===null)return;P=J,w=H,k=W,L=!0,V=J=void 0;continue e}else{if("value"in V)return V.value;var De=V.get;return De===void 0?void 0:De.call(W)}}};function a(O){return O&&O.__esModule?O:{default:O}}function r(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function n(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var o=ve,l=a(o),u=ue,c=a(u),d=Cu,h=a(d),p=Kt.exports,f=a(p),v=As.exports,_=a(v),b=Oi.exports,S=Va.exports,C=a(S),m=Zr,T=a(m),g=Ds.exports,y=a(g),A=function(){var P=void 0;try{P=require.resolve("./flash-transmuxer-worker")}catch{}return P},E=function(P){l.default.setTimeout(P,y.default.TIME_BETWEEN_CHUNKS)},D=function(){return Math.random().toString(36).slice(2,8)},I=function(P,w){(typeof w!="number"||w<0)&&(w=0);var k=Math.pow(10,w);return Math.round(P*k)/k},x=function(O){n(P,O);function P(w){var k=this;r(this,P),i(Object.getPrototypeOf(P.prototype),"constructor",this).call(this);var L=void 0;this.chunkSize_=y.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=w,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,L=l.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(h.default.getFlvHeader())));var N=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+N+D(),this.flashEncodedDataName_="vjs_flashEncodedData_"+N+D(),l.default[this.flashEncodedHeaderName_]=function(){return delete l.default[k.flashEncodedHeaderName_],L},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,T.default)(C.default,A()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(W){W.data.action==="data"&&k.receiveBuffer_(W.data.segment)},this.one("updateend",function(){k.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(V){typeof V=="number"&&V>=0&&(this.timestampOffset_=V,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!this.mediaSource_||!this.mediaSource_.swfObj||!("vjs_getProperty"in this.mediaSource_.swfObj))return c.default.createTimeRange();var V=this.mediaSource_.swfObj.vjs_getProperty("buffered");return V&&V.length&&(V[0][0]=I(V[0][0],3),V[0][1]=I(V[0][1],3)),c.default.createTimeRanges(V)}}),this.mediaSource_.player_.on("seeked",function(){if((0,f.default)(0,1/0,k.metadataTrack_),k.inbandTextTracks_)for(var W in k.inbandTextTracks_)(0,f.default)(0,1/0,k.inbandTextTracks_[W])});var H=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",H),this.mediaSource_.player_.tech_.hls.on("dispose",function(){k.transmuxer_.terminate(),k.mediaSource_.player_.tech_.off("hls-reset",H)})}return t(P,[{key:"appendBuffer",value:function(k){var L=void 0;if(this.updating)throw L=new Error("SourceBuffer.append() cannot be called while an update is in progress"),L.name="InvalidStateError",L.code=11,L;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:k.buffer,byteOffset:k.byteOffset,byteLength:k.byteLength},[k.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(k,L){if((0,f.default)(k,L,this.metadataTrack_),this.inbandTextTracks_)for(var N in this.inbandTextTracks_)(0,f.default)(k,L,this.inbandTextTracks_[N]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(k){var L=this;(0,_.default)(this,this.mediaSource_,k),(0,b.addTextTrackData)(this,k.captions,k.metadata),E(function(){var N=L.convertTagsToData_(k);L.buffer_.length===0&&E(L.processBuffer_.bind(L)),N&&(L.buffer_.push(N),L.bufferSize_+=N.byteLength)})}},{key:"processBuffer_",value:function(){var k=this,L=y.default.BYTES_PER_CHUNK;if(!this.buffer_.length){this.updating!==!1&&(this.updating=!1,this.trigger({type:"updateend"}));return}var N=this.buffer_[0].subarray(0,L);N.byteLength<L||this.buffer_[0].byteLength===L?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(L),this.bufferSize_-=N.byteLength;for(var H=[],W=N.byteLength,V=0;V<W;V++)H.push(String.fromCharCode(N[V]));var J=l.default.btoa(H.join(""));l.default[this.flashEncodedDataName_]=function(){return E(k.processBuffer_.bind(k)),delete l.default[k.flashEncodedDataName_],J},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}},{key:"convertTagsToData_",value:function(k){var L=0,N=this.mediaSource_.tech_,H=0,W=void 0,V=k.tags.videoTags,J=k.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(V.length||J.length)){var De=V[0]||{pts:1/0},je=J[0]||{pts:1/0};this.basePtsOffset_=Math.min(je.pts,De.pts)}N.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(N.buffered().length&&(H=N.buffered().end(0)-this.timestampOffset),N.seeking()&&(H=Math.max(H,N.currentTime()-this.timestampOffset)),H*=1e3,H+=this.basePtsOffset_):H=this.videoBufferEnd_+.1;var ce=V.length;if(ce&&V[ce-1].pts>=H){for(;--ce;){var aa=V[ce];if(!(aa.pts>H)&&(aa.keyFrame||aa.metaDataTag))break}for(;ce;){var kc=V[ce-1];if(!kc.metaDataTag)break;ce--}}var Rt=V.slice(ce),ui=void 0;for(isNaN(this.audioBufferEnd_)?ui=H:ui=this.audioBufferEnd_+.1,Rt.length&&(ui=Math.min(ui,Rt[0].pts)),ce=0;ce<J.length&&!(J[ce].pts>=ui);)ce++;var Gi=J.slice(ce);Gi.length&&(this.audioBufferEnd_=Gi[Gi.length-1].pts),Rt.length&&(this.videoBufferEnd_=Rt[Rt.length-1].pts);var ut=this.getOrderedTags_(Rt,Gi);if(ut.length!==0){if(ut[0].pts<H&&N.seeking()){var Ic=.03333333333333333,Pc=N.currentTime(),Ec=(H-ut[0].pts)/1e3,ra=Pc-Ec;ra<Ic&&(ra=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(ra)}catch{}}for(var ct=0;ct<ut.length;ct++)L+=ut[ct].bytes.byteLength;W=new Uint8Array(L);for(var ct=0,hn=0;ct<ut.length;ct++)W.set(ut[ct].bytes,hn),hn+=ut[ct].bytes.byteLength;return W}}},{key:"getOrderedTags_",value:function(k,L){for(var N=void 0,H=[];k.length||L.length;)k.length?L.length&&L[0].dts<k[0].dts?N=L.shift():N=k.shift():N=L.shift(),H.push(N);return H}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),P}(c.default.EventTarget);s.default=x,e.exports=s.default})(ja,ja.exports);var Xt={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(o){return/mp4a\.\d+.\d+/i.test(o)},i=function(o){return/avc1\.[\da-f]+/i.test(o)},a=function(o){var l={type:"",parameters:{}},u=o.trim().split(";");return l.type=u.shift().trim(),u.forEach(function(c){var d=c.trim().split("=");if(d.length>1){var h=d[0].replace(/"/g,"").trim(),p=d[1].replace(/"/g,"").trim();l.parameters[h]=p}}),l},r=function(o){return o.map(function(l){return l.replace(/avc1\.(\d+)\.(\d+)/i,function(u,c,d){var h=("00"+Number(c).toString(16)).slice(-2),p=("00"+Number(d).toString(16)).slice(-2);return"avc1."+h+"00"+p})})};s.default={isAudioCodec:t,parseContentType:a,isVideoCodec:i,translateLegacyCodecs:r},e.exports=s.default})(Xt,Xt.exports);(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function S(C,m){for(var T=0;T<m.length;T++){var g=m[T];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(C,g.key,g)}}return function(C,m,T){return m&&S(C.prototype,m),T&&S(C,T),C}}(),i=function(C,m,T){var g=!0;e:for(;g;){var y=C,A=m,E=T;g=!1,y===null&&(y=Function.prototype);var D=Object.getOwnPropertyDescriptor(y,A);if(D===void 0){var I=Object.getPrototypeOf(y);if(I===null)return;C=I,m=A,T=E,g=!0,D=I=void 0;continue e}else{if("value"in D)return D.value;var x=D.get;return x===void 0?void 0:x.call(E)}}};function a(S){return S&&S.__esModule?S:{default:S}}function r(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function n(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(S,C):S.__proto__=C)}var o=cr,l=a(o),u=ue,c=a(u),d=ja.exports,h=a(d),p=Ds.exports,f=a(p),v=Xt.exports,_=function(S){n(C,S);function C(){var m=this;r(this,C),i(Object.getPrototypeOf(C.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(T){m.swfObj=l.default.getElementById(T.swfId),m.player_=(0,c.default)(m.swfObj.parentNode),m.tech_=m.swfObj.tech,m.readyState="open",m.tech_.on("seeking",function(){for(var g=m.sourceBuffers.length;g--;)m.sourceBuffers[g].abort()}),m.swfObj&&m.swfObj.vjs_load()})}return t(C,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(T){var g=(0,v.parseContentType)(T),y=void 0;if(g.type==="video/mp2t"||g.type==="audio/mp2t")y=new h.default(this);else throw new Error("NotSupportedError (Video.js)");return this.sourceBuffers.push(y),y}},{key:"endOfStream",value:function(T){T==="network"?this.tech_.error(2):T==="decode"&&this.tech_.error(3),this.readyState!=="ended"&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),C}(c.default.EventTarget);s.default=_;try{Object.defineProperty(_.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(C){var m=void 0,T=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",C),C<T)for(m=0;m<this.sourceBuffers.length;m++)this.sourceBuffers[m].remove(C,T);return C}})}catch{_.prototype.duration=NaN}for(var b in f.default)_[b]=f.default[b];e.exports=s.default})($a,$a.exports);var Wa={exports:{}},Tu={},Ja={exports:{}},Kn=Math.pow(2,32)-1,X,wu,xu,Ga,ku,Iu,Pu,Eu,qa,Au,Ou,Du,Lu,Mu,Nu,Ru,Fu,Uu,zu,Bu,$u,Ya,q,Ka,ju,Hu,Xn,Zn,Vu,Wu,Ju,Gu,cs,qu,Yu,Ku;(function(){var e;if(q={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(e in q)q.hasOwnProperty(e)&&(q[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);Ka=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Hu=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),ju=new Uint8Array([0,0,0,1]),Xn=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Zn=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Vu={video:Xn,audio:Zn},Gu=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ju=new Uint8Array([0,0,0,0,0,0,0,0]),cs=new Uint8Array([0,0,0,0,0,0,0,0]),qu=cs,Yu=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ku=cs,Wu=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})();X=function(e){var s=[],t=0,i,a,r;for(i=1;i<arguments.length;i++)s.push(arguments[i]);for(i=s.length;i--;)t+=s[i].byteLength;for(a=new Uint8Array(t+8),r=new DataView(a.buffer,a.byteOffset,a.byteLength),r.setUint32(0,a.byteLength),a.set(e,4),i=0,t=8;i<s.length;i++)a.set(s[i],t),t+=s[i].byteLength;return a};wu=function(){return X(q.dinf,X(q.dref,Gu))};xu=function(e){return X(q.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))};Ga=function(){return X(q.ftyp,Ka,ju,Ka,Hu)};Ru=function(e){return X(q.hdlr,Vu[e])};ku=function(e){return X(q.mdat,e)};Nu=function(e){var s=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,e.duration&255,85,196,0,0]);return e.samplerate&&(s[12]=e.samplerate>>>24&255,s[13]=e.samplerate>>>16&255,s[14]=e.samplerate>>>8&255,s[15]=e.samplerate&255),X(q.mdhd,s)};Mu=function(e){return X(q.mdia,Nu(e),Ru(e.type),Pu(e))};Iu=function(e){return X(q.mfhd,new Uint8Array([0,0,0,0,(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255]))};Pu=function(e){return X(q.minf,e.type==="video"?X(q.vmhd,Wu):X(q.smhd,Ju),wu(),Uu(e))};Eu=function(e,s){for(var t=[],i=s.length;i--;)t[i]=Bu(s[i]);return X.apply(null,[q.moof,Iu(e)].concat(t))};qa=function(e){for(var s=e.length,t=[];s--;)t[s]=Du(e[s]);return X.apply(null,[q.moov,Ou(4294967295)].concat(t).concat(Au(e)))};Au=function(e){for(var s=e.length,t=[];s--;)t[s]=$u(e[s]);return X.apply(null,[q.mvex].concat(t))};Ou=function(e){var s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return X(q.mvhd,s)};Fu=function(e){var s=e.samples||[],t=new Uint8Array(4+s.length),i,a;for(a=0;a<s.length;a++)i=s[a].flags,t[a+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return X(q.sdtp,t)};Uu=function(e){return X(q.stbl,zu(e),X(q.stts,Ku),X(q.stsc,qu),X(q.stsz,Yu),X(q.stco,cs))};(function(){var e,s;zu=function(t){return X(q.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),t.type==="video"?e(t):s(t))},e=function(t){var i=t.sps||[],a=t.pps||[],r=[],n=[],o;for(o=0;o<i.length;o++)r.push((i[o].byteLength&65280)>>>8),r.push(i[o].byteLength&255),r=r.concat(Array.prototype.slice.call(i[o]));for(o=0;o<a.length;o++)n.push((a[o].byteLength&65280)>>>8),n.push(a[o].byteLength&255),n=n.concat(Array.prototype.slice.call(a[o]));return X(q.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(t.width&65280)>>8,t.width&255,(t.height&65280)>>8,t.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),X(q.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([i.length]).concat(r).concat([a.length]).concat(n))),X(q.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},s=function(t){return X(q.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(t.channelcount&65280)>>8,t.channelcount&255,(t.samplesize&65280)>>8,t.samplesize&255,0,0,0,0,(t.samplerate&65280)>>8,t.samplerate&255,0,0]),xu(t))}})();Lu=function(e){var s=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(e.id&4278190080)>>24,(e.id&16711680)>>16,(e.id&65280)>>8,e.id&255,0,0,0,0,(e.duration&4278190080)>>24,(e.duration&16711680)>>16,(e.duration&65280)>>8,e.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(e.width&65280)>>8,e.width&255,0,0,(e.height&65280)>>8,e.height&255,0,0]);return X(q.tkhd,s)};Bu=function(e){var s,t,i,a,r,n,o;return s=X(q.tfhd,new Uint8Array([0,0,0,58,(e.id&4278190080)>>24,(e.id&16711680)>>16,(e.id&65280)>>8,e.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),n=Math.floor(e.baseMediaDecodeTime/(Kn+1)),o=Math.floor(e.baseMediaDecodeTime%(Kn+1)),t=X(q.tfdt,new Uint8Array([1,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,n&255,o>>>24&255,o>>>16&255,o>>>8&255,o&255])),r=32+20+8+16+8+8,e.type==="audio"?(i=Ya(e,r),X(q.traf,s,t,i)):(a=Fu(e),i=Ya(e,a.length+r),X(q.traf,s,t,i,a))};Du=function(e){return e.duration=e.duration||4294967295,X(q.trak,Lu(e),Mu(e))};$u=function(e){var s=new Uint8Array([0,0,0,0,(e.id&4278190080)>>24,(e.id&16711680)>>16,(e.id&65280)>>8,e.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.type!=="video"&&(s[s.length-1]=0),X(q.trex,s)};(function(){var e,s,t;t=function(i,a){var r=0,n=0,o=0,l=0;return i.length&&(i[0].duration!==void 0&&(r=1),i[0].size!==void 0&&(n=2),i[0].flags!==void 0&&(o=4),i[0].compositionTimeOffset!==void 0&&(l=8)),[0,0,r|n|o|l,1,(i.length&4278190080)>>>24,(i.length&16711680)>>>16,(i.length&65280)>>>8,i.length&255,(a&4278190080)>>>24,(a&16711680)>>>16,(a&65280)>>>8,a&255]},s=function(i,a){var r,n,o,l;for(n=i.samples||[],a+=8+12+16*n.length,r=t(n,a),l=0;l<n.length;l++)o=n[l],r=r.concat([(o.duration&4278190080)>>>24,(o.duration&16711680)>>>16,(o.duration&65280)>>>8,o.duration&255,(o.size&4278190080)>>>24,(o.size&16711680)>>>16,(o.size&65280)>>>8,o.size&255,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,o.flags.degradationPriority&240<<8,o.flags.degradationPriority&15,(o.compositionTimeOffset&4278190080)>>>24,(o.compositionTimeOffset&16711680)>>>16,(o.compositionTimeOffset&65280)>>>8,o.compositionTimeOffset&255]);return X(q.trun,new Uint8Array(r))},e=function(i,a){var r,n,o,l;for(n=i.samples||[],a+=8+12+8*n.length,r=t(n,a),l=0;l<n.length;l++)o=n[l],r=r.concat([(o.duration&4278190080)>>>24,(o.duration&16711680)>>>16,(o.duration&65280)>>>8,o.duration&255,(o.size&4278190080)>>>24,(o.size&16711680)>>>16,(o.size&65280)>>>8,o.size&255]);return X(q.trun,new Uint8Array(r))},Ya=function(i,a){return i.type==="audio"?e(i,a):s(i,a)}})();var Xu={ftyp:Ga,mdat:ku,moof:Eu,moov:qa,initSegment:function(e){var s=Ga(),t=qa(e),i;return i=new Uint8Array(s.byteLength+t.byteLength),i.set(s),i.set(t,s.byteLength),i}},Fp=Xe,Ls;Ls=function(){var e=new Uint8Array,s=0;Ls.prototype.init.call(this),this.setTimestamp=function(t){s=t},this.parseId3TagSize=function(t,i){var a=t[i+6]<<21|t[i+7]<<14|t[i+8]<<7|t[i+9],r=t[i+5],n=(r&16)>>4;return n?a+20:a+10},this.parseAdtsSize=function(t,i){var a=(t[i+5]&224)>>5,r=t[i+4]<<3,n=t[i+3]&3<<11;return n|r|a},this.push=function(t){var i=0,a=0,r,n,o,l;for(e.length?(l=e.length,e=new Uint8Array(t.byteLength+l),e.set(e.subarray(0,l)),e.set(t,l)):e=t;e.length-a>=3;){if(e[a]==="I".charCodeAt(0)&&e[a+1]==="D".charCodeAt(0)&&e[a+2]==="3".charCodeAt(0)){if(e.length-a<10||(i=this.parseId3TagSize(e,a),i>e.length))break;n={type:"timed-metadata",data:e.subarray(a,a+i)},this.trigger("data",n),a+=i;continue}else if(e[a]&!0&&(e[a+1]&240)===240){if(e.length-a<7||(i=this.parseAdtsSize(e,a),i>e.length))break;o={type:"audio",data:e.subarray(a,a+i),pts:s,dts:s},this.trigger("data",o),a+=i;continue}a++}r=e.length-a,r>0?e=e.subarray(a):e=new Uint8Array}};Ls.prototype=new Fp;var Up=Ls,ht=[33,16,5,32,164,27],Ca=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ee=function(e){for(var s=[];e--;)s.push(0);return s},zp=function(e){return Object.keys(e).reduce(function(s,t){return s[t]=new Uint8Array(e[t].reduce(function(i,a){return i.concat(a)},[])),s},{})},Bp={96e3:[ht,[227,64],ee(154),[56]],88200:[ht,[231],ee(170),[56]],64e3:[ht,[248,192],ee(240),[56]],48e3:[ht,[255,192],ee(268),[55,148,128],ee(54),[112]],44100:[ht,[255,192],ee(268),[55,163,128],ee(84),[112]],32e3:[ht,[255,192],ee(268),[55,234],ee(226),[112]],24e3:[ht,[255,192],ee(268),[55,255,128],ee(268),[111,112],ee(126),[224]],16e3:[ht,[255,192],ee(268),[55,255,128],ee(268),[111,255],ee(269),[223,108],ee(195),[1,192]],12e3:[Ca,ee(268),[3,127,248],ee(268),[6,255,240],ee(268),[13,255,224],ee(268),[27,253,128],ee(259),[56]],11025:[Ca,ee(268),[3,127,248],ee(268),[6,255,240],ee(268),[13,255,224],ee(268),[27,255,192],ee(268),[55,175,128],ee(108),[112]],8e3:[Ca,ee(268),[3,121,16],ee(47),[7]]},$p=zp(Bp),Zu=9e4,Qr,en,tn,sn,Qu,ec;Qr=function(e){return e*Zu};en=function(e,s){return e*s};tn=function(e){return e/Zu};sn=function(e,s){return e/s};Qu=function(e,s){return Qr(sn(e,s))};ec=function(e,s){return en(tn(e),s)};var jp={secondsToVideoTs:Qr,secondsToAudioTs:en,videoTsToSeconds:tn,audioTsToSeconds:sn,audioTsToVideoTs:Qu,videoTsToAudioTs:ec},Ks=Xe,Di=Xu,ze=hu,Qn=pu,Hp=gu.H264Stream,Vp=Up,Wp=$p,eo=jp,an=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],rn=["width","height","profileIdc","levelIdc","profileCompatibility"],Xa=9e4,Li,Zt,Ms,Qt,tc,ic,Ns,ei,nn,Za,sc;tc=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}};ic=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)};Za=function(e,s){var t;if(e.length!==s.length)return!1;for(t=0;t<e.length;t++)if(e[t]!==s[t])return!1;return!0};sc=function(e){var s,t,i=0;for(s=0;s<e.length;s++)t=e[s],i+=t.data.byteLength;return i};Zt=function(e){var s=[],t=0,i=0,a=0,r=1/0;Zt.prototype.init.call(this),this.push=function(n){Ns(e,n),e&&an.forEach(function(o){e[o]=n[o]}),s.push(n)},this.setEarliestDts=function(n){i=n-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(n){r=n},this.setAudioAppendStart=function(n){a=n},this.flush=function(){var n,o,l,u;if(s.length===0){this.trigger("done","AudioSegmentStream");return}n=this.trimAdtsFramesByEarliestDts_(s),e.baseMediaDecodeTime=nn(e),this.prefixWithSilence_(e,n),e.samples=this.generateSampleTable_(n),l=Di.mdat(this.concatenateFrameData_(n)),s=[],o=Di.moof(t,[e]),u=new Uint8Array(o.byteLength+l.byteLength),t++,u.set(o),u.set(l,o.byteLength),ei(e),this.trigger("data",{track:e,boxes:u}),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(n,o){var l,u=0,c=0,d=0,h=0,p,f;if(!!o.length&&(l=eo.audioTsToVideoTs(n.baseMediaDecodeTime,n.samplerate),u=Math.ceil(Xa/(n.samplerate/1024)),a&&r&&(c=l-Math.max(a,r),d=Math.floor(c/u),h=d*u),!(d<1||h>Xa/2))){for(p=Wp[n.samplerate],p||(p=o[0].data),f=0;f<d;f++)o.splice(f,0,{data:p});n.baseMediaDecodeTime-=Math.floor(eo.videoTsToAudioTs(h,n.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(n){return e.minSegmentDts>=i?n:(e.minSegmentDts=1/0,n.filter(function(o){return o.dts>=i?(e.minSegmentDts=Math.min(e.minSegmentDts,o.dts),e.minSegmentPts=e.minSegmentDts,!0):!1}))},this.generateSampleTable_=function(n){var o,l,u=[];for(o=0;o<n.length;o++)l=n[o],u.push({size:l.data.byteLength,duration:1024});return u},this.concatenateFrameData_=function(n){var o,l,u=0,c=new Uint8Array(sc(n));for(o=0;o<n.length;o++)l=n[o],c.set(l.data,u),u+=l.data.byteLength;return c}};Zt.prototype=new Ks;Li=function(e,s){var t=0,i=[],a=[],r,n;s=s||{},Li.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(o){Ns(e,o),o.nalUnitType==="seq_parameter_set_rbsp"&&!r&&(r=o.config,e.sps=[o.data],rn.forEach(function(l){e[l]=r[l]},this)),o.nalUnitType==="pic_parameter_set_rbsp"&&!n&&(n=o.data,e.pps=[o.data]),i.push(o)},this.flush=function(){for(var o,l,u,c,d,h;i.length&&i[0].nalUnitType!=="access_unit_delimiter_rbsp";)i.shift();if(i.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(o=this.groupNalsIntoFrames_(i),u=this.groupFramesIntoGops_(o),u[0][0].keyFrame||(l=this.getGopForFusion_(i[0],e),l?(u.unshift(l),u.byteLength+=l.byteLength,u.nalCount+=l.nalCount,u.pts=l.pts,u.dts=l.dts,u.duration+=l.duration):u=this.extendFirstKeyFrame_(u)),a.length){var p;if(s.alignGopsAtEnd?p=this.alignGopsAtEnd_(u):p=this.alignGopsAtStart_(u),!p){this.gopCache_.unshift({gop:u.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),i=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}ei(e),u=p}Ns(e,u),e.samples=this.generateSampleTable_(u),d=Di.mdat(this.concatenateNalData_(u)),e.baseMediaDecodeTime=nn(e),this.trigger("processedGopsInfo",u.map(function(f){return{pts:f.pts,dts:f.dts,byteLength:f.byteLength}})),this.gopCache_.unshift({gop:u.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),i=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),c=Di.moof(t,[e]),h=new Uint8Array(c.byteLength+d.byteLength),t++,h.set(c),h.set(d,c.byteLength),this.trigger("data",{track:e,boxes:h}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){ei(e),r=void 0,n=void 0},this.getGopForFusion_=function(o){var l=45e3,u=1e4,c=1/0,d,h,p,f,v;for(v=0;v<this.gopCache_.length;v++)f=this.gopCache_[v],p=f.gop,!(!(e.pps&&Za(e.pps[0],f.pps[0]))||!(e.sps&&Za(e.sps[0],f.sps[0])))&&(p.dts<e.timelineStartInfo.dts||(d=o.dts-p.dts-p.duration,d>=-u&&d<=l&&(!h||c>d)&&(h=f,c=d)));return h?h.gop:null},this.extendFirstKeyFrame_=function(o){var l;return!o[0][0].keyFrame&&o.length>1&&(l=o.shift(),o.byteLength-=l.byteLength,o.nalCount-=l.nalCount,o[0][0].dts=l.dts,o[0][0].pts=l.pts,o[0][0].duration+=l.duration),o},this.groupNalsIntoFrames_=function(o){var l,u,c=[],d=[];for(c.byteLength=0,l=0;l<o.length;l++)u=o[l],u.nalUnitType==="access_unit_delimiter_rbsp"?(c.length&&(c.duration=u.dts-c.dts,d.push(c)),c=[u],c.byteLength=u.data.byteLength,c.pts=u.pts,c.dts=u.dts):(u.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(c.keyFrame=!0),c.duration=u.dts-c.dts,c.byteLength+=u.data.byteLength,c.push(u));return d.length&&(!c.duration||c.duration<=0)&&(c.duration=d[d.length-1].duration),d.push(c),d},this.groupFramesIntoGops_=function(o){var l,u,c=[],d=[];for(c.byteLength=0,c.nalCount=0,c.duration=0,c.pts=o[0].pts,c.dts=o[0].dts,d.byteLength=0,d.nalCount=0,d.duration=0,d.pts=o[0].pts,d.dts=o[0].dts,l=0;l<o.length;l++)u=o[l],u.keyFrame?(c.length&&(d.push(c),d.byteLength+=c.byteLength,d.nalCount+=c.nalCount,d.duration+=c.duration),c=[u],c.nalCount=u.length,c.byteLength=u.byteLength,c.pts=u.pts,c.dts=u.dts,c.duration=u.duration):(c.duration+=u.duration,c.nalCount+=u.length,c.byteLength+=u.byteLength,c.push(u));return d.length&&c.duration<=0&&(c.duration=d[d.length-1].duration),d.byteLength+=c.byteLength,d.nalCount+=c.nalCount,d.duration+=c.duration,d.push(c),d},this.generateSampleTable_=function(o,l){var u,c,d,h,p,f=l||0,v=[];for(u=0;u<o.length;u++)for(h=o[u],c=0;c<h.length;c++)p=h[c],d=tc(),d.dataOffset=f,d.compositionTimeOffset=p.pts-p.dts,d.duration=p.duration,d.size=4*p.length,d.size+=p.byteLength,p.keyFrame&&(d.flags.dependsOn=2),f+=d.size,v.push(d);return v},this.concatenateNalData_=function(o){var l,u,c,d,h,p,f=0,v=o.byteLength,_=o.nalCount,b=v+4*_,S=new Uint8Array(b),C=new DataView(S.buffer);for(l=0;l<o.length;l++)for(d=o[l],u=0;u<d.length;u++)for(h=d[u],c=0;c<h.length;c++)p=h[c],C.setUint32(f,p.data.byteLength),f+=4,S.set(p.data,f),f+=p.data.byteLength;return S},this.alignGopsAtStart_=function(o){var l,u,c,d,h,p,f,v;for(h=o.byteLength,p=o.nalCount,f=o.duration,l=u=0;l<a.length&&u<o.length&&(c=a[l],d=o[u],c.pts!==d.pts);){if(d.pts>c.pts){l++;continue}u++,h-=d.byteLength,p-=d.nalCount,f-=d.duration}return u===0?o:u===o.length?null:(v=o.slice(u),v.byteLength=h,v.duration=f,v.nalCount=p,v.pts=v[0].pts,v.dts=v[0].dts,v)},this.alignGopsAtEnd_=function(o){var l,u,c,d,h,p;for(l=a.length-1,u=o.length-1,h=null,p=!1;l>=0&&u>=0;){if(c=a[l],d=o[u],c.pts===d.pts){p=!0;break}if(c.pts>d.pts){l--;continue}l===a.length-1&&(h=u),u--}if(!p&&h===null)return null;var f;if(p?f=u:f=h,f===0)return o;var v=o.slice(f),_=v.reduce(function(b,S){return b.byteLength+=S.byteLength,b.duration+=S.duration,b.nalCount+=S.nalCount,b},{byteLength:0,duration:0,nalCount:0});return v.byteLength=_.byteLength,v.duration=_.duration,v.nalCount=_.nalCount,v.pts=v[0].pts,v.dts=v[0].dts,v},this.alignGopsWith=function(o){a=o}};Li.prototype=new Ks;Ns=function(e,s){typeof s.pts=="number"&&(e.timelineStartInfo.pts===void 0&&(e.timelineStartInfo.pts=s.pts),e.minSegmentPts===void 0?e.minSegmentPts=s.pts:e.minSegmentPts=Math.min(e.minSegmentPts,s.pts),e.maxSegmentPts===void 0?e.maxSegmentPts=s.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,s.pts)),typeof s.dts=="number"&&(e.timelineStartInfo.dts===void 0&&(e.timelineStartInfo.dts=s.dts),e.minSegmentDts===void 0?e.minSegmentDts=s.dts:e.minSegmentDts=Math.min(e.minSegmentDts,s.dts),e.maxSegmentDts===void 0?e.maxSegmentDts=s.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,s.dts))};ei=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts};nn=function(e){var s,t,i=e.minSegmentDts-e.timelineStartInfo.dts;return s=e.timelineStartInfo.baseMediaDecodeTime,s+=i,s=Math.max(0,s),e.type==="audio"&&(t=e.samplerate/Xa,s*=t,s=Math.floor(s)),s};Qt=function(e,s){this.numberOfTracks=0,this.metadataStream=s,typeof e.remux!="undefined"?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Qt.prototype.init.call(this),this.push=function(t){if(t.text)return this.pendingCaptions.push(t);if(t.frames)return this.pendingMetadata.push(t);this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,t.track.type==="video"&&(this.videoTrack=t.track),t.track.type==="audio"&&(this.audioTrack=t.track)}};Qt.prototype=new Ks;Qt.prototype.flush=function(e){var s=0,t={captions:[],captionStreams:{},metadata:[],info:{}},i,a,r,n=0,o;if(this.pendingTracks.length<this.numberOfTracks){if(e!=="VideoSegmentStream"&&e!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}for(this.videoTrack?(n=this.videoTrack.timelineStartInfo.pts,rn.forEach(function(l){t.info[l]=this.videoTrack[l]},this)):this.audioTrack&&(n=this.audioTrack.timelineStartInfo.pts,an.forEach(function(l){t.info[l]=this.audioTrack[l]},this)),this.pendingTracks.length===1?t.type=this.pendingTracks[0].type:t.type="combined",this.emittedTracks+=this.pendingTracks.length,r=Di.initSegment(this.pendingTracks),t.initSegment=new Uint8Array(r.byteLength),t.initSegment.set(r),t.data=new Uint8Array(this.pendingBytes),o=0;o<this.pendingBoxes.length;o++)t.data.set(this.pendingBoxes[o],s),s+=this.pendingBoxes[o].byteLength;for(o=0;o<this.pendingCaptions.length;o++)i=this.pendingCaptions[o],i.startTime=i.startPts-n,i.startTime/=9e4,i.endTime=i.endPts-n,i.endTime/=9e4,t.captionStreams[i.stream]=!0,t.captions.push(i);for(o=0;o<this.pendingMetadata.length;o++)a=this.pendingMetadata[o],a.cueTime=a.pts-n,a.cueTime/=9e4,t.metadata.push(a);t.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",t),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};Ms=function(e){var s=this,t=!0,i,a;Ms.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new ze.MetadataStream,r.aacStream=new Vp,r.audioTimestampRolloverStream=new ze.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new ze.TimestampRolloverStream("timed-metadata"),r.adtsStream=new Qn,r.coalesceStream=new Qt(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",function(n){r.aacStream.setTimestamp(n.timeStamp)}),r.aacStream.on("data",function(n){n.type==="timed-metadata"&&!r.audioSegmentStream&&(a=a||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new Zt(a),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new ze.MetadataStream,r.packetStream=new ze.TransportPacketStream,r.parseStream=new ze.TransportParseStream,r.elementaryStream=new ze.ElementaryStream,r.videoTimestampRolloverStream=new ze.TimestampRolloverStream("video"),r.audioTimestampRolloverStream=new ze.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new ze.TimestampRolloverStream("timed-metadata"),r.adtsStream=new Qn,r.h264Stream=new Hp,r.captionStream=new ze.CaptionStream,r.coalesceStream=new Qt(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(n){var o;if(n.type==="metadata"){for(o=n.tracks.length;o--;)!i&&n.tracks[o].type==="video"?(i=n.tracks[o],i.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):!a&&n.tracks[o].type==="audio"&&(a=n.tracks[o],a.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime);i&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new Li(i,e),r.videoSegmentStream.on("timelineStartInfo",function(l){a&&(a.timelineStartInfo=l,r.audioSegmentStream.setEarliestDts(l.dts))}),r.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(l){a&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(l)}),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),a&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new Zt(a),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var n=this.transmuxPipeline_;this.baseMediaDecodeTime=r,a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,ei(a),a.timelineStartInfo.baseMediaDecodeTime=r,n.audioTimestampRolloverStream&&n.audioTimestampRolloverStream.discontinuity()),i&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[],n.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,ei(i),n.captionStream.reset(),i.timelineStartInfo.baseMediaDecodeTime=r),n.timedMetadataTimestampRolloverStream&&n.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(r){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(r)},this.alignGopsWith=function(r){i&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(r)},this.push=function(r){if(t){var n=ic(r);n&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!n&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),t=!1}this.transmuxPipeline_.headOfPipeline.push(r)},this.flush=function(){t=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};Ms.prototype=new Ks;var Sa={Transmuxer:Ms,VideoSegmentStream:Li,AudioSegmentStream:Zt,AUDIO_PROPERTIES:an,VIDEO_PROPERTIES:rn},Jp={generator:Xu,Transmuxer:Sa.Transmuxer,AudioSegmentStream:Sa.AudioSegmentStream,VideoSegmentStream:Sa.VideoSegmentStream};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function h(p,f){for(var v=0;v<f.length;v++){var _=f[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,f,v){return f&&h(p.prototype,f),v&&h(p,v),p}}();function i(h){return h&&h.__esModule?h:{default:h}}function a(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var r=ve,n=i(r),o=Jp,l=i(o),u=function(p){p.on("data",function(f){var v=f.initSegment;f.initSegment={data:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength};var _=f.data;f.data=_.buffer,n.default.postMessage({action:"data",segment:f,byteOffset:_.byteOffset,byteLength:_.byteLength},[f.data])}),p.captionStream&&p.captionStream.on("data",function(f){n.default.postMessage({action:"caption",data:f})}),p.on("done",function(f){n.default.postMessage({action:"done"})}),p.on("gopInfo",function(f){n.default.postMessage({action:"gopInfo",gopInfo:f})})},c=function(){function h(p){a(this,h),this.options=p||{},this.init()}return t(h,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l.default.Transmuxer(this.options),u(this.transmuxer)}},{key:"push",value:function(f){var v=new Uint8Array(f.data,f.byteOffset,f.byteLength);this.transmuxer.push(v)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(f){var v=f.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(v*9e4))}},{key:"setAudioAppendStart",value:function(f){this.transmuxer.setAudioAppendStart(Math.ceil(f.appendStart*9e4))}},{key:"flush",value:function(f){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(f){this.transmuxer.alignGopsWith(f.gopsToAlignWith.slice())}}]),h}(),d=function(p){p.onmessage=function(f){if(f.data.action==="init"&&f.data.options){this.messageHandlers=new c(f.data.options);return}this.messageHandlers||(this.messageHandlers=new c),f.data&&f.data.action&&f.data.action!=="init"&&this.messageHandlers[f.data.action]&&this.messageHandlers[f.data.action](f.data)}};s.default=function(h){return new d(h)},e.exports=s.default})(Ja,Ja.exports);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function A(E,D){for(var I=0;I<D.length;I++){var x=D[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,D,I){return D&&A(E.prototype,D),I&&A(E,I),E}}(),t=function(E,D,I){var x=!0;e:for(;x;){var O=E,P=D,w=I;x=!1,O===null&&(O=Function.prototype);var k=Object.getOwnPropertyDescriptor(O,P);if(k===void 0){var L=Object.getPrototypeOf(O);if(L===null)return;E=L,D=P,I=w,x=!0,k=L=void 0;continue e}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(w)}}};function i(A){return A&&A.__esModule?A:{default:A}}function a(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function r(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}var n=ue,o=i(n),l=As.exports,u=i(l),c=Kt.exports,d=i(c),h=Oi.exports,p=Zr,f=i(p),v=Ja.exports,_=i(v),b=Xt.exports,S=function(){var E=void 0;try{E=require.resolve("./transmuxer-worker")}catch{}return E},C=function(E,D){var I=E.addSourceBuffer(D),x=Object.create(null);x.updating=!1,x.realBuffer_=I;var O=function(w){typeof I[w]=="function"?x[w]=function(){return I[w].apply(I,arguments)}:typeof x[w]=="undefined"&&Object.defineProperty(x,w,{get:function(){return I[w]},set:function(L){return I[w]=L}})};for(var P in I)O(P);return x},m=function(E,D,I){if(!D||!E.length)return[];var x=Math.ceil((D.currentTime()-I+3)*9e4),O=void 0;for(O=0;O<E.length&&!(E[O].pts>x);O++);return E.slice(O)};e.gopsSafeToAlignWith=m;var T=function(E,D,I){if(!D.length)return E;if(I)return D.slice();var x=D[0].pts,O=0;for(O;O<E.length&&!(E[O].pts>=x);O++);return E.slice(0,O).concat(D)};e.updateGopBuffer=T;var g=function(E,D,I,x){for(var O=Math.ceil((D-x)*9e4),P=Math.ceil((I-x)*9e4),w=E.slice(),k=E.length;k--&&!(E[k].pts<=P););if(k===-1)return w;for(var L=k+1;L--&&!(E[L].pts<=O););return L=Math.max(L,0),w.splice(L,k-L+1),w};e.removeGopBuffer=g;var y=function(A){r(E,A);function E(D,I){var x=this;a(this,E),t(Object.getPrototypeOf(E.prototype),"constructor",this).call(this,o.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=D,this.codecs_=I,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=o.default.browser.IE_VERSION>=11;var O={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(P){(0,b.isAudioCodec)(P)?x.audioCodec_=P:(0,b.isVideoCodec)(P)&&(x.videoCodec_=P)}),this.transmuxer_=(0,f.default)(_.default,S()),this.transmuxer_.postMessage({action:"init",options:O}),this.transmuxer_.onmessage=function(P){if(P.data.action==="data")return x.data_(P);if(P.data.action==="done")return x.done_(P);if(P.data.action==="gopInfo")return x.appendGopInfo_(P)},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(w){typeof w=="number"&&w>=0&&(this.timestampOffset_=w,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:w}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(w){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=w),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=w)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var w=null,k=null,L=0,N=[],H=[];if(!this.videoBuffer_&&!this.audioBuffer_)return o.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(this.videoBuffer_.buffered.length===0&&this.audioBuffer_.buffered.length===0)return o.default.createTimeRange();for(var W=this.videoBuffer_.buffered,V=this.audioBuffer_.buffered,J=W.length;J--;)N.push({time:W.start(J),type:"start"}),N.push({time:W.end(J),type:"end"});for(J=V.length;J--;)N.push({time:V.start(J),type:"start"}),N.push({time:V.end(J),type:"end"});for(N.sort(function(De,je){return De.time-je.time}),J=0;J<N.length;J++)N[J].type==="start"?(L++,L===2&&(w=N[J].time)):N[J].type==="end"&&(L--,L===1&&(k=N[J].time)),w!==null&&k!==null&&(H.push([w,k]),w=null,k=null);return o.default.createTimeRanges(H)}})}return s(E,[{key:"data_",value:function(I){var x=I.data.segment;x.data=new Uint8Array(x.data,I.data.byteOffset,I.data.byteLength),x.initSegment=new Uint8Array(x.initSegment.data,x.initSegment.byteOffset,x.initSegment.byteLength),(0,u.default)(this,this.mediaSource_,x),this.pendingBuffers_.push(x)}},{key:"done_",value:function(I){if(this.mediaSource_.readyState==="closed"){this.pendingBuffers_.length=0;return}this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var I=this,x=["audio","video"];x.forEach(function(O){if(!!I[O+"Codec_"]&&!I[O+"Buffer_"]){var P=null;if(I.mediaSource_[O+"Buffer_"])P=I.mediaSource_[O+"Buffer_"],P.updating=!1;else{var w=O+"Codec_",k=O+'/mp4;codecs="'+I[w]+'"';P=C(I.mediaSource_.nativeMediaSource_,k),I.mediaSource_[O+"Buffer_"]=P}I[O+"Buffer_"]=P,["update","updatestart","updateend"].forEach(function(L){P.addEventListener(L,function(){if(!(O==="audio"&&I.audioDisabled_)){L==="updateend"&&(I[O+"Buffer_"].updating=!1);var N=x.every(function(H){return H==="audio"&&I.audioDisabled_?!0:!(O!==H&&I[H+"Buffer_"]&&I[H+"Buffer_"].updating)});if(N)return I.trigger(L)}})})}})}},{key:"appendBuffer",value:function(I){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var x=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:x.end(x.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:m(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:I.buffer,byteOffset:I.byteOffset,byteLength:I.byteLength},[I.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(I){this.gopBuffer_=T(this.gopBuffer_,I.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(I,x){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(I,x),this.gopBuffer_=g(this.gopBuffer_,I,x,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(I,x)),(0,d.default)(I,x,this.metadataTrack_),this.inbandTextTracks_)for(var O in this.inbandTextTracks_)(0,d.default)(I,x,this.inbandTextTracks_[O])}},{key:"processPendingSegments_",value:function(){var I={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};I=this.pendingBuffers_.reduce(function(O,P){var w=P.type,k=P.data,L=P.initSegment;return O[w].segments.push(k),O[w].bytes+=k.byteLength,O[w].initSegment=L,P.captions&&(O.captions=O.captions.concat(P.captions)),P.info&&(O[w].info=P.info),P.metadata&&(O.metadata=O.metadata.concat(P.metadata)),O},I),!this.videoBuffer_&&!this.audioBuffer_&&(I.video.bytes===0&&(this.videoCodec_=null),I.audio.bytes===0&&(this.audioCodec_=null),this.createRealSourceBuffers_()),I.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:I.audio.info}),I.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:I.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(I.audio.segments.unshift(I.audio.initSegment),I.audio.bytes+=I.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var x=!1;this.videoBuffer_&&I.video.bytes?(I.video.segments.unshift(I.video.initSegment),I.video.bytes+=I.video.initSegment.byteLength,this.concatAndAppendSegments_(I.video,this.videoBuffer_),(0,h.addTextTrackData)(this,I.captions,I.metadata)):this.videoBuffer_&&(this.audioDisabled_||!this.audioBuffer_)&&(x=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(I.audio,this.audioBuffer_),this.pendingBuffers_.length=0,x&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(I,x){var O=0,P=void 0;if(I.bytes){P=new Uint8Array(I.bytes),I.segments.forEach(function(w){P.set(w,O),O+=w.byteLength});try{x.updating=!0,x.appendBuffer(P)}catch(w){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:w.message,originalError:w})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),E}(o.default.EventTarget);e.default=y})(Tu);(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function S(C,m){for(var T=0;T<m.length;T++){var g=m[T];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(C,g.key,g)}}return function(C,m,T){return m&&S(C.prototype,m),T&&S(C,T),C}}(),i=function(C,m,T){var g=!0;e:for(;g;){var y=C,A=m,E=T;g=!1,y===null&&(y=Function.prototype);var D=Object.getOwnPropertyDescriptor(y,A);if(D===void 0){var I=Object.getPrototypeOf(y);if(I===null)return;C=I,m=A,T=E,g=!0,D=I=void 0;continue e}else{if("value"in D)return D.value;var x=D.get;return x===void 0?void 0:x.call(E)}}};function a(S){return S&&S.__esModule?S:{default:S}}function r(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function n(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(S,C):S.__proto__=C)}var o=ve,l=a(o),u=cr,c=a(u),d=ue,h=a(d),p=Tu,f=a(p),v=Oi.exports,_=Xt.exports,b=function(S){n(C,S);function C(){var m=this;r(this,C),i(Object.getPrototypeOf(C.prototype),"constructor",this).call(this);var T=void 0;this.nativeMediaSource_=new l.default.MediaSource;for(T in this.nativeMediaSource_)!(T in C.prototype)&&typeof this.nativeMediaSource_[T]=="function"&&(this[T]=this.nativeMediaSource_[T].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(y){if(this.duration_=y,y!==1/0){this.nativeMediaSource_.duration=y;return}}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?h.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(m.activeSourceBuffers_.length=0,m.sourceBuffers.length===1){var g=m.sourceBuffers[0];g.appendAudioInitSegment_=!0,g.audioDisabled_=!g.audioCodec_,m.activeSourceBuffers_.push(g);return}for(var y=!1,A=!0,E=0;E<m.player_.audioTracks().length;E++){var D=m.player_.audioTracks()[E];if(D.enabled&&D.kind!=="main"){y=!0,A=!1;break}}m.sourceBuffers.forEach(function(I){if(I.appendAudioInitSegment_=!0,I.videoCodec_&&I.audioCodec_)I.audioDisabled_=y;else if(I.videoCodec_&&!I.audioCodec_)I.audioDisabled_=!0,A=!1;else if(!I.videoCodec_&&I.audioCodec_&&(I.audioDisabled_=A,A))return;m.activeSourceBuffers_.push(I)})},this.onPlayerMediachange_=function(){m.sourceBuffers.forEach(function(g){g.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){m.sourceBuffers.forEach(function(g){g.transmuxer_&&g.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(g){m.sourceBuffers.forEach(function(y){return y.timeMapping_=g.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(g){this.nativeMediaSource_.addEventListener(g,this.trigger.bind(this))},this),this.on("sourceopen",function(g){var y=c.default.querySelector('[src="'+m.url_+'"]');!y||(m.player_=(0,h.default)(y.parentNode),m.player_.tech_.on("hls-reset",m.onHlsReset_),m.player_.tech_.on("hls-segment-time-mapping",m.onHlsSegmentTimeMapping_),m.player_.audioTracks&&m.player_.audioTracks()&&(m.player_.audioTracks().on("change",m.updateActiveSourceBuffers_),m.player_.audioTracks().on("addtrack",m.updateActiveSourceBuffers_),m.player_.audioTracks().on("removetrack",m.updateActiveSourceBuffers_)),m.player_.on("mediachange",m.onPlayerMediachange_))}),this.on("sourceended",function(g){for(var y=(0,v.durationOfVideo)(m.duration),A=0;A<m.sourceBuffers.length;A++){var E=m.sourceBuffers[A],D=E.metadataTrack_&&E.metadataTrack_.cues;D&&D.length&&(D[D.length-1].endTime=y)}}),this.on("sourceclose",function(g){this.sourceBuffers.forEach(function(y){y.transmuxer_&&y.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return t(C,[{key:"addSeekableRange_",value:function(T,g){var y=void 0;if(this.duration!==1/0)throw y=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),y.name="InvalidStateError",y.code=11,y;(g>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=g)}},{key:"addSourceBuffer",value:function(T){var g=void 0,y=(0,_.parseContentType)(T);if(/^(video|audio)\/mp2t$/i.test(y.type)){var A=[];y.parameters&&y.parameters.codecs&&(A=y.parameters.codecs.split(","),A=(0,_.translateLegacyCodecs)(A),A=A.filter(function(E){return(0,_.isAudioCodec)(E)||(0,_.isVideoCodec)(E)})),A.length===0&&(A=["avc1.4d400d","mp4a.40.2"]),g=new f.default(this,A),this.sourceBuffers.length!==0&&(this.sourceBuffers[0].createRealSourceBuffers_(),g.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else g=this.nativeMediaSource_.addSourceBuffer(T);return this.sourceBuffers.push(g),g}}]),C}(h.default.EventTarget);s.default=b,e.exports=s.default})(Wa,Wa.exports);Object.defineProperty(Gs,"__esModule",{value:!0});function Xs(e){return e&&e.__esModule?e:{default:e}}var Gp=ve,Ci=Xs(Gp),qp=$a.exports,ac=Xs(qp),Yp=Wa.exports,rc=Xs(Yp),Kp=ue,Dt=Xs(Kp),to=0,Xp={mode:"auto"};Dt.default.mediaSources={};var nc=function(s,t){var i=Dt.default.mediaSources[s];if(i)i.trigger({type:"sourceopen",swfId:t});else throw new Error("Media Source not found (Video.js)")},Qa=function(){return!!Ci.default.MediaSource&&!!Ci.default.MediaSource.isTypeSupported&&Ci.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Zs=function(s){var t=Dt.default.mergeOptions(Xp,s);if(this.MediaSource={open:nc,supportsNativeMediaSources:Qa},t.mode==="html5"||t.mode==="auto"&&Qa())return new rc.default;if(Dt.default.getTech("Flash"))return new ac.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};Gs.MediaSource=Zs;Zs.open=nc;Zs.supportsNativeMediaSources=Qa;var oc={createObjectURL:function(s){var t="blob:vjs-media-source/",i=void 0;return s instanceof rc.default?(i=Ci.default.URL.createObjectURL(s.nativeMediaSource_),s.url_=i,i):s instanceof ac.default?(i=t+to,to++,Dt.default.mediaSources[i]=s,i):(i=Ci.default.URL.createObjectURL(s),s.url_=i,i)}};Gs.URL=oc;Dt.default.MediaSource=Zs;Dt.default.URL=oc;var Ji={},on={},er={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function u(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,d,h){return d&&u(c.prototype,d),h&&u(c,h),c}}();function i(u){return u&&u.__esModule?u:{default:u}}function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var r=ue,n=i(r),o=function(){},l=function(){function u(c,d){var h=this;a(this,u);var p=function(){h.sourceBuffer_=c.addSourceBuffer(d),h.onUpdateendCallback_=function(){var v=h.pendingCallback_;h.pendingCallback_=null,v&&v(),h.runCallback_()},h.sourceBuffer_.addEventListener("updateend",h.onUpdateendCallback_),h.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=c,this.processedAppend_=!1,c.readyState==="closed"?c.addEventListener("sourceopen",p):p()}return t(u,[{key:"abort",value:function(d){var h=this;this.processedAppend_&&this.queueCallback_(function(){h.sourceBuffer_.abort()},d)}},{key:"appendBuffer",value:function(d,h){var p=this;this.processedAppend_=!0,this.queueCallback_(function(){p.sourceBuffer_.appendBuffer(d)},h)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:n.default.createTimeRanges()}},{key:"remove",value:function(d,h){var p=this;this.processedAppend_&&this.queueCallback_(function(){p.sourceBuffer_.remove(d,h)},o)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(d){var h=this;return typeof d!="undefined"&&(this.queueCallback_(function(){h.sourceBuffer_.timestampOffset=d}),this.timestampOffset_=d),this.timestampOffset_}},{key:"queueCallback_",value:function(d,h){this.callbacks_.push([d.bind(this),h]),this.runCallback_()}},{key:"runCallback_",value:function(){var d=void 0;!this.updating()&&this.callbacks_.length&&(d=this.callbacks_.shift(),this.pendingCallback_=d[1],d[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&this.mediaSource.readyState==="open"&&this.sourceBuffer_.abort()}}]),u}();s.default=l,e.exports=s.default})(er,er.exports);var ti={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},e.exports=s.default})(ti,ti.exports);var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});function Zp(e){return e&&e.__esModule?e:{default:e}}var Qp=ue,ds=Zp(Qp),ef=Ot.exports,At={FAILURE:2,TIMEOUT:-101,ABORTED:-102};Qs.REQUEST_ERRORS=At;var tf=function(s){var t=void 0,i=void 0;return i=s.offset+s.length-1,t=s.offset,"bytes="+t+"-"+i},io=function(s){var t={};return s.byterange&&(t.Range=tf(s.byterange)),t},lc=function(s){s.forEach(function(t){t.abort()})},sf=function(s){return{bandwidth:s.bandwidth,bytesReceived:s.bytesReceived||0,roundTripTime:s.roundTripTime||0}},af=function(s){var t=s.target,i=Date.now()-t.requestTime,a={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return a.bytesReceived=s.loaded,a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3),a},ln=function(s,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:At.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:At.ABORTED,xhr:t}:s?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:At.FAILURE,xhr:t}:null},rf=function(s,t){return function(i,a){var r=a.response,n=ln(i,a);if(n)return t(n,s);if(r.byteLength!==16)return t({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:At.FAILURE,xhr:a},s);var o=new DataView(r);return s.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),t(null,s)}},nf=function(s,t){return function(i,a){var r=a.response,n=ln(i,a);return n?t(n,s):r.byteLength===0?t({status:a.status,message:"Empty HLS segment content at URL: "+a.uri,code:At.FAILURE,xhr:a},s):(s.map.bytes=new Uint8Array(a.response),t(null,s))}},of=function(s,t){return function(i,a){var r=a.response,n=ln(i,a);return n?t(n,s):r.byteLength===0?t({status:a.status,message:"Empty HLS segment content at URL: "+a.uri,code:At.FAILURE,xhr:a},s):(s.stats=sf(a),s.key?s.encryptedBytes=new Uint8Array(a.response):s.bytes=new Uint8Array(a.response),t(null,s))}},lf=function(s,t,i){var a=function r(n){if(n.data.source===t.requestId){s.removeEventListener("message",r);var o=n.data.decrypted;return t.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),i(null,t)}};s.addEventListener("message",a),s.postMessage((0,ef.createTransferableMessage)({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])},uf=function(s){return s.reduce(function(t,i){return i.code>t.code?i:t})},cf=function(s,t,i){var a=[],r=0;return function(n,o){if(n&&(lc(s),a.push(n)),r+=1,r===s.length){if(o.endOfAllRequests=Date.now(),a.length>0){var l=uf(a);return i(l,o)}return o.encryptedBytes?lf(t,o,i):i(null,o)}}},df=function(s,t){return function(i){return s.stats=ds.default.mergeOptions(s.stats,af(i)),!s.stats.firstBytesReceivedAt&&s.stats.bytesReceived&&(s.stats.firstBytesReceivedAt=Date.now()),t(i,s)}},hf=function(s,t,i,a,r,n){var o=[],l=cf(o,i,n);if(a.key){var u=ds.default.mergeOptions(t,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),c=rf(a,l),d=s(u,c);o.push(d)}if(a.map&&!a.map.bytes){var h=ds.default.mergeOptions(t,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:io(a.map)}),p=nf(a,l),f=s(h,p);o.push(f)}var v=ds.default.mergeOptions(t,{uri:a.resolvedUri,responseType:"arraybuffer",headers:io(a)}),_=of(a,l),b=s(v,_);return b.addEventListener("progress",df(a,r)),o.push(b),function(){return lc(o)}};Qs.mediaSegmentRequest=hf;var Mi={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function C(m,T){var g=[],y=!0,A=!1,E=void 0;try{for(var D=m[Symbol.iterator](),I;!(y=(I=D.next()).done)&&(g.push(I.value),!(T&&g.length===T));y=!0);}catch(x){A=!0,E=x}finally{try{!y&&D.return&&D.return()}finally{if(A)throw E}}return g}return function(m,T){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return C(m,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(C){return C&&C.__esModule?C:{default:C}}var a=ue,r=i(a),n=1/30,o=n*3,l=function(m,T){var g=t(T,2),y=g[0],A=g[1];return Math.min(Math.max(y,m),A)},u=function(m,T){var g=[],y=void 0;if(m&&m.length)for(y=0;y<m.length;y++)T(m.start(y),m.end(y))&&g.push([m.start(y),m.end(y)]);return r.default.createTimeRanges(g)},c=function(m,T){return u(m,function(g,y){return g-n<=T&&y+n>=T})},d=function(m,T){return u(m,function(g){return g-n>=T})},h=function(m){if(m.length<2)return r.default.createTimeRanges();for(var T=[],g=1;g<m.length;g++){var y=m.end(g-1),A=m.start(g);T.push([y,A])}return r.default.createTimeRanges(T)},p=function(m,T){var g=void 0,y=void 0,A=void 0,E=[],D=[],I=function(O){return O[0]<=A&&O[1]>=A};if(m)for(g=0;g<m.length;g++)y=m.start(g),A=m.end(g),D.push([y,A]);if(T)for(g=0;g<T.length;g++)y=T.start(g),A=T.end(g),!D.some(I)&&E.push(A);return E.length!==1?null:E[0]},f=function(m,T){var g=null,y=null,A=0,E=[],D=[];if(!m||!m.length||!T||!T.length)return r.default.createTimeRange();for(var I=m.length;I--;)E.push({time:m.start(I),type:"start"}),E.push({time:m.end(I),type:"end"});for(I=T.length;I--;)E.push({time:T.start(I),type:"start"}),E.push({time:T.end(I),type:"end"});for(E.sort(function(x,O){return x.time-O.time}),I=0;I<E.length;I++)E[I].type==="start"?(A++,A===2&&(g=E[I].time)):E[I].type==="end"&&(A--,A===1&&(y=E[I].time)),g!==null&&y!==null&&(D.push([g,y]),g=null,y=null);return r.default.createTimeRanges(D)},v=function(m,T,g,y){for(var A=T.end(0)-T.start(0),E=m.end(0)-m.start(0),D=A-E,I=f(m,y),x=f(T,y),O=0,P=0,w=I.length;w--;)O+=I.end(w)-I.start(w),I.start(w)===g&&(O+=D);for(w=x.length;w--;)P+=x.end(w)-x.start(w);return Math.max(O,P)/A*100},_=function(m,T,g,y){var A=m+T,E=r.default.createTimeRanges([[m,A]]),D=r.default.createTimeRanges([[l(m,[g,A]),A]]);if(D.start(0)===D.end(0))return 0;var I=v(D,E,g,y);return isNaN(I)||I===1/0||I===-1/0?0:I},b=function(m){var T=[];if(!m||!m.length)return"";for(var g=0;g<m.length;g++)T.push(m.start(g)+" => "+m.end(g));return T.join(", ")},S=function(m,T){var g=arguments.length<=2||arguments[2]===void 0?1:arguments[2],y=m.length?m.end(m.length-1):0;return(y-T)/g};s.default={findRange:c,findNextRange:d,findGaps:h,findSoleUncommonTimeRangesEnd:p,getSegmentBufferedPercent:_,TIME_FUDGE_FACTOR:n,SAFE_TIME_DELTA:o,printableRange:b,timeUntilRebuffer:S},e.exports=s.default})(Mi,Mi.exports);var Ze={},ea={};Object.defineProperty(ea,"__esModule",{value:!0});var pf=function(){var s=arguments.length<=0||arguments[0]===void 0?"":arguments[0],t={codecCount:0},i=void 0;return t.codecCount=s.split(",").length,t.codecCount=t.codecCount||2,i=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(s),i&&(t.videoCodec=i[2],t.videoObjectTypeIndicator=i[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(s),t.audioProfile=t.audioProfile&&t.audioProfile[2],t};ea.parseCodecs=pf;Object.defineProperty(Ze,"__esModule",{value:!0});function uc(e){return e&&e.__esModule?e:{default:e}}var ff=ti.exports,mf=uc(ff),vf=Nt,it=uc(vf),gf=ea,Rs=function(s,t){var i=void 0;return!s||(i=window.getComputedStyle(s),!i)?"":i[t]},Ni=function(s,t){var i=s.slice();s.sort(function(a,r){var n=t(a,r);return n===0?i.indexOf(a)-i.indexOf(r):n})},un=function(s,t){var i=void 0,a=void 0;return s.attributes.BANDWIDTH&&(i=s.attributes.BANDWIDTH),i=i||window.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(a=t.attributes.BANDWIDTH),a=a||window.Number.MAX_VALUE,i-a};Ze.comparePlaylistBandwidth=un;var _f=function(s,t){var i=void 0,a=void 0;return s.attributes.RESOLUTION&&s.attributes.RESOLUTION.width&&(i=s.attributes.RESOLUTION.width),i=i||window.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(a=t.attributes.RESOLUTION.width),a=a||window.Number.MAX_VALUE,i===a&&s.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?s.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-a};Ze.comparePlaylistResolution=_f;var cn=function(s,t,i,a){var r=s.playlists.map(function(b){var S=void 0,C=void 0,m=void 0;return S=b.attributes.RESOLUTION&&b.attributes.RESOLUTION.width,C=b.attributes.RESOLUTION&&b.attributes.RESOLUTION.height,m=b.attributes.BANDWIDTH,m=m||window.Number.MAX_VALUE,{bandwidth:m,width:S,height:C,playlist:b}});Ni(r,function(b,S){return b.bandwidth-S.bandwidth}),r=r.filter(function(b){return!it.default.isIncompatible(b.playlist)});var n=r.filter(function(b){return it.default.isEnabled(b.playlist)});n.length||(n=r.filter(function(b){return!it.default.isDisabled(b.playlist)}));var o=n.filter(function(b){return b.bandwidth*mf.default.BANDWIDTH_VARIANCE<t}),l=o[o.length-1],u=o.filter(function(b){return b.bandwidth===l.bandwidth})[0],c=o.filter(function(b){return b.width&&b.height});Ni(c,function(b,S){return b.width-S.width});var d=c.filter(function(b){return b.width===i&&b.height===a});l=d[d.length-1];var h=d.filter(function(b){return b.bandwidth===l.bandwidth})[0],p=void 0,f=void 0,v=void 0;h||(p=c.filter(function(b){return b.width>i||b.height>a}),f=p.filter(function(b){return b.width===p[0].width&&b.height===p[0].height}),l=f[f.length-1],v=f.filter(function(b){return b.bandwidth===l.bandwidth})[0]);var _=v||h||u||n[0]||r[0];return _?_.playlist:null};Ze.simpleSelector=cn;var yf=function(){return cn(this.playlists.master,this.systemBandwidth,parseInt(Rs(this.tech_.el(),"width"),10),parseInt(Rs(this.tech_.el(),"height"),10))};Ze.lastBandwidthSelector=yf;var bf=function(s){var t=-1;if(s<0||s>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return t<0&&(t=this.systemBandwidth),t=s*this.systemBandwidth+(1-s)*t,cn(this.playlists.master,t,parseInt(Rs(this.tech_.el(),"width"),10),parseInt(Rs(this.tech_.el(),"height"),10))}};Ze.movingAverageBandwidthSelector=bf;var Cf=function(s){var t=s.master,i=s.currentTime,a=s.bandwidth,r=s.duration,n=s.segmentDuration,o=s.timeUntilRebuffer,l=s.currentTimeline,u=s.syncController,c=t.playlists.filter(function(v){return!it.default.isIncompatible(v)}),d=c.filter(it.default.isEnabled);d.length||(d=c.filter(function(v){return!it.default.isDisabled(v)}));var h=d.filter(it.default.hasAttribute.bind(null,"BANDWIDTH")),p=h.map(function(v){var _=u.getSyncPoint(v,r,l,i),b=_?1:2,S=it.default.estimateSegmentRequestTime(n,a,v),C=S*b-o;return{playlist:v,rebufferingImpact:C}}),f=p.filter(function(v){return v.rebufferingImpact<=0});return Ni(f,function(v,_){return un(_.playlist,v.playlist)}),f.length?f[0]:(Ni(p,function(v,_){return v.rebufferingImpact-_.rebufferingImpact}),p[0]||null)};Ze.minRebufferMaxBandwidthSelector=Cf;var Sf=function(){var s=this.playlists.master.playlists.filter(it.default.isEnabled);Ni(s,function(i,a){return un(i,a)});var t=s.filter(function(i){return(0,gf.parseCodecs)(i.attributes.CODECS).videoCodec});return t[0]||null};Ze.lowestBitrateCompatibleVariantSelector=Sf;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function x(O,P){for(var w=0;w<P.length;w++){var k=P[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}return function(O,P,w){return P&&x(O.prototype,P),w&&x(O,w),O}}(),t=function(O,P,w){var k=!0;e:for(;k;){var L=O,N=P,H=w;k=!1,L===null&&(L=Function.prototype);var W=Object.getOwnPropertyDescriptor(L,N);if(W===void 0){var V=Object.getPrototypeOf(L);if(V===null)return;O=V,P=N,w=H,k=!0,W=V=void 0;continue e}else{if("value"in W)return W.value;var J=W.get;return J===void 0?void 0:J.call(H)}}};function i(x){return x&&x.__esModule?x:{default:x}}function a(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}function r(x,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);x.prototype=Object.create(O&&O.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(x,O):x.__proto__=O)}var n=Nt,o=i(n),l=ue,u=i(l),c=er.exports,d=i(c),h=ti.exports,p=i(h),f=ve,v=i(f),_=Kt.exports,b=i(_),S=Ot.exports,C=Qs,m=Mi.exports,T=Ze,g=500,y=function(O,P,w){if(!O||!P)return!1;var k=O.segments,L=w===k.length;return O.endList&&P.readyState==="open"&&L},A=function(O){return typeof O=="number"&&isFinite(O)},E=function(O,P,w){return O!=="main"||!P||!w?null:!w.containsAudio&&!w.containsVideo?"Neither audio nor video found in segment.":P.containsVideo&&!w.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!P.containsVideo&&w.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null};e.illegalMediaSwitch=E;var D=function(O,P,w){var k=void 0;return O.length&&O.start(0)>0&&O.start(0)<P?k=O.start(0):k=P-30,Math.min(k,P-w)};e.safeBackBufferTrimTime=D;var I=function(x){r(O,x);function O(P){var w=this,k=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];if(a(this,O),t(Object.getPrototypeOf(O.prototype),"constructor",this).call(this),!P)throw new TypeError("Initialization settings are required");if(typeof P.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!P.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=P.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=P.hasPlayed,this.currentTime_=P.currentTime,this.seekable_=P.seekable,this.seeking_=P.seeking,this.duration_=P.duration,this.mediaSource_=P.mediaSource,this.hls_=P.hls,this.loaderType_=P.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=P.segmentMetadataTrack,this.goalBufferLength_=P.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=P.decrypter,this.syncController_=P.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return w.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return w.ended_=!1}),this.fetchAtBuffer_=!1,k.debug&&(this.logger_=u.default.log.bind(u.default,"segment-loader",this.loaderType_,"->"))}return s(O,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(w){return typeof w!="undefined"&&(this.error_=w),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():u.default.createTimeRanges()}},{key:"initSegment",value:function(w){var k=arguments.length<=1||arguments[1]===void 0?!1:arguments[1];if(!w)return null;var L=(0,S.initSegmentId)(w),N=this.initSegments_[L];return k&&!N&&w.bytes&&(this.initSegments_[L]=N={resolvedUri:w.resolvedUri,byterange:w.byterange,bytes:w.bytes}),N||w}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&this.state==="INIT")&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new d.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(w){var k=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];if(!!w){var L=this.playlist_,N=this.pendingSegment_;if(this.playlist_=w,this.xhrOptions_=k,this.hasPlayed_()||(w.syncInfo={mediaSequence:w.mediaSequence,time:0}),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!L||L.uri!==w.uri){this.mediaIndex!==null&&this.resyncLoader();return}var H=w.mediaSequence-L.mediaSequence;this.logger_("mediaSequenceDiff",H),this.mediaIndex!==null&&(this.mediaIndex-=H),N&&(N.mediaIndex-=H,N.mediaIndex>=0&&(N.segment=w.segments[N.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(L,w)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(v.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return this.checkBufferTimeout_===null}},{key:"mimeType",value:function(w){this.mimeType_||(this.mimeType_=w,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(w,k){this.sourceUpdater_&&this.sourceUpdater_.remove(w,k),(0,b.default)(w,k,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&v.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&v.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v.default.setTimeout(this.monitorBufferTick_.bind(this),g)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var w=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(!!w){var k=y(this.playlist_,this.mediaSource_,w.mediaIndex);if(k){this.endOfStream();return}w.mediaIndex===this.playlist_.segments.length-1&&this.mediaSource_.readyState==="ended"&&!this.seeking_()||((w.timeline!==this.currentTimeline_||w.startOfSegment!==null&&w.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),w.timestampOffset=w.startOfSegment),this.loadSegment_(w))}}}},{key:"checkBuffer_",value:function(w,k,L,N,H,W){var V=0,J=void 0;w.length&&(V=w.end(w.length-1));var De=Math.max(0,V-H);if(!k.segments.length||De>=this.goalBufferLength_()||!N&&De>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",L,"hasPlayed:",N,"currentTime:",H,"syncPoint:",W,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",De),W===null)return L=this.getSyncSegmentCandidate_(k),this.logger_("getSync","mediaIndex:",L),this.generateSegmentInfo_(k,L,null,!0);if(L!==null){this.logger_("walkForward","mediaIndex:",L+1);var je=k.segments[L];return je&&je.end?J=je.end:J=V,this.generateSegmentInfo_(k,L+1,J,!1)}if(this.fetchAtBuffer_){var ce=o.default.getMediaInfoForTime(k,V,W.segmentIndex,W.time);L=ce.mediaIndex,J=ce.startTime}else{var ce=o.default.getMediaInfoForTime(k,H,W.segmentIndex,W.time);L=ce.mediaIndex,J=ce.startTime}return this.logger_("getMediaIndexForTime","mediaIndex:",L,"startOfSegment:",J),this.generateSegmentInfo_(k,L,J,!1)}},{key:"getSyncSegmentCandidate_",value:function(w){var k=this;if(this.currentTimeline_===-1)return 0;var L=w.segments.map(function(N,H){return{timeline:N.timeline,segmentIndex:H}}).filter(function(N){return N.timeline===k.currentTimeline_});return L.length?L[Math.min(L.length-1,1)].segmentIndex:Math.max(w.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(w,k,L,N){if(k<0||k>=w.segments.length)return null;var H=w.segments[k];return{requestId:"segment-loader-"+Math.random(),uri:H.resolvedUri,mediaIndex:k,isSyncRequest:N,startOfSegment:L,playlist:w,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:H.timeline,duration:H.duration,segment:H}}},{key:"abortRequestEarly_",value:function(w){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(w.firstBytesReceivedAt||Date.now())<1e3)return!1;var k=this.currentTime_(),L=w.bandwidth,N=this.pendingSegment_.duration,H=o.default.estimateSegmentRequestTime(N,L,this.playlist_,w.bytesReceived),W=(0,m.timeUntilRebuffer)(this.buffered_(),k,this.hls_.tech_.playbackRate())-1;if(H<=W)return!1;var V=(0,T.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:k,bandwidth:L,duration:this.duration_(),segmentDuration:N,timeUntilRebuffer:W,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!V){var J=H-W,De=J-V.rebufferingImpact,je=.5;return W<=m.TIME_FUDGE_FACTOR&&(je=1),!V.playlist||V.playlist.uri===this.playlist_.uri||De<je?!1:(this.bandwidth=V.playlist.attributes.BANDWIDTH*p.default.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(w,k){!this.pendingSegment_||k.requestId!==this.pendingSegment_.requestId||this.abortRequestEarly_(k.stats)||this.trigger("progress")}},{key:"loadSegment_",value:function(w){this.state="WAITING",this.pendingSegment_=w,this.trimBackBuffer_(w),w.abortRequests=(0,C.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(w),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(w){var k=D(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);k>0&&this.remove(0,k)}},{key:"createSimplifiedSegmentObj_",value:function(w){var k=w.segment,L={resolvedUri:k.resolvedUri,byterange:k.byterange,requestId:w.requestId};if(k.key){var N=k.key.iv||new Uint32Array([0,0,0,w.mediaIndex+w.playlist.mediaSequence]);L.key={resolvedUri:k.key.resolvedUri,iv:N}}return k.map&&(L.map=this.initSegment(k.map)),L}},{key:"segmentRequestFinished_",value:function(w,k){if(this.mediaRequests+=1,k.stats&&(this.mediaBytesTransferred+=k.stats.bytesReceived,this.mediaTransferDuration+=k.stats.roundTripTime),!this.pendingSegment_){this.mediaRequestsAborted+=1;return}if(k.requestId===this.pendingSegment_.requestId){if(w){if(this.pendingSegment_=null,this.state="READY",w.code===C.REQUEST_ERRORS.ABORTED){this.mediaRequestsAborted+=1;return}if(this.pause(),w.code===C.REQUEST_ERRORS.TIMEOUT){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate");return}this.mediaRequestsErrored+=1,this.error(w),this.trigger("error");return}this.bandwidth=k.stats.bandwidth,this.roundTrip=k.stats.roundTripTime,k.map&&(k.map=this.initSegment(k.map,!0)),this.processSegmentResponse_(k)}}},{key:"processSegmentResponse_",value:function(w){var k=this.pendingSegment_;k.bytes=w.bytes,w.map&&(k.segment.map.bytes=w.map.bytes),k.endOfAllRequests=w.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var w=this;if(!this.pendingSegment_){this.state="READY";return}var k=this.pendingSegment_,L=k.segment,N=this.syncController_.probeSegmentInfo(k);typeof this.startingMedia_=="undefined"&&N&&(N.containsAudio||N.containsVideo)&&(this.startingMedia_={containsAudio:N.containsAudio,containsVideo:N.containsVideo});var H=E(this.loaderType_,this.startingMedia_,N);if(H){this.error({message:H,blacklistDuration:1/0}),this.trigger("error");return}if(k.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}k.timestampOffset!==null&&k.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(k.timestampOffset),this.trigger("timestampoffset"));var W=this.syncController_.mappingForTimeline(k.timeline);W!==null&&this.trigger({type:"segmenttimemapping",mapping:W}),this.state="APPENDING",L.map&&function(){var V=(0,S.initSegmentId)(L.map);if(!w.activeInitSegmentId_||w.activeInitSegmentId_!==V){var J=w.initSegment(L.map);w.sourceUpdater_.appendBuffer(J.bytes,function(){w.activeInitSegmentId_=V})}}(),k.byteLength=k.bytes.byteLength,typeof L.start=="number"&&typeof L.end=="number"?this.mediaSecondsLoaded+=L.end-L.start:this.mediaSecondsLoaded+=L.duration,this.sourceUpdater_.appendBuffer(k.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var w=this.pendingSegment_,k=w.segment,L=this.mediaIndex!==null;if(this.pendingSegment_=null,this.recordThroughput_(w),this.addSegmentMetadataCue_(w),this.state="READY",this.mediaIndex=w.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=w.timeline,this.trigger("syncinfoupdate"),k.end&&this.currentTime_()-k.end>w.playlist.targetDuration*3){this.resetEverything();return}L&&this.trigger("bandwidthupdate"),this.trigger("progress");var N=y(w.playlist,this.mediaSource_,w.mediaIndex+1);N&&this.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(w){var k=this.throughput.rate,L=Date.now()-w.endOfAllRequests+1,N=Math.floor(w.byteLength/L*8*1e3);this.throughput.rate+=(N-k)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(w){if(!!this.segmentMetadataTrack_){var k=w.segment,L=k.start,N=k.end;if(!(!A(L)||!A(N))){(0,b.default)(L,N,this.segmentMetadataTrack_);var H=v.default.WebKitDataCue||v.default.VTTCue,W={bandwidth:w.playlist.attributes.BANDWIDTH,resolution:w.playlist.attributes.RESOLUTION,codecs:w.playlist.attributes.CODECS,byteLength:w.byteLength,uri:w.uri,timeline:w.timeline,playlist:w.playlist.uri,start:L,end:N},V=JSON.stringify(W),J=new H(L,N,V);J.value=W,this.segmentMetadataTrack_.addCue(J)}}}}]),O}(u.default.EventTarget);e.default=I})(on);var tr={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function C(m,T){for(var g=0;g<T.length;g++){var y=T[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,T,g){return T&&C(m.prototype,T),g&&C(m,g),m}}(),i=function(m,T,g){var y=!0;e:for(;y;){var A=m,E=T,D=g;y=!1,A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,E);if(I===void 0){var x=Object.getPrototypeOf(A);if(x===null)return;m=x,T=E,g=D,y=!0,I=x=void 0;continue e}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(D)}}};function a(C){return C&&C.__esModule?C:{default:C}}function r(C,m){if(!(C instanceof m))throw new TypeError("Cannot call a class as a function")}function n(C,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);C.prototype=Object.create(m&&m.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(C,m):C.__proto__=m)}var o=on,l=a(o),u=ue,c=a(u),d=ve,h=a(d),p=Kt.exports,f=a(p),v=Ot.exports,_=new Uint8Array(`

`.split("").map(function(C){return C.charCodeAt(0)})),b=function(m){return String.fromCharCode.apply(null,m)},S=function(C){n(m,C);function m(T){var g=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];r(this,m),i(Object.getPrototypeOf(m.prototype),"constructor",this).call(this,T,g),this.mediaSource_=null,this.subtitlesTrack_=null}return t(m,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return c.default.createTimeRanges();var g=this.subtitlesTrack_.cues,y=g[0].startTime,A=g[g.length-1].startTime;return c.default.createTimeRanges([[y,A]])}},{key:"initSegment",value:function(g){var y=arguments.length<=1||arguments[1]===void 0?!1:arguments[1];if(!g)return null;var A=(0,v.initSegmentId)(g),E=this.initSegments_[A];if(y&&!E&&g.bytes){var D=_.byteLength+g.bytes.byteLength,I=new Uint8Array(D);I.set(g.bytes),I.set(_,g.bytes.byteLength),this.initSegments_[A]=E={resolvedUri:g.resolvedUri,byterange:g.byterange,bytes:I}}return E||g}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(g){return typeof g=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=g,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(g,y){(0,f.default)(g,y,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var g=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var y=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(y=this.skipEmptySegments_(y),!!y){if(this.syncController_.timestampOffsetForTimeline(y.timeline)===null){var A=function(){g.state="READY",g.paused()||g.monitorBuffer_()};this.syncController_.one("timestampoffset",A),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(y)}}},{key:"skipEmptySegments_",value:function(g){for(;g&&g.segment.empty;)g=this.generateSegmentInfo_(g.playlist,g.mediaIndex+1,g.startOfSegment+g.duration,g.isSyncRequest);return g}},{key:"handleSegment_",value:function(){var g=this;if(!this.pendingSegment_||!this.subtitlesTrack_){this.state="READY";return}this.state="APPENDING";var y=this.pendingSegment_,A=y.segment;if(typeof h.default.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var E=function(){var D=function(){g.handleSegment_()};return g.state="WAITING_ON_VTTJS",g.subtitlesTrack_.tech_.one("vttjsloaded",D),g.subtitlesTrack_.tech_.one("vttjserror",function(){g.subtitlesTrack_.tech_.off("vttjsloaded",D),g.error({message:"Error loading vtt.js"}),g.state="READY",g.pause(),g.trigger("error")}),{v:void 0}}();if(typeof E=="object")return E.v}A.requested=!0;try{this.parseVTTCues_(y)}catch(D){return this.error({message:D.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(y,this.syncController_.timelines[y.timeline],this.playlist_),y.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}y.byteLength=y.bytes.byteLength,this.mediaSecondsLoaded+=A.duration,y.cues.length&&this.remove(y.cues[0].endTime,y.cues[y.cues.length-1].endTime),y.cues.forEach(function(D){g.subtitlesTrack_.addCue(D)}),this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function(g){var y=void 0,A=!1;typeof h.default.TextDecoder=="function"?y=new h.default.TextDecoder("utf8"):(y=h.default.WebVTT.StringDecoder(),A=!0);var E=new h.default.WebVTT.Parser(h.default,h.default.vttjs,y);if(g.cues=[],g.timestampmap={MPEGTS:0,LOCAL:0},E.oncue=g.cues.push.bind(g.cues),E.ontimestampmap=function(x){return g.timestampmap=x},E.onparsingerror=function(x){c.default.log.warn("Error encountered when parsing cues: "+x.message)},g.segment.map){var D=g.segment.map.bytes;A&&(D=b(D)),E.parse(D)}var I=g.bytes;A&&(I=b(I)),E.parse(I),E.flush()}},{key:"updateTimeMapping_",value:function(g,y,A){var E=g.segment;if(!!y){if(!g.cues.length){E.empty=!0;return}var D=g.timestampmap,I=D.MPEGTS/9e4-D.LOCAL+y.mapping;if(g.cues.forEach(function(P){P.startTime+=I,P.endTime+=I}),!A.syncInfo){var x=g.cues[0].startTime,O=g.cues[g.cues.length-1].startTime;A.syncInfo={mediaSequence:A.mediaSequence+g.mediaIndex,time:Math.min(x,O-E.duration)}}}}}]),m}(l.default);s.default=S,e.exports=s.default})(tr,tr.exports);var ir={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function l(u,c){var d=[],h=!0,p=!1,f=void 0;try{for(var v=u[Symbol.iterator](),_;!(h=(_=v.next()).done)&&(d.push(_.value),!(c&&d.length===c));h=!0);}catch(b){p=!0,f=b}finally{try{!h&&v.return&&v.return()}finally{if(p)throw f}}return d}return function(u,c){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return l(u,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(l){return l&&l.__esModule?l:{default:l}}var a=ve,r=i(a),n=function(u,c){for(var d=u.cues,h=0;h<d.length;h++){var p=d[h];if(c>=p.adStartTime&&c<=p.adEndTime)return p}return null},o=function(u,c){var d=arguments.length<=2||arguments[2]===void 0?0:arguments[2];if(!!u.segments)for(var h=d,p=void 0,f=0;f<u.segments.length;f++){var v=u.segments[f];if(p||(p=n(c,h+v.duration/2)),p){if("cueIn"in v){p.endTime=h,p.adEndTime=h,h+=v.duration,p=null;continue}if(h<p.endTime){h+=v.duration;continue}p.endTime+=v.duration}else if("cueOut"in v&&(p=new r.default.VTTCue(h,h+v.duration,v.cueOut),p.adStartTime=h,p.adEndTime=h+parseFloat(v.cueOut),c.addCue(p)),"cueOutCont"in v){var _=void 0,b=void 0,S=v.cueOutCont.split("/").map(parseFloat),C=t(S,2);_=C[0],b=C[1],p=new r.default.VTTCue(h,h+v.duration,""),p.adStartTime=h-_,p.adEndTime=p.adStartTime+b,c.addCue(p)}h+=v.duration}};s.default={updateAdCues:o,findAdCue:n},e.exports=s.default})(ir,ir.exports);var cc={},mt,dn,dc,hc;mt=function(e,s){var t=[],i,a,r,n,o;if(!s.length)return null;for(i=0;i<e.byteLength;)a=e[i]<<24,a|=e[i+1]<<16,a|=e[i+2]<<8,a|=e[i+3],r=dn(e.subarray(i+4,i+8)),n=a>1?i+a:e.byteLength,r===s[0]&&(s.length===1?t.push(e.subarray(i+8,n)):(o=mt(e.subarray(i+8,n),s.slice(1)),o.length&&(t=t.concat(o)))),i=n;return t};dn=function(e){var s="";return s+=String.fromCharCode(e[0]),s+=String.fromCharCode(e[1]),s+=String.fromCharCode(e[2]),s+=String.fromCharCode(e[3]),s};dc=function(e){var s={},t=mt(e,["moov","trak"]);return t.reduce(function(i,a){var r,n,o,l,u;return r=mt(a,["tkhd"])[0],!r||(n=r[0],o=n===0?12:20,l=r[o]<<24|r[o+1]<<16|r[o+2]<<8|r[o+3],u=mt(a,["mdia","mdhd"])[0],!u)?null:(n=u[0],o=n===0?12:20,i[l]=u[o]<<24|u[o+1]<<16|u[o+2]<<8|u[o+3],i)},s)};hc=function(e,s){var t,i,a;return t=mt(s,["moof","traf"]),i=[].concat.apply([],t.map(function(r){return mt(r,["tfhd"]).map(function(n){var o,l,u;return o=n[4]<<24|n[5]<<16|n[6]<<8|n[7],l=e[o]||9e4,u=mt(r,["tfdt"]).map(function(c){var d,h;return d=c[0],h=c[4]<<24|c[5]<<16|c[6]<<8|c[7],d===1&&(h*=Math.pow(2,32),h+=c[8]<<24|c[9]<<16|c[10]<<8|c[11]),h})[0],u=u||1/0,u/l})})),a=Math.min.apply(null,i),isFinite(a)?a:0};var Tf={parseType:dn,timescale:dc,startTime:hc},Ta=Wi,pc=function(e){var s=e[1]&31;return s<<=8,s|=e[2],s},ta=function(e){return!!(e[1]&64)},ia=function(e){var s=0;return(e[3]&48)>>>4>1&&(s+=e[4]+1),s},wf=function(e,s){var t=pc(e);return t===0?"pat":t===s?"pmt":s?"pes":null},xf=function(e){var s=ta(e),t=4+ia(e);return s&&(t+=e[t]+1),(e[t+10]&31)<<8|e[t+11]},kf=function(e){var s={},t=ta(e),i=4+ia(e);if(t&&(i+=e[i]+1),!!(e[i+5]&1)){var a,r,n;a=(e[i+1]&15)<<8|e[i+2],r=3+a-4,n=(e[i+10]&15)<<8|e[i+11];for(var o=12+n;o<r;){var l=i+o;s[(e[l+1]&31)<<8|e[l+2]]=e[l],o+=((e[l+3]&15)<<8|e[l+4])+5}return s}},If=function(e,s){var t=pc(e),i=s[t];switch(i){case Ta.H264_STREAM_TYPE:return"video";case Ta.ADTS_STREAM_TYPE:return"audio";case Ta.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Pf=function(e){var s=ta(e);if(!s)return null;var t=4+ia(e);if(t>=e.byteLength)return null;var i=null,a;return a=e[t+7],a&192&&(i={},i.pts=(e[t+9]&14)<<27|(e[t+10]&255)<<20|(e[t+11]&254)<<12|(e[t+12]&255)<<5|(e[t+13]&254)>>>3,i.pts*=4,i.pts+=(e[t+13]&6)>>>1,i.dts=i.pts,a&64&&(i.dts=(e[t+14]&14)<<27|(e[t+15]&255)<<20|(e[t+16]&254)<<12|(e[t+17]&255)<<5|(e[t+18]&254)>>>3,i.dts*=4,i.dts+=(e[t+18]&6)>>>1)),i},wa=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ef=function(e){for(var s=4+ia(e),t=e.subarray(s),i=0,a=0,r=!1,n;a<t.byteLength-3;a++)if(t[a+2]===1){i=a+5;break}for(;i<t.byteLength;)switch(t[i]){case 0:if(t[i-1]!==0){i+=2;break}else if(t[i-2]!==0){i++;break}a+3!==i-2&&(n=wa(t[a+3]&31),n==="slice_layer_without_partitioning_rbsp_idr"&&(r=!0));do i++;while(t[i]!==1&&i<t.length);a=i-2,i+=3;break;case 1:if(t[i-1]!==0||t[i-2]!==0){i+=3;break}n=wa(t[a+3]&31),n==="slice_layer_without_partitioning_rbsp_idr"&&(r=!0),a=i-2,i+=3;break;default:i+=3;break}return t=t.subarray(a),i-=a,a=0,t&&t.byteLength>3&&(n=wa(t[a+3]&31),n==="slice_layer_without_partitioning_rbsp_idr"&&(r=!0)),r},Af={parseType:wf,parsePat:xf,parsePmt:kf,parsePayloadUnitStartIndicator:ta,parsePesType:If,parsePesTime:Pf,videoPacketContainsKeyFrame:Ef},Of=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],so=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Df=function(e,s,t){var i,a="";for(i=s;i<t;i++)a+="%"+("00"+e[i].toString(16)).slice(-2);return a},Lf=function(e,s,t){return unescape(Df(e,s,t))},Mf=function(e,s){var t=e[s+6]<<21|e[s+7]<<14|e[s+8]<<7|e[s+9],i=e[s+5],a=(i&16)>>4;return a?t+20:t+10},Nf=function(e,s){var t=(e[s+5]&224)>>5,i=e[s+4]<<3,a=e[s+3]&3<<11;return a|i|t},Rf=function(e,s){return e[s]==="I".charCodeAt(0)&&e[s+1]==="D".charCodeAt(0)&&e[s+2]==="3".charCodeAt(0)?"timed-metadata":e[s]&!0&&(e[s+1]&240)===240?"audio":null},Ff=function(e){for(var s=0;s+5<e.length;){if(e[s]!==255||(e[s+1]&246)!==240){s++;continue}return Of[(e[s+2]&60)>>>2]}return null},Uf=function(e){var s,t,i,a;s=10,e[5]&64&&(s+=4,s+=so(e.subarray(10,14)));do{if(t=so(e.subarray(s+4,s+8)),t<1)return null;if(a=String.fromCharCode(e[s],e[s+1],e[s+2],e[s+3]),a==="PRIV"){i=e.subarray(s+10,s+t+10);for(var r=0;r<i.byteLength;r++)if(i[r]===0){var n=Lf(i,0,r);if(n==="com.apple.streaming.transportStreamTimestamp"){var o=i.subarray(r+1),l=(o[3]&1)<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return l*=4,l+=o[7]&3,l}break}}s+=10,s+=t}while(s<e.byteLength);return null},zf={parseId3TagSize:Mf,parseAdtsSize:Nf,parseType:Rf,parseSampleRate:Ff,parseAacTimestamp:Uf},ao=Wi,Ut=uu.handleRollover,te={};te.ts=Af;te.aac=zf;var St=9e4,_e=188,He=71,Bf=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},$f=function(e,s){for(var t=0,i=_e,a,r;i<e.byteLength;){if(e[t]===He&&e[i]===He){switch(a=e.subarray(t,i),r=te.ts.parseType(a,s.pid),r){case"pat":s.pid||(s.pid=te.ts.parsePat(a));break;case"pmt":s.table||(s.table=te.ts.parsePmt(a));break}if(s.pid&&s.table)return;t+=_e,i+=_e;continue}t++,i++}},jf=function(e,s,t){for(var i=0,a=_e,r,n,o,l,u,c=!1;a<e.byteLength;){if(e[i]===He&&e[a]===He){switch(r=e.subarray(i,a),n=te.ts.parseType(r,s.pid),n){case"pes":o=te.ts.parsePesType(r,s.table),l=te.ts.parsePayloadUnitStartIndicator(r),o==="audio"&&l&&(u=te.ts.parsePesTime(r),u&&(u.type="audio",t.audio.push(u),c=!0));break}if(c)break;i+=_e,a+=_e;continue}i++,a++}for(a=e.byteLength,i=a-_e,c=!1;i>=0;){if(e[i]===He&&e[a]===He){switch(r=e.subarray(i,a),n=te.ts.parseType(r,s.pid),n){case"pes":o=te.ts.parsePesType(r,s.table),l=te.ts.parsePayloadUnitStartIndicator(r),o==="audio"&&l&&(u=te.ts.parsePesTime(r),u&&(u.type="audio",t.audio.push(u),c=!0));break}if(c)break;i-=_e,a-=_e;continue}i--,a--}},Hf=function(e,s,t){for(var i=0,a=_e,r,n,o,l,u,c,d,h,p=!1,f={data:[],size:0};a<e.byteLength;){if(e[i]===He&&e[a]===He){switch(r=e.subarray(i,a),n=te.ts.parseType(r,s.pid),n){case"pes":if(o=te.ts.parsePesType(r,s.table),l=te.ts.parsePayloadUnitStartIndicator(r),o==="video"&&(l&&!p&&(u=te.ts.parsePesTime(r),u&&(u.type="video",t.video.push(u),p=!0)),!t.firstKeyFrame)){if(l&&f.size!==0){for(c=new Uint8Array(f.size),d=0;f.data.length;)h=f.data.shift(),c.set(h,d),d+=h.byteLength;te.ts.videoPacketContainsKeyFrame(c)&&(t.firstKeyFrame=te.ts.parsePesTime(c),t.firstKeyFrame.type="video"),f.size=0}f.data.push(r),f.size+=r.byteLength}break}if(p&&t.firstKeyFrame)break;i+=_e,a+=_e;continue}i++,a++}for(a=e.byteLength,i=a-_e,p=!1;i>=0;){if(e[i]===He&&e[a]===He){switch(r=e.subarray(i,a),n=te.ts.parseType(r,s.pid),n){case"pes":o=te.ts.parsePesType(r,s.table),l=te.ts.parsePayloadUnitStartIndicator(r),o==="video"&&l&&(u=te.ts.parsePesTime(r),u&&(u.type="video",t.video.push(u),p=!0));break}if(p)break;i-=_e,a-=_e;continue}i--,a--}},Vf=function(e,s){if(e.audio&&e.audio.length){var t=s;typeof t=="undefined"&&(t=e.audio[0].dts),e.audio.forEach(function(r){r.dts=Ut(r.dts,t),r.pts=Ut(r.pts,t),r.dtsTime=r.dts/St,r.ptsTime=r.pts/St})}if(e.video&&e.video.length){var i=s;if(typeof i=="undefined"&&(i=e.video[0].dts),e.video.forEach(function(r){r.dts=Ut(r.dts,i),r.pts=Ut(r.pts,i),r.dtsTime=r.dts/St,r.ptsTime=r.pts/St}),e.firstKeyFrame){var a=e.firstKeyFrame;a.dts=Ut(a.dts,i),a.pts=Ut(a.pts,i),a.dtsTime=a.dts/St,a.ptsTime=a.dts/St}}},Wf=function(e){for(var s=!1,t=0,i=null,a=null,r=0,n=0,o;e.length-n>=3;){var l=te.aac.parseType(e,n);switch(l){case"timed-metadata":if(e.length-n<10){s=!0;break}if(r=te.aac.parseId3TagSize(e,n),r>e.length){s=!0;break}a===null&&(o=e.subarray(n,n+r),a=te.aac.parseAacTimestamp(o)),n+=r;break;case"audio":if(e.length-n<7){s=!0;break}if(r=te.aac.parseAdtsSize(e,n),r>e.length){s=!0;break}i===null&&(o=e.subarray(n,n+r),i=te.aac.parseSampleRate(o)),t++,n+=r;break;default:n++;break}if(s)return null}if(i===null||a===null)return null;var u=St/i,c={audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+t*1024*u,pts:a+t*1024*u}]};return c},Jf=function(e){var s={pid:null,table:null},t={};$f(e,s);for(var i in s.table)if(s.table.hasOwnProperty(i)){var a=s.table[i];switch(a){case ao.H264_STREAM_TYPE:t.video=[],Hf(e,s,t),t.video.length===0&&delete t.video;break;case ao.ADTS_STREAM_TYPE:t.audio=[],jf(e,s,t),t.audio.length===0&&delete t.audio;break}}return t},Gf=function(e,s){var t=Bf(e),i;return t?i=Wf(e):i=Jf(e),!i||!i.audio&&!i.video?null:(Vf(i,s),i)},qf={inspect:Gf};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function f(v,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,_,b){return _&&f(v.prototype,_),b&&f(v,b),v}}(),t=function(v,_,b){var S=!0;e:for(;S;){var C=v,m=_,T=b;S=!1,C===null&&(C=Function.prototype);var g=Object.getOwnPropertyDescriptor(C,m);if(g===void 0){var y=Object.getPrototypeOf(C);if(y===null)return;v=y,_=m,b=T,S=!0,g=y=void 0;continue e}else{if("value"in g)return g.value;var A=g.get;return A===void 0?void 0:A.call(T)}}};function i(f){return f&&f.__esModule?f:{default:f}}function a(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function r(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var n=Tf,o=i(n),l=qf,u=Nt,c=ue,d=i(c),h=[{name:"VOD",run:function(v,_,b,S,C){if(b!==1/0){var m={time:0,segmentIndex:0};return m}return null}},{name:"ProgramDateTime",run:function(v,_,b,S,C){if(v.datetimeToDisplayTime&&_.dateTimeObject){var m=_.dateTimeObject.getTime()/1e3,T=m+v.datetimeToDisplayTime,g={time:T,segmentIndex:0};return g}return null}},{name:"Segment",run:function(v,_,b,S,C){var m=_.segments||[],T=null,g=null;C=C||0;for(var y=0;y<m.length;y++){var A=m[y];if(A.timeline===S&&typeof A.start!="undefined"){var E=Math.abs(C-A.start);if(g!==null&&g<E)break;(!T||g===null||g>=E)&&(g=E,T={time:A.start,segmentIndex:y})}}return T}},{name:"Discontinuity",run:function(v,_,b,S,C){var m=null;if(C=C||0,_.discontinuityStarts&&_.discontinuityStarts.length)for(var T=null,g=0;g<_.discontinuityStarts.length;g++){var y=_.discontinuityStarts[g],A=_.discontinuitySequence+g+1,E=v.discontinuities[A];if(E){var D=Math.abs(C-E.time);if(T!==null&&T<D)break;(!m||T===null||T>=D)&&(T=D,m={time:E.time,segmentIndex:y})}}return m}},{name:"Playlist",run:function(v,_,b,S,C){if(_.syncInfo){var m={time:_.syncInfo.time,segmentIndex:_.syncInfo.mediaSequence-_.mediaSequence};return m}return null}}];e.syncPointStrategies=h;var p=function(f){r(v,f);function v(){var _=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];a(this,v),t(Object.getPrototypeOf(v.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,_.debug&&(this.logger_=d.default.log.bind(d.default,"sync-controller ->"))}return s(v,[{key:"getSyncPoint",value:function(b,S,C,m){var T=this.runStrategies_(b,S,C,m);return T.length?this.selectSyncPoint_(T,{key:"time",value:m}):null}},{key:"getExpiredTime",value:function(b,S){if(!b||!b.segments)return null;var C=this.runStrategies_(b,S,b.discontinuitySequence,0);if(!C.length)return null;var m=this.selectSyncPoint_(C,{key:"segmentIndex",value:0});return m.segmentIndex>0&&(m.time*=-1),Math.abs(m.time+(0,u.sumDurations)(b,m.segmentIndex,0))}},{key:"runStrategies_",value:function(b,S,C,m){for(var T=[],g=0;g<h.length;g++){var y=h[g],A=y.run(this,b,S,C,m);A&&(A.strategy=y.name,T.push({strategy:y.name,syncPoint:A}),this.logger_("syncPoint found via <"+y.name+">:",A))}return T}},{key:"selectSyncPoint_",value:function(b,S){for(var C=b[0].syncPoint,m=Math.abs(b[0].syncPoint[S.key]-S.value),T=b[0].strategy,g=1;g<b.length;g++){var y=Math.abs(b[g].syncPoint[S.key]-S.value);y<m&&(m=y,C=b[g].syncPoint,T=b[g].strategy)}return this.logger_("syncPoint with strategy <"+T+"> chosen: ",C),C}},{key:"saveExpiredSegmentInfo",value:function(b,S){for(var C=S.mediaSequence-b.mediaSequence,m=C-1;m>=0;m--){var T=b.segments[m];if(T&&typeof T.start!="undefined"){S.syncInfo={mediaSequence:b.mediaSequence+m,time:T.start},this.logger_("playlist sync:",S.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(b){if(!this.datetimeToDisplayTime&&b.dateTimeObject){var S=b.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-S}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(b){var S=b.segment,C=b.playlist,m=void 0;return S.map?m=this.probeMp4Segment_(b):m=this.probeTsSegment_(b),m&&this.calculateSegmentTimeMapping_(b,m)&&(this.saveDiscontinuitySyncInfo_(b),C.syncInfo||(C.syncInfo={mediaSequence:C.mediaSequence+b.mediaIndex,time:S.start})),m}},{key:"probeMp4Segment_",value:function(b){var S=b.segment,C=o.default.timescale(S.map.bytes),m=o.default.startTime(C,b.bytes);return b.timestampOffset!==null&&(b.timestampOffset-=m),{start:m,end:m+S.duration}}},{key:"probeTsSegment_",value:function(b){var S=(0,l.inspect)(b.bytes,this.inspectCache_),C=void 0,m=void 0;return S?(S.video&&S.video.length===2?(this.inspectCache_=S.video[1].dts,C=S.video[0].dtsTime,m=S.video[1].dtsTime):S.audio&&S.audio.length===2&&(this.inspectCache_=S.audio[1].dts,C=S.audio[0].dtsTime,m=S.audio[1].dtsTime),{start:C,end:m,containsVideo:S.video&&S.video.length===2,containsAudio:S.audio&&S.audio.length===2}):null}},{key:"timestampOffsetForTimeline",value:function(b){return typeof this.timelines[b]=="undefined"?null:this.timelines[b].time}},{key:"mappingForTimeline",value:function(b){return typeof this.timelines[b]=="undefined"?null:this.timelines[b].mapping}},{key:"calculateSegmentTimeMapping_",value:function(b,S){var C=b.segment,m=this.timelines[b.timeline];if(b.timestampOffset!==null)this.logger_("tsO:",b.timestampOffset),m={time:b.startOfSegment,mapping:b.startOfSegment-S.start},this.timelines[b.timeline]=m,this.trigger("timestampoffset"),C.start=b.startOfSegment,C.end=S.end+m.mapping;else if(m)C.start=S.start+m.mapping,C.end=S.end+m.mapping;else return!1;return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(b){var S=b.playlist,C=b.segment;if(C.discontinuity)this.discontinuities[C.timeline]={time:C.start,accuracy:0};else if(S.discontinuityStarts.length)for(var m=0;m<S.discontinuityStarts.length;m++){var T=S.discontinuityStarts[m],g=S.discontinuitySequence+m+1,y=T-b.mediaIndex,A=Math.abs(y);if(!this.discontinuities[g]||this.discontinuities[g].accuracy>A){var E=void 0;y<0?E=C.start-(0,u.sumDurations)(S,b.mediaIndex,T):E=C.end+(0,u.sumDurations)(S,b.mediaIndex+1,T),this.discontinuities[g]={time:E,accuracy:A}}}}},{key:"logger_",value:function(){}}]),v}(d.default.EventTarget);e.default=p})(cc);var sr={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});function t(l){return l&&l.__esModule?l:{default:l}}var i=ve,a=t(i),r=ys.exports,n=Ot.exports,o=function(u){u.onmessage=function(c){var d=c.data,h=new Uint8Array(d.encrypted.bytes,d.encrypted.byteOffset,d.encrypted.byteLength),p=new Uint32Array(d.key.bytes,d.key.byteOffset,d.key.byteLength/4),f=new Uint32Array(d.iv.bytes,d.iv.byteOffset,d.iv.byteLength/4);new r.Decrypter(h,p,f,function(v,_){a.default.postMessage((0,n.createTransferableMessage)({source:d.source,decrypted:_}),[_.buffer])})}};s.default=function(l){return new o(l)},e.exports=s.default})(sr,sr.exports);var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});function fc(e){return e&&e.__esModule?e:{default:e}}var Yf=ue,Ht=fc(Yf),Kf=Us,ro=fc(Kf),ss=function(){},Xf=function(s){var t=s.default?"main":"alternative";return s.characteristics&&s.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Ri=function(s,t){s.abort(),s.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)};Oe.stopLoaders=Ri;var Fs=function(s,t){t.activePlaylistLoader=s,s.load()};Oe.startLoaders=Fs;var mc=function(s,t){return function(){var i=t.segmentLoaders,a=i[s],r=i.main,n=t.mediaTypes[s],o=n.activeTrack(),l=n.activeGroup(o),u=n.activePlaylistLoader;if(Ri(a,n),!!l){if(!l.playlistLoader){u&&r.resetEverything();return}a.resyncLoader(),Fs(l.playlistLoader,n)}}};Oe.onGroupChanged=mc;var vc=function(s,t){return function(){var i=t.segmentLoaders,a=i[s],r=i.main,n=t.mediaTypes[s],o=n.activeTrack(),l=n.activeGroup(o),u=n.activePlaylistLoader;if(Ri(a,n),!!l){if(!l.playlistLoader){r.resetEverything();return}if(u===l.playlistLoader){Fs(l.playlistLoader,n);return}a.track&&a.track(o),a.resetEverything(),Fs(l.playlistLoader,n)}}};Oe.onTrackChanged=vc;var Fi={AUDIO:function(s,t){return function(){var i=t.segmentLoaders[s],a=t.mediaTypes[s],r=t.blacklistCurrentPlaylist;Ri(i,a);var n=a.activeTrack(),o=a.activeGroup(),l=(o.filter(function(d){return d.default})[0]||o[0]).id,u=a.tracks[l];if(n===u){r({message:"Problem encountered loading the default audio track."});return}Ht.default.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in a.tracks)a.tracks[c].enabled=a.tracks[c]===u;a.onTrackChanged()}},SUBTITLES:function(s,t){return function(){var i=t.segmentLoaders[s],a=t.mediaTypes[s];Ht.default.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Ri(i,a);var r=a.activeTrack();r&&(r.mode="disabled"),a.onTrackChanged()}}};Oe.onError=Fi;var ar={AUDIO:function(s,t,i){if(!!t){var a=i.tech,r=i.requestOptions,n=i.segmentLoaders[s];t.on("loadedmetadata",function(){var o=t.media();n.playlist(o,r),(!a.paused()||o.endList&&a.preload()!=="none")&&n.load()}),t.on("loadedplaylist",function(){n.playlist(t.media(),r),a.paused()||n.load()}),t.on("error",Fi[s](s,i))}},SUBTITLES:function(s,t,i){var a=i.tech,r=i.requestOptions,n=i.segmentLoaders[s],o=i.mediaTypes[s];t.on("loadedmetadata",function(){var l=t.media();n.playlist(l,r),n.track(o.activeTrack()),(!a.paused()||l.endList&&a.preload()!=="none")&&n.load()}),t.on("loadedplaylist",function(){n.playlist(t.media(),r),a.paused()||n.load()}),t.on("error",Fi[s](s,i))}};Oe.setupListeners=ar;var gc={AUDIO:function(s,t){var i=t.mode,a=t.hls,r=t.segmentLoaders[s],n=t.requestOptions,o=t.master.mediaGroups,l=t.mediaTypes[s],u=l.groups,c=l.tracks;(!o[s]||Object.keys(o[s]).length===0||i!=="html5")&&(o[s]={main:{default:{default:!0}}});for(var d in o[s]){u[d]||(u[d]=[]);for(var h in o[s][d]){var p=o[s][d][h],f=void 0;if(p.resolvedUri?f=new ro.default(p.resolvedUri,a,n):f=null,p=Ht.default.mergeOptions({id:h,playlistLoader:f},p),ar[s](s,p.playlistLoader,t),u[d].push(p),typeof c[h]=="undefined"){var v=new Ht.default.AudioTrack({id:h,kind:Xf(p),enabled:!1,language:p.language,default:p.default,label:h});c[h]=v}}}r.on("error",Fi[s](s,t))},SUBTITLES:function(s,t){var i=t.tech,a=t.hls,r=t.segmentLoaders[s],n=t.requestOptions,o=t.master.mediaGroups,l=t.mediaTypes[s],u=l.groups,c=l.tracks;for(var d in o[s]){u[d]||(u[d]=[]);for(var h in o[s][d])if(!o[s][d][h].forced){var p=o[s][d][h];if(p=Ht.default.mergeOptions({id:h,playlistLoader:new ro.default(p.resolvedUri,a,n)},p),ar[s](s,p.playlistLoader,t),u[d].push(p),typeof c[h]=="undefined"){var f=i.addRemoteTextTrack({id:h,kind:"subtitles",enabled:!1,language:p.language,label:h},!1).track;c[h]=f}}}r.on("error",Fi[s](s,t))},"CLOSED-CAPTIONS":function(s,t){var i=t.tech,a=t.master.mediaGroups,r=t.mediaTypes[s],n=r.groups,o=r.tracks;for(var l in a[s]){n[l]||(n[l]=[]);for(var u in a[s][l]){var c=a[s][l][u];if(!!c.instreamId.match(/CC\d/)&&(n[l].push(Ht.default.mergeOptions({id:u},c)),typeof o[u]=="undefined")){var d=i.addRemoteTextTrack({id:c.instreamId,kind:"captions",enabled:!1,language:c.language,label:u},!1).track;o[u]=d}}}}};Oe.initialize=gc;var _c=function(s,t){return function(i){var a=t.masterPlaylistLoader,r=t.mediaTypes[s].groups,n=a.media();if(!n)return null;var o=null;return n.attributes[s]&&(o=r[n.attributes[s]]),o=o||r.main,typeof i=="undefined"?o:i===null?null:o.filter(function(l){return l.id===i.id})[0]||null}};Oe.activeGroup=_c;var yc={AUDIO:function(s,t){return function(){var i=t.mediaTypes[s].tracks;for(var a in i)if(i[a].enabled)return i[a];return null}},SUBTITLES:function(s,t){return function(){var i=t.mediaTypes[s].tracks;for(var a in i)if(i[a].mode==="showing")return i[a];return null}}};Oe.activeTrack=yc;var Zf=function(s){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(c){gc[c](c,s)});var t=s.mediaTypes,i=s.masterPlaylistLoader,a=s.tech,r=s.hls;["AUDIO","SUBTITLES"].forEach(function(c){t[c].activeGroup=_c(c,s),t[c].activeTrack=yc[c](c,s),t[c].onGroupChanged=mc(c,s),t[c].onTrackChanged=vc(c,s)});var n=t.AUDIO.activeGroup(),o=(n.filter(function(c){return c.default})[0]||n[0]).id;t.AUDIO.tracks[o].enabled=!0,t.AUDIO.onTrackChanged(),i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(c){return t[c].onGroupChanged()})});var l=function(){t.AUDIO.onTrackChanged(),a.trigger({type:"usage",name:"hls-audio-change"})};a.audioTracks().addEventListener("change",l),a.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",function(){a.audioTracks().removeEventListener("change",l),a.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),a.clearTracks("audio");for(var u in t.AUDIO.tracks)a.audioTracks().addTrack(t.AUDIO.tracks[u])};Oe.setupMediaGroups=Zf;var Qf=function(){var s={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){s[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ss,activeTrack:ss,onGroupChanged:ss,onTrackChanged:ss}}),s};Oe.createMediaTypes=Qf;Object.defineProperty(Ji,"__esModule",{value:!0});var em=function(){function e(s,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,t,i){return t&&e(s.prototype,t),i&&e(s,i),s}}(),tm=function(s,t,i){var a=!0;e:for(;a;){var r=s,n=t,o=i;a=!1,r===null&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(l===void 0){var u=Object.getPrototypeOf(r);if(u===null)return;s=u,t=n,i=o,a=!0,l=u=void 0;continue e}else{if("value"in l)return l.value;var c=l.get;return c===void 0?void 0:c.call(o)}}};function Qe(e){return e&&e.__esModule?e:{default:e}}function im(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function sm(e,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}var am=Us,rm=Qe(am),xa=Nt,nm=on,no=Qe(nm),om=tr.exports,lm=Qe(om),um=Mi.exports,as=Qe(um),cm=ue,we=Qe(cm),dm=ir.exports,hm=Qe(dm),pm=cc,fm=Qe(pm),mm=Xt.exports,vm=Zr,gm=Qe(vm),_m=sr.exports,ym=Qe(_m),bm=ti.exports,bt=Qe(bm),rr=ea,oo=Oe,Cm=60*2,pt=void 0,bc={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Sm=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Tm=function(s){return this.audioSegmentLoader_[s]+this.mainSegmentLoader_[s]},wm=function(){var s=void 0;try{s=require.resolve("./decrypter-worker")}catch{}return s},Cc=function(s){return s.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return(0,mm.translateLegacyCodecs)([t])[0]})};Ji.mapLegacyAvcCodecs_=Cc;var ka=function(s,t,i){return s+"/"+t+'; codecs="'+i.filter(function(a){return!!a}).join(", ")+'"'},xm=function(s){return s.segments&&s.segments.length&&s.segments[0].map?"mp4":"mp2t"},km=function(s){var t=s.attributes||{};return t.CODECS?(0,rr.parseCodecs)(t.CODECS):bc},Sc=function(s,t){var i=xm(t),a=km(t),r=t.attributes||{},n=!0,o=!1;if(!t)return[];if(s.mediaGroups.AUDIO&&r.AUDIO){var l=s.mediaGroups.AUDIO[r.AUDIO];if(l){o=!0,n=!1;for(var u in l)if(!l[u].uri){n=!0;break}}}o&&!a.audioProfile&&(we.default.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),a.audioProfile=bc.audioProfile);var c={};a.videoCodec&&(c.video=""+a.videoCodec+a.videoObjectTypeIndicator),a.audioProfile&&(c.audio="mp4a.40."+a.audioProfile);var d=ka("audio",i,[c.audio]),h=ka("video",i,[c.video]),p=ka("video",i,[c.video,c.audio]);return o?!n&&c.video?[h,d]:[p,d]:c.video?[p]:[d]};Ji.mimeTypesForPlaylist_=Sc;var Im=function(e){sm(s,e);function s(t){var i=this;im(this,s),tm(Object.getPrototypeOf(s.prototype),"constructor",this).call(this);var a=t.url,r=t.handleManifestRedirects,n=t.withCredentials,o=t.mode,l=t.tech,u=t.bandwidth,c=t.externHls,d=t.useCueTags,h=t.blacklistDuration,p=t.enableLowInitialPlaylist;if(!a)throw new Error("A non-empty playlist URL is required");pt=c,this.tech_=l,this.hls_=l.hls,this.mode_=o,this.useCueTags_=d,this.blacklistDuration=h,this.enableLowInitialPlaylist=p,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,handleManifestRedirects:r,timeout:null},this.mediaTypes_=(0,oo.createMediaTypes)(),this.mediaSource=new we.default.MediaSource({mode:o}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=we.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new fm.default(t),this.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,gm.default)(ym.default,wm());var f={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.mediaSource.duration},hasPlayed:function(){return i.hasPlayed_()},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:u,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new rm.default(a,this.hls_,this.requestOptions_),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new no.default(we.default.mergeOptions(f,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),t),this.audioSegmentLoader_=new no.default(we.default.mergeOptions(f,{loaderType:"audio"}),t),this.subtitleSegmentLoader_=new lm.default(we.default.mergeOptions(f,{loaderType:"vtt"}),t),this.setupSegmentLoaderListeners_(),Sm.forEach(function(v){i[v+"_"]=Tm.bind(i,v)}),this.masterPlaylistLoader_.load()}return em(s,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=i.masterPlaylistLoader_.media(),r=i.masterPlaylistLoader_.targetDuration*1.5*1e3;(0,xa.isLowestEnabledRendition)(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=r,a.endList&&i.tech_.preload()!=="none"&&(i.mainSegmentLoader_.playlist(a,i.requestOptions_),i.mainSegmentLoader_.load()),(0,oo.setupMediaGroups)({segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,mode:i.mode_,hls:i.hls_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),a);try{i.setupSourceBuffers_()}catch(n){return we.default.log.warn("Failed to create SourceBuffers",n),i.mediaSource.endOfStream("decode")}i.setupFirstPlay(),i.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var a=i.masterPlaylistLoader_.media();if(!a){var r=void 0;i.enableLowInitialPlaylist&&(r=i.selectInitialPlaylist()),r||(r=i.selectPlaylist()),i.initialMedia_=r,i.masterPlaylistLoader_.media(i.initialMedia_);return}i.useCueTags_&&i.updateAdCues_(a),i.mainSegmentLoader_.playlist(a,i.requestOptions_),i.updateDuration(),i.tech_.paused()||i.mainSegmentLoader_.load(),a.endList||function(){var n=function(){var l=i.seekable();l.length!==0&&i.mediaSource.addSeekableRange_(l.start(0),l.end(0))};i.duration()!==1/0?function(){var o=function l(){i.duration()===1/0?n():i.tech_.one("durationchange",l)};i.tech_.one("durationchange",o)}():n()}()}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=i.masterPlaylistLoader_.media(),r=i.masterPlaylistLoader_.targetDuration*1.5*1e3;(0,xa.isLowestEnabledRendition)(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=r,i.mainSegmentLoader_.playlist(a,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=i.masterPlaylistLoader_.media(),r=i.stuckAtPlaylistEnd_(a);r&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),i.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(i,a){var r=i.mediaGroups||{},n=!0,o=Object.keys(r.AUDIO);for(var l in r.AUDIO)for(var u in r.AUDIO[l]){var c=r.AUDIO[l][u];c.uri||(n=!1)}n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),pt.Playlist.isAes(a)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),pt.Playlist.isFmp4(a)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),o.length&&Object.keys(r.AUDIO[o[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var i=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var a=i.selectPlaylist(),r=i.masterPlaylistLoader_.media(),n=i.tech_.buffered(),o=n.length?n.end(n.length-1)-i.tech_.currentTime():0,l=i.bufferLowWaterLine();(!r.endList||i.duration()<bt.default.MAX_BUFFER_LOW_WATER_LINE||a.attributes.BANDWIDTH<r.attributes.BANDWIDTH||o>=l)&&i.masterPlaylistLoader_.media(a),i.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){i.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){i.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){i.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){i.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},Cm)}),this.mainSegmentLoader_.on("reseteverything",function(){i.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(a){i.tech_.trigger({type:"hls-segment-time-mapping",mapping:a.mapping})}),this.audioSegmentLoader_.on("ended",function(){i.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var i=this.selectPlaylist();i!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(i),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var i=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<i.start(0))return this.tech_.setCurrentTime(i.end(i.length-1))}}},{key:"setupFirstPlay",value:function(){var i=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_())return!1;if(!a.endList){var r=function(){var n=i.seekable();if(!n.length)return{v:!1};if(we.default.browser.IE_VERSION&&i.mode_==="html5"&&i.tech_.readyState()===0)return i.tech_.one("loadedmetadata",function(){i.trigger("firstplay"),i.tech_.setCurrentTime(n.end(0)),i.hasPlayed_=function(){return!0}}),{v:!1};i.trigger("firstplay"),i.tech_.setCurrentTime(n.end(0))}();if(typeof r=="object")return r.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(a){return we.default.log.warn("Failed to create Source Buffers",a),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var i=this.tech_.play();typeof i!="undefined"&&typeof i.then=="function"&&i.then(null,function(a){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var i=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=i&&this.audioSegmentLoader_.ended_),i&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(i){var a=this.seekable();if(!a.length)return!1;var r=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(r===null)return!1;var n=pt.Playlist.playlistEnd(i,r),o=this.tech_.currentTime(),l=this.tech_.buffered();if(!l.length)return n-o<=as.default.SAFE_TIME_DELTA;var u=l.end(l.length-1);return u-o<=as.default.SAFE_TIME_DELTA&&n-u<=as.default.SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(i,a){i===void 0&&(i={});var r=void 0,n=void 0;if(r=i.playlist||this.masterPlaylistLoader_.media(),a=a||i.blacklistDuration||this.blacklistDuration,!r){this.error=i;try{return this.mediaSource.endOfStream("network")}catch{return this.trigger("error")}}var o=this.masterPlaylistLoader_.master.playlists.filter(xa.isEnabled).length===1;return o?(we.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o)):(r.excludeUntil=Date.now()+a*1e3,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),n=this.selectPlaylist(),we.default.log.warn("Problem encountered with the current HLS playlist."+(i.message?" "+i.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(n))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(i){var a=as.default.findRange(this.tech_.buffered(),i);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length&&this.mode_!=="flash")return i;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:pt.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var i=void 0,a=void 0;if(!!this.masterPlaylistLoader_){var r=this.masterPlaylistLoader_.media();if(!!r){var n=this.syncController_.getExpiredTime(r,this.mediaSource.duration);n!==null&&(i=pt.Playlist.seekable(r,n),i.length!==0&&(this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(r,this.mediaSource.duration),n===null||(a=pt.Playlist.seekable(r,n),a.length===0))||(a?a.start(0)>i.end(0)||i.start(0)>a.end(0)?this.seekable_=i:this.seekable_=we.default.createTimeRanges([[a.start(0)>i.start(0)?a.start(0):i.start(0),a.end(0)<i.end(0)?a.end(0):i.end(0)]]):this.seekable_=i,this.tech_.trigger("seekablechanged"))))}}}},{key:"updateDuration",value:function(){var i=this,a=this.mediaSource.duration,r=pt.Playlist.duration(this.masterPlaylistLoader_.media()),n=this.tech_.buffered(),o=function l(){i.mediaSource.duration=r,i.tech_.trigger("durationchange"),i.mediaSource.removeEventListener("sourceopen",l)};n.length>0&&(r=Math.max(r,n.end(n.length-1))),a!==r&&(this.mediaSource.readyState!=="open"?this.mediaSource.addEventListener("sourceopen",o):o())}},{key:"dispose",value:function(){var i=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(a){var r=i.mediaTypes_[a].groups;for(var n in r)r[n].forEach(function(o){o.playlistLoader&&o.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var i=this.masterPlaylistLoader_.media(),a=void 0;if(!(!i||this.mediaSource.readyState!=="open")){if(a=Sc(this.masterPlaylistLoader_.master,i),a.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+i.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(a[0]),a[1]&&this.audioSegmentLoader_.mimeType(a[1]),this.excludeIncompatibleVariants_(i)}}},{key:"excludeIncompatibleVariants_",value:function(i){var a=this.masterPlaylistLoader_.master,r=2,n=null,o=void 0;i.attributes.CODECS&&(o=(0,rr.parseCodecs)(i.attributes.CODECS),n=o.videoCodec,r=o.codecCount),a.playlists.forEach(function(l){var u={codecCount:2,videoCodec:null};if(l.attributes.CODECS){var c=l.attributes.CODECS;u=(0,rr.parseCodecs)(c),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+Cc(c)+'"')&&(l.excludeUntil=1/0)}u.codecCount!==r&&(l.excludeUntil=1/0),u.videoCodec!==n&&(l.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(i){var a=0,r=this.seekable();r.length&&(a=r.start(0)),hm.default.updateAdCues(i,this.cueTagsTrack_,a)}},{key:"goalBufferLength",value:function(){var i=this.tech_.currentTime(),a=bt.default.GOAL_BUFFER_LENGTH,r=bt.default.GOAL_BUFFER_LENGTH_RATE,n=Math.max(a,bt.default.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+i*r,n)}},{key:"bufferLowWaterLine",value:function(){var i=this.tech_.currentTime(),a=bt.default.BUFFER_LOW_WATER_LINE,r=bt.default.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(a,bt.default.MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+i*r,n)}}]),s}(we.default.EventTarget);Ji.MasterPlaylistController=Im;var nr={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});function t(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var i=Nt,a=function(l,u,c){return function(d){var h=l.master.playlists[u],p=(0,i.isIncompatible)(h),f=(0,i.isEnabled)(h);return typeof d=="undefined"?f:(d?delete h.disabled:h.disabled=!0,d!==f&&!p&&(c(),d?l.trigger("renditionenabled"):l.trigger("renditiondisabled")),d)}},r=function o(l,u,c){t(this,o);var d=l.masterPlaylistController_.fastQualityChange_.bind(l.masterPlaylistController_);if(u.attributes.RESOLUTION){var h=u.attributes.RESOLUTION;this.width=h.width,this.height=h.height}this.bandwidth=u.attributes.BANDWIDTH,this.id=c,this.enabled=a(l.playlists,u.uri,d)},n=function(l){var u=l.playlists;l.representations=function(){return u.master.playlists.filter(function(c){return!(0,i.isIncompatible)(c)}).map(function(c,d){return new r(l,c,c.uri)})}};s.default=n,e.exports=s.default})(nr,nr.exports);var or={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function p(f,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,v,_){return v&&p(f.prototype,v),_&&p(f,_),f}}();function i(p){return p&&p.__esModule?p:{default:p}}function a(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}var r=ve,n=i(r),o=Mi.exports,l=i(o),u=ue,c=i(u),d=["seeking","seeked","pause","playing","error"],h=function(){function p(f){var v=this;a(this,p),this.tech_=f.tech,this.seekable=f.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,f.debug&&(this.logger_=c.default.log.bind(c.default,"playback-watcher ->")),this.logger_("initialize");var _=function(){return v.monitorCurrentTime_()},b=function(){return v.techWaiting_()},S=function(){return v.cancelTimer_()},C=function(){return v.fixesBadSeeks_()};this.tech_.on("seekablechanged",C),this.tech_.on("waiting",b),this.tech_.on(d,S),this.tech_.on("canplay",_),this.dispose=function(){v.logger_("dispose"),v.tech_.off("seekablechanged",C),v.tech_.off("waiting",b),v.tech_.off(d,S),v.tech_.off("canplay",_),v.checkCurrentTimeTimeout_&&n.default.clearTimeout(v.checkCurrentTimeTimeout_),v.cancelTimer_()}}return t(p,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&n.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=n.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_()){this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime();return}if(!(this.tech_.paused()||this.tech_.seeking())){var v=this.tech_.currentTime(),_=this.tech_.buffered();if(this.lastRecordedTime===v&&(!_.length||v+l.default.SAFE_TIME_DELTA>=_.end(_.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&v===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):v===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=v)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var v=this.tech_.seeking(),_=this.seekable(),b=this.tech_.currentTime(),S=void 0;if(v&&this.afterSeekableWindow_(_,b)){var C=_.end(_.length-1);S=C}if(v&&this.beforeSeekableWindow_(_,b)){var m=_.start(0);S=m+l.default.SAFE_TIME_DELTA}return typeof S!="undefined"?(this.logger_("Trying to seek outside of seekable at time "+b+" with "+("seekable range "+l.default.printableRange(_)+". Seeking to ")+(S+".")),this.tech_.setCurrentTime(S),!0):!1}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var v=this.tech_.currentTime(),_=this.tech_.buffered(),b=l.default.findRange(_,v);if(b.length&&v+3<=b.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(v),this.logger_("Stopped at "+v+" while inside a buffered region "+("["+b.start(0)+" -> "+b.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}}},{key:"techWaiting_",value:function(){var v=this.seekable(),_=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_()||this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(v,_)){var b=v.end(v.length-1);return this.logger_("Fell out of live window at time "+_+". Seeking to "+("live point (seekable end) "+b)),this.cancelTimer_(),this.tech_.setCurrentTime(b),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var S=this.tech_.buffered(),C=l.default.findNextRange(S,_);if(this.videoUnderflow_(C,S,_))return this.cancelTimer_(),this.tech_.setCurrentTime(_),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(C.length>0){var m=C.start(0)-_;return this.logger_("Stopped at "+_+", setting timer for "+m+", seeking "+("to "+C.start(0))),this.timer_=setTimeout(this.skipTheGap_.bind(this),m*1e3,_),!0}return!1}},{key:"afterSeekableWindow_",value:function(v,_){return v.length?_>v.end(v.length-1)+l.default.SAFE_TIME_DELTA:!1}},{key:"beforeSeekableWindow_",value:function(v,_){return!!(v.length&&v.start(0)>0&&_<v.start(0)-l.default.SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(v,_,b){if(v.length===0){var S=this.gapFromVideoUnderflow_(_,b);if(S)return this.logger_("Encountered a gap in video from "+S.start+" to "+S.end+". "+("Seeking to current time "+b)),!0}return!1}},{key:"skipTheGap_",value:function(v){var _=this.tech_.buffered(),b=this.tech_.currentTime(),S=l.default.findNextRange(_,b);this.cancelTimer_(),!(S.length===0||b!==v)&&(this.logger_("skipTheGap_:","currentTime:",b,"scheduled currentTime:",v,"nextRange start:",S.start(0)),this.tech_.setCurrentTime(S.start(0)+l.default.TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(v,_){for(var b=l.default.findGaps(v),S=0;S<b.length;S++){var C=b.start(S),m=b.end(S);if(_-C<4&&_-C>2)return{start:C,end:m}}return null}},{key:"logger_",value:function(){}}]),p}();s.default=h,e.exports=s.default})(or,or.exports);var lr={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0});function t(l){return l&&l.__esModule?l:{default:l}}var i=ue,a=t(i),r={errorInterval:30,getSource:function(u){var c=this.tech({IWillNotUseThisInPlugins:!0}),d=c.currentSource_;return u(d)}},n=function l(u,c){var d=0,h=0,p=a.default.mergeOptions(r,c);u.ready(function(){u.trigger({type:"usage",name:"hls-error-reload-initialized"})});var f=function(){h&&u.currentTime(h)},v=function(m){m!=null&&(h=u.duration()!==1/0&&u.currentTime()||0,u.one("loadedmetadata",f),u.src(m),u.trigger({type:"usage",name:"hls-error-reload"}),u.play())},_=function(){if(Date.now()-d<p.errorInterval*1e3){u.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!p.getSource||typeof p.getSource!="function"){a.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return d=Date.now(),p.getSource.call(u,v)},b=function C(){u.off("loadedmetadata",f),u.off("error",_),u.off("dispose",C)},S=function(m){b(),l(u,m)};u.on("error",_),u.on("dispose",b),u.reloadSourceOnError=S},o=function(u){n(this,u)};s.default=o,e.exports=s.default})(lr,lr.exports);var Pm=function(){function e(s,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,t,i){return t&&e(s.prototype,t),i&&e(s,i),s}}(),lo=function(s,t,i){var a=!0;e:for(;a;){var r=s,n=t,o=i;a=!1,r===null&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,n);if(l===void 0){var u=Object.getPrototypeOf(r);if(u===null)return;s=u,t=n,i=o,a=!0,l=u=void 0;continue e}else{if("value"in l)return l.value;var c=l.get;return c===void 0?void 0:c.call(o)}}};function Ue(e){return e&&e.__esModule?e:{default:e}}function Em(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function Am(e,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}var Om=cr,Bt=Ue(Om),Dm=Us,Lm=Ue(Dm),Mm=Nt,Nm=Ue(Mm),Rm=Ua.exports,Tc=Ue(Rm),Ia=ys.exports,Fm=Ot.exports,Um=Ue(Fm),ur=Gs,zm=au,Bm=Ue(zm),$m=ue,K=Ue($m),jm=Ji,Hm=ti.exports,uo=Ue(Hm),Vm=nr.exports,Wm=Ue(Vm),Jm=ve,Gm=Ue(Jm),qm=or.exports,Ym=Ue(qm),Km=lr.exports,co=Ue(Km),rs=Ze,Ve={PlaylistLoader:Lm.default,Playlist:Nm.default,Decrypter:Ia.Decrypter,AsyncStream:Ia.AsyncStream,decrypt:Ia.decrypt,utils:Um.default,STANDARD_PLAYLIST_SELECTOR:rs.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:rs.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:rs.comparePlaylistBandwidth,comparePlaylistResolution:rs.comparePlaylistResolution,xhr:(0,Tc.default)()},ho=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(Ve,e,{get:function(){return K.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),uo.default[e]},set:function(t){if(K.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),typeof t!="number"||t<0){K.default.log.warn("value of Hls."+e+" must be greater than or equal to 0");return}uo.default[e]=t}})});var wc=function(s,t){for(var i=t.media(),a=-1,r=0;r<s.length;r++)if(s[r].id===i.uri){a=r;break}s.selectedIndex_=a,s.trigger({selectedIndex:a,type:"change"})},Xm=function(s,t){t.representations().forEach(function(i){s.addQualityLevel(i)}),wc(s,t.playlists)};Ve.canPlaySource=function(){return K.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};Ve.supportsNativeHls=function(){var e=Bt.default.createElement("video");if(!K.default.getTech("Html5").isSupported())return!1;var s=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return s.some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}();Ve.isSupported=function(){return K.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Zm=K.default.getComponent("Component"),xc=function(e){Am(s,e);function s(t,i,a){var r=this;if(Em(this,s),lo(Object.getPrototypeOf(s.prototype),"constructor",this).call(this,i,a.hls),i.options_&&i.options_.playerId){var n=(0,K.default)(i.options_.playerId);n.hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return K.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),i.trigger({type:"usage",name:"hls-player-access"}),r}})}if(this.tech_=i,this.source_=t,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(Bt.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(o){var l=Bt.default.fullscreenElement||Bt.default.webkitFullscreenElement||Bt.default.mozFullScreenElement||Bt.default.msFullscreenElement;l&&l.contains(r.tech_.el())&&r.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return Pm(s,[{key:"setOptions_",value:function(){var i=this;this.options_.withCredentials=this.options_.withCredentials||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=ho),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ho,["withCredentials","bandwidth","handleManifestRedirects"].forEach(function(a){typeof i.source_[a]!="undefined"&&(i.options_[a]=i.source_[a])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(i){var a=this;!i||(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Ve,this.masterPlaylistController_=new jm.MasterPlaylistController(this.options_),this.playbackWatcher_=new Ym.default(K.default.mergeOptions(this.options_,{seekable:function(){return a.seekable()}})),this.masterPlaylistController_.on("error",function(){var r=K.default.players[a.tech_.options_.playerId];r.error(a.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Ve.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Ve.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(n){this.masterPlaylistController_.selectPlaylist=n.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(n){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=n,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(n){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=n,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var n=1/(this.bandwidth||1),o=void 0;this.throughput>0?o=1/this.throughput:o=0;var l=Math.floor(1/(n+o));return l},set:function(){K.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,Wm.default)(a)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return a.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(K.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var i=this,a=K.default.players[this.tech_.options_.playerId];a&&a.qualityLevels&&(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){Xm(i.qualityLevels_,i)}),this.playlists.on("mediachange",function(){wc(i.qualityLevels_,i.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(i){this.masterPlaylistController_.setCurrentTime(i)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),lo(Object.getPrototypeOf(s.prototype),"dispose",this).call(this)}}]),s}(Zm),sa=function e(s){return{canHandleSource:function(i){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],r=K.default.mergeOptions(K.default.options,a);return r.hls&&r.hls.mode&&r.hls.mode!==s?!1:e.canPlayType(i.type,r)},handleSource:function(i,a){var r=arguments.length<=2||arguments[2]===void 0?{}:arguments[2],n=K.default.mergeOptions(K.default.options,r,{hls:{mode:s}});return s==="flash"&&a.setTimeout(function(){a.trigger("loadstart")},1),a.hls=new xc(i,a,n),a.hls.xhr=(0,Tc.default)(),a.hls.src(i.src),a.hls},canPlayType:function(i){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],r=K.default.mergeOptions(K.default.options,a);return e.canPlayType(i,r)?"maybe":""}}};sa.canPlayType=function(e,s){if(K.default.browser.IE_VERSION&&K.default.browser.IE_VERSION<=10)return!1;var t=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!s.hls.overrideNative&&Ve.supportsNativeHls?!1:t.test(e)};(typeof K.default.MediaSource=="undefined"||typeof K.default.URL=="undefined")&&(K.default.MediaSource=ur.MediaSource,K.default.URL=ur.URL);var po=K.default.getTech("Flash");ur.MediaSource.supportsNativeMediaSources()&&K.default.getTech("Html5").registerSourceHandler(sa("html5"),0);Gm.default.Uint8Array&&po&&po.registerSourceHandler(sa("flash"));K.default.HlsHandler=xc;K.default.HlsSourceHandler=sa;K.default.Hls=Ve;K.default.use||K.default.registerComponent("Hls",Ve);K.default.m3u8=Bm.default;K.default.options.hls=K.default.options.hls||{};K.default.registerPlugin?K.default.registerPlugin("reloadSourceOnError",co.default):K.default.plugin("reloadSourceOnError",co.default);var Qm=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name",attrs:{title:i.name}},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u94BB\u6746\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"pipeStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u55B7\u6D46\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"nozzleStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalSlurry"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalSlurry!=null?"(L)":""))])])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalAsh"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalAsh!=null?"(kg)":""))])])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{ref:"barparent",staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",{staticClass:"info"},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),e.pile.length==1?t("div",{staticClass:"value"},[e._v(" "+e._s(e.pile[0].pileDescribe||"")+" ")]):e._e(),e.pile.length==0?t("div",{staticClass:"value"},[e._v("--")]):e._e(),e.pile.length>1?t("el-select",{staticClass:"btnpile",model:{value:e.defaultpile,callback:function(i){e.defaultpile=i},expression:"defaultpile"}},e._l(e.pile,function(i){return t("el-option",{key:i.index,attrs:{label:i.pileDescribe,value:i.pileId}})}),1):e._e()],1),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status"},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])]),t("li",{class:e.pipeStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.pileStatusStr))])]),t("li",{class:e.nozzleStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("sta2filters")(e.real.nozzleStatus)))])])])])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6C34\u7070\u6BD4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.waterCementRatio)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u5BC6\u5EA6")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.density,3)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6")]),t("div",{staticClass:"value"},[e._v(e._s(e.designDownSpeed)+" cm/min")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6")]),t("div",{staticClass:"value"},[e._v(e._s(e.designUpSpeed)+" cm/min")])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u6D41\u91CF\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("numfilters")(e.real.xAngle,1)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("numfilters")(e.real.yAngle,1)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6301\u7EED\u65F6\u957F(min)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e.real.lasttime))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.totalSlurry,1)))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.totalAsh,1)))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6BB5\u6D46\u91CF(L)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.partSlurry,1)))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6BB5\u7070\u91CF(kg)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.partAsh,1)))])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v("\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),e.real.current!=-9999?t("p",[e._v(" \u7535\u6D41"),t("em",[e._v(e._s(e._f("numfilters")(e.real.current))+"(A)")])]):e._e(),e.real.flow!=-9999?t("p",[e._v(" \u6D41\u91CF"),t("em",[e._v(e._s(e._f("numfilters")(e.real.flow))+"(L/min)")])]):e._e(),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},ev=[];const tv={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b4.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,designDepth:30,designUpSpeed:"-",designDownSpeed:"-",image:"stop",pipeStatusClass:"",nozzleStatusClass:"",recordStatusClass:"",depth:0,pileStatusStr:"\u505C\u94BB",timer:null,deviceKey:"",pileId:"",fields:"",pile:[{pileDescribe:"--",pileId:""}],defaultpile:"",real:{current:0,deep:0,density:0,deviceKey:"-",expandStatus:"0",flow:0,latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partAsh:0,partSlurry:0,pileDescribe:"-",pileId:0,pipeStatus:"0",pressure:0,processType:"00000000",realTime:0,recordStatus:"3",speed:0,startTime:0,totalAsh:0,totalSlurry:0,version:"-",waterCementRatio:0,xAngle:0,yAngle:0,lasttime:0},flow:[],deep:[],selectItem:[],ztTop:100,y:0,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}],ispileIds:!0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("HH:mm:ss")},numfilters(e,s){return s==null&&(s=2),isNaN(e)?e:parseFloat(e).toFixed(s)},startTimefilters(e){return e?e.startTime==null?"-":e.startTime:"-"},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},sta2filters(e){switch(e){case"1":return"\u55B7\u6D46";case"0":return"\u6B62\u55B7";default:return e}},pilefilter(e){return e==null?"--":e}},watch:{centerDialogVisible1(e,s){this.tab2=0,this.timer&&clearInterval(this.timer),e==!1&&(this.datachange(),this.videonull())}},methods:{datachange(){this.ispileIds=!0,this.designDepth=30,this.pile=[],this.defaultpile="",this.real={current:0,deep:0,density:0,deviceKey:"-",expandStatus:"0",flow:0,latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partAsh:0,partSlurry:0,pileDescribe:"-",pileId:0,pipeStatus:"0",pressure:0,processType:"00000000",realTime:0,recordStatus:"3",speed:0,startTime:0,totalAsh:0,totalSlurry:0,version:"-",waterCementRatio:0,xAngle:0,yAngle:0,lasttime:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},closePop(e){this[e]=!1},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.myChart01.setOption(this.getOption1(e,this.deep,this.flow))},getOption1(e,s,t){return{title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:24},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6D41\u91CF"]},grid:{top:"23%",left:"4%",right:"4%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m    ",type:"value",nameLocation:"end",inverse:!0,max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u6D41\u91CF(L/min)",type:"value",nameLocation:"start",inverse:!1,max:120,min:0,nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s,markPoint:{data:[{type:"max"}]}},{name:"\u6D41\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:t}]}},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getdata(),this.videonull()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history"),this.videonull(),clearInterval(this.timer)),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo"),this.videonull(),clearInterval(this.timer)),e==3&&(clearInterval(this.timer),this.datachange(),this.video())},getPileIds(){Pe(this.selectItem.key).then(e=>{if(e!=null){this.pile=e;let t=!0;for(var s=0;s<this.pile.length;s++)this.defaultpile==this.pile[s].pileId&&(this.defaultpile=this.pile[s].pileId,this.ispileIds=!1,t=!1);t&&(this.defaultpile=this.pile[0].pileId,this.ispileIds=!1)}})},getdata(){Ee(this.selectItem.key,this.defaultpile,"realTime,flow,deep,pipeStatus").then(e=>{const s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var t=0;t<e.length;t++){let a=G(e[t].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),r=[],n=[];r.push(a,e[t].flow.toFixed(2)),n.push(a,e[t].deep.toFixed(2)),this.flow.push(r),this.deep.push(n)}this.initEchart01(!1);var i=e[e.length-1];i!=null&&(i.pipeStatus=="1"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):i.pipeStatus=="2"?(this.pileStatusStr="\u63D0\u94BB",this.image="up"):i.pipeStatus=="3"?this.pileStatusStr="\u4E0B\u94BB":i.pipeStatus=="4"&&this.pilefilter=="\u63D0\u94BB",this.depth=i.deep,this.myFun(i.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.defaultpile).then(a=>{if(a!=null){this.ispileIds==!0&&this.getPileIds(),this.real=a,this.coordinates.center=[this.real.longitude,this.real.latitude],this.coordinates.position=[this.real.longitude,this.real.latitude],this.setAngle(this.real.xAngle,this.real.yAngle),this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.ispileIds=!0,this.recordStatusClass="",this.real.deep="--",this.real.speed="--",this.real.current="--",this.real.flow="--"),this.real.deep>this.depth?(this.pileStatusStr="\u4E0B\u94BB",this.pipeStatusClass="on",this.image="down"):this.real.deep<this.depth?(this.pileStatusStr="\u63D0\u94BB",this.pipeStatusClass="on",this.image="up"):this.pipeStatusClass="",this.depth=this.real.deep,this.real.nozzleStatus==0?this.nozzleStatusClass="":this.nozzleStatusClass="on";let r=G(a.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if((this.flow.length==0||this.flow[this.flow.length-1][0]!==r)&&a.flow!=="--"){let n=[],o=[];n.push(r,a.flow.toFixed(2)),o.push(r,a.deep.toFixed(2)),this.flow.push(n),this.deep.push(o),this.myChart01.setOption(this.getOption1(!1,this.deep,this.flow))}this.real.lasttime=((a.realTime-a.startTime)/60).toFixed(0),this.myFun(this.real.deep)}else this.ispileIds=!0,this.designDepth=30,this.pile=[],this.defaultpile="",this.real={current:0,deep:0,density:0,deviceKey:"-",expandStatus:"0",flow:0,latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partAsh:0,partSlurry:0,pileDescribe:"-",pileId:0,pipeStatus:"0",pressure:0,processType:"00000000",realTime:0,recordStatus:"3",speed:0,startTime:0,totalAsh:0,totalSlurry:0,version:"-",waterCementRatio:0,xAngle:0,yAngle:0,lasttime:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.image="stop",this.myChart01.setOption(this.getOption1(!0,this.deep,this.flow)),this.myFun(this.real.deep);s.close()})},3e3),setTimeout(()=>{s.close()},6e3)})},video(){this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.playerOptions=[];for(let e=0;e<this.cameraLive.length;e++){let s={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[e].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(s)}},videonull(){this.playerOptions=[{sources:[{type:"application/x-mpegURL",src:""}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5"}]},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];switch(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive!=null&&(this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.videonull()),this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=require("@/assets/images/map/b4.png"):this.coordinates.icon=require("@/assets/images/map/a6.png")),this.index=t,i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getPileIds(),this.getdata(),this.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"-":JSON.parse(this.selectItem.content).designUpSpeed,this.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"-":JSON.parse(this.selectItem.content).designDownSpeed;break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},myFun(e){var s=this;s.y=Number(e).toFixed(2),this.designDepth=JSON.parse(this.selectItem.content).designDepth==null?30:JSON.parse(this.selectItem.content).designDepth+5,s.ztTop=100-e/this.designDepth*98+"%"}}},fo={};var iv=fe(tv,Qm,ev,!1,sv,"3447fe9f",null,null);function sv(e){for(let s in fo)this[s]=fo[s]}var av=function(){return iv.exports}(),rv=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u55B7\u6D46\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime||"","nozzleStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime||"","totalSlurry"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalSlurry!=null?"(L)":""))])])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime||"","totalAsh"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalAsh!=null?"(kg)":""))])])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",[t("div",{staticClass:"info",staticStyle:{width:"16rem",float:"left"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u901A\u9053")]),e.pile.length==1?t("div",{staticClass:"value"},[e._v(e._s(e.pile[0].pileDescribe||""))]):e._e(),e.pile.length==0?t("div",{staticClass:"value"},[e._v("--")]):e._e(),e.pile.length>1?t("el-select",{staticClass:"btnpile",model:{value:e.defaultpile,callback:function(i){e.defaultpile=i},expression:"defaultpile"}},e._l(e.pile,function(i){return t("el-option",{key:i.index,attrs:{label:i.channelId,value:i.pileId}})}),1):e._e()],1),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status",staticStyle:{width:"150px",float:"right"}},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])])])]),t("div",{staticStyle:{clear:"both"}})])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u5B54\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.real.pileDescribe))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6C34\u7070\u6BD4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.waterAsh)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u704C\u6D46\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("modefilters")(e.real.processMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u53C2\u6570\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("parfilters")(e.real.paramType)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u704C\u6D46\u65B9\u6CD5")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("metfilters")(e.real.processMethod)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6301\u7EED\u65F6\u957F")]),t("b",[e._v(e._s(e.real.lasttime)+"\u5206\u949F")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u5CF0\u503C\u538B\u529B")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.pressurePeak))+"mpa")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.totGrout))+"L")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.totAsh))+"kg")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u5355\u4F4D\u6D46\u91CF")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.perGrout))+"L")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u5355\u4F4D\u7070\u91CF")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.perAsh))+"kg")])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6CE8\u6D46\u538B\u529B\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top",staticStyle:{height:"50px"}},[t("h2",[e._v("\u5B9E\u65F6\u6570\u636E")])]),t("div",{staticClass:"item_bottom_out"},[t("div",{staticClass:"item_bottomL"},[t("h3",[e._v("\u6CE8\u6D46L/min")]),t("b",{staticClass:"item_b"},[e._v(e._s(e._f("numfilters")(e.real.flow)))])]),t("div",{staticClass:"item_bottomL"},[t("h3",[e._v("\u8FDB\u6D46L/min")]),t("b",{staticClass:"item_b"},[e._v(e._s(e._f("numfilters")(e.real.flowIn)))])]),t("div",{staticClass:"item_bottomL"},[t("h3",[e._v("\u8FD4\u6D46L/min")]),t("b",{staticClass:"item_b"},[e._v(e._s(e._f("numfilters")(e.real.flowOut)))])]),t("div",{staticClass:"item_bottomL"},[t("h3",[e._v("\u538B\u529Bmpa")]),t("b",{staticClass:"item_b"},[e._v(e._s(e._f("numfilters")(e.real.pressure)))])]),t("div",{staticClass:"item_bottomL"},[t("h3",[e._v("\u5BC6\u5EA6g/cm\xB3")]),t("b",{staticClass:"item_b"},[e._v(e._s(e._f("numfilters")(e.real.density)))])])]),t("div",{staticStyle:{width:"100%",height:"50%"}},[t("div",{ref:"sirclemyChart01",style:{width:"33%",height:"100%",float:"left"}}),t("div",{ref:"sirclemyChart02",style:{width:"33%",height:"100%",float:"left"}}),t("div",{ref:"sirclemyChart03",style:{width:"33%",height:"100%",float:"left"}}),t("div",{staticStyle:{clear:"both"}})])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:" sizes,slot, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},nv=[];const ov={components:{gTabs:Se},props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],data(){return{coordinates:{center:[0,0],zoom:14,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b10.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,bottomLdata:[],recordStatusClass:"",timer:null,deviceKey:"",pileId:"",pile:[{channelId:"--",pileId:""}],defaultpile:"",real:{channelId:2,density:0,densityAsh:0,densitySand:0,densityStuff1:0,densityStuff2:0,densityStuff3:0,deviceKey:"-",disAsh:-9999,disGrout:-9999,flow:0,flowIn:0,flowOut:0,holeLatitude:0,holeLongitude:0,latitude:0,lifting:0,longitude:0,nozzleStatus:0,paramType:"",partDescribe:"0",perAsh:0,perGrout:0,pileDescribe:"1",pileId:0,pressure:0,pressurePeak:0,processMethod:"",processMode:"",realTime:0,recordStatus:0,rssi4G:0,rssiLORA:0,sandAsh:0,startTime:0,totAsh:0,totGrout:0,version:"1.00",waterAsh:0,waterRate:0,xash1:0,xash2:0,xash3:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},o1filters(e){return e==null?"-":e},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(e){return parseFloat(e).toFixed(2)},stafilters(e){switch(e){case 1:return"\u8BB0\u5F55\u4E2D";case 2:return"\u6682\u505C";case 0:return"\u7ED3\u675F";default:return e}},parfilters(e){return e==0?"\u4E8C\u53C2\u6570":e==1?"\u4E09\u53C2\u6570":e==2?"\u56DB\u53C2\u6570":"-"},metfilters(e){return e==0?"\u5927\u5FAA\u73AF":e==1?"\u5C0F\u5FAA\u73AF":"-"},modefilters(e){return e==0?"\u704C\u6D46\u65BD\u5DE5\u8BB0\u5F55":e==1?"\u5C01\u5B54\u65BD\u5DE5\u8BB0\u5F55":e==2?"\u7B80\u6613\u538B\u6C34\u65BD\u5DE5\u8BB0\u5F55":e==3?"\u5355\u70B9\u538B\u6C34\u65BD\u5DE5\u8BB0\u5F55":e==4?"\u4E94\u70B9\u538B\u6C34\u65BD\u5DE5\u8BB0\u5F55":e==5?"\u88C2\u9699\u538B\u6C34\u65BD\u5DE5\u8BB0\u5F55":e==6?"\u5E37\u5E55\u704C\u6D46":e==7?"\u56FA\u7ED3\u704C\u6D46":e==8?"\u5CA9\u6EB6\u6CE8\u6D46":"-"}},watch:{centerDialogVisible1(e,s){e==!1&&(this.watchData(),this.timer&&clearInterval(this.timer))}},methods:{watchData(){this.ispileIds=!0,this.pile=[],this.defaultpile="",this.real={channelId:2,density:0,densityAsh:0,densitySand:0,densityStuff1:0,densityStuff2:0,densityStuff3:0,deviceKey:"-",disAsh:-9999,disGrout:-9999,flow:0,flowIn:0,flowOut:0,holeLatitude:0,holeLongitude:0,latitude:0,lifting:0,longitude:0,nozzleStatus:0,paramType:"",partDescribe:"0",perAsh:0,perGrout:0,pileDescribe:"1",pileId:0,pressure:0,pressurePeak:0,processMethod:"",processMode:"",realTime:0,recordStatus:0,rssi4G:0,rssiLORA:0,sandAsh:0,startTime:0,totAsh:0,totGrout:0,version:"1.00",waterAsh:0,waterRate:0,xash1:0,xash2:0,xash3:0},this.flow=[],this.deep=[],!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),!(this.sirclemyChart01===void 0||this.sirclemyChart01._disposed)&&this.sirclemyChart01.dispose())},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:20},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6CE8\u6D46","\u538B\u529B"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6CE8\u6D46 ",type:"value",inverse:!1,nameLocation:"start",nameGap:20,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u538B\u529B",type:"value",inverse:!1,nameLocation:"start",nameGap:20,max:10,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6CE8\u6D46",type:"line",showSymbol:!1,data:this.deep},{name:"\u538B\u529B",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},sircleEchart01(){let e={tooltip:{formatter:"{b} : {c}"},series:[{name:"Pressure",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}",fontSize:15},max:300,radius:"100%",data:[{value:this.real.flow.toFixed(2),name:"\u6CE8\u6D46"}]}]};this.sirclemyChart01=ie(this.$refs.sirclemyChart01,null,{renderer:"svg"}),this.sirclemyChart01.setOption(e)},sircleEchart02(){let e={tooltip:{formatter:"{b} : {c}"},series:[{name:"Pressure",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}",fontSize:16},max:300,radius:"100%",data:[{value:this.real.flowIn.toFixed(2),name:"\u8FDB\u6D46"}]}]};this.sirclemyChart02=ie(this.$refs.sirclemyChart02,null,{renderer:"svg"}),this.sirclemyChart02.setOption(e)},sircleEchart03(){let e={tooltip:{formatter:"{b} : {c}"},series:[{name:"Pressure",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}",fontSize:16},max:300,radius:"100%",data:[{value:this.real.flowOut.toFixed(2),name:"\u8FD4\u6D46"}]}]};this.sirclemyChart03=ie(this.$refs.sirclemyChart03,null,{renderer:"svg"}),this.sirclemyChart03.setOption(e)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&this.timer&&(clearInterval(this.timer),this.watchData())},getpileIds(){Pe(this.selectItem.key).then(e=>{if(e!=null){this.pile=e;let t=!0;for(var s=0;s<this.pile.length;s++)this.defaultpile==this.pile[s].pileId&&(this.defaultpile=this.pile[s].pileId,this.ispileIds=!1,t=!1);t&&(this.defaultpile=this.pile[0].pileId,this.ispileIds=!1)}})},getData(){Ee(this.selectItem.key,this.defaultpile,"realTime,pressure,flow").then(e=>{const s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var t=0;t<e.length;t++){let i=G(e[t].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),a=[],r=[];a.push(i,e[t].pressure.toFixed(2)),r.push(i,e[t].flow.toFixed(2)),this.flow.push(a),this.deep.push(r)}this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.defaultpile).then(i=>{if(i!=null){this.ispileIds==!0&&this.getpileIds(),this.real=i,this.coordinates.center=[this.real.longitude,this.real.latitude],this.coordinates.position=[this.real.longitude,this.real.latitude],this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.ispileIds=!0);let a=G(i.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow[this.flow.length-1][0]!=a){let r=[],n=[];r.push(a,i.pressure.toFixed(2)),n.push(a,i.flow.toFixed(2)),this.flow.push(r),this.deep.push(n),this.real.lasttime=((i.realTime-i.startTime)/60).toFixed(0)}this.initEchart01(!1),this.sircleEchart01(),this.sircleEchart02(),this.sircleEchart03()}else this.ispileIds=!0,this.initEchart01(!0);s.close()})},3e3),setTimeout(()=>{s.close()},6e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=require("@/assets/images/map/b10.png"):this.coordinates.icon=require("@/assets/images/map/a9.png")),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{this.sircleEchart01(),this.sircleEchart02(),this.sircleEchart03(),window.onresize=function(){s.myChart01.resize()}}),this.getpileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},mo={};var lv=fe(ov,rv,nv,!1,uv,"11004a90",null,null);function uv(e){for(let s in mo)this[s]=mo[s]}var cv=function(){return lv.exports}(),dv=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u94BB\u6746\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"pipeStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u55B7\u6D46\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"nozzleStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalSlurry"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalSlurry!=null?"(L)":""))])])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalAsh"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalAsh!=null?"(kg)":""))])])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",{staticClass:"info"},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("pilefilter")(e.pile.pileDescribe)))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status"},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])]),t("li",{class:e.pipeStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.pileStatusStr))])]),t("li",{class:e.nozzleStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("sta2filters")(e.real.nozzleStatus)))])])])])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6C34\u7070\u6BD4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.waterCementRatio)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("recordfilters")(e.real.recordMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u55B7\u5C04\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("pumpfilters")(e.real.pumpMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u55B7\u5C04\u538B\u529B")]),t("div",{staticClass:"value"},[e._v("- mpa")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6")]),t("div",{staticClass:"value"},[e._v(e._s(e.designUpSpeed)+" cm/min")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u95F4\u9694")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("intervalfilters")(e.real)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u94BB\u6746\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("pipfilters")(e.real.pipeMode)))])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6D46\u91CF\u3001\u6D46\u538B\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("numfilters")(e.real.xAngle,1)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("numfilters")(e.real.yAngle,1)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6301\u7EED\u65F6\u957F")]),t("b",{staticClass:"item_center"},[e._v(e._s(e.real.lasttime)+" min")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u55B7\u5C04\u65F6\u957F")]),t("b",{staticClass:"item_center"},[e._v("- min")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.totalPulp,1))+" L")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.totalAsh,1))+" kg")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7D2F\u8BA1\u6C34\u91CF")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.totalWater,1))+" L")])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v("\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u6D41\u91CF"),t("em",[e._v(e._s(e._f("numfilters")(e.real.pulp))+"(L/min)")])]),t("p",[e._v("\u538B\u529B"),t("em",[e._v(e._s(e._f("numfilters")(e.real.pulpPressure))+"(Mpa)")])]),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},hv=[];const pv={components:{gTabs:Se},props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b4.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,designUpSpeed:"-",recordStatusClass:"",pipeStatusClass:"",nozzleStatusClass:"",depth:0,pileStatusStr:"\u505C\u94BB",image:"stop",pagecount:100,timer:null,deviceKey:"",pileId:"",pile:[],real:{air:0,airPressure:0,deep:0,density:0,deviceKey:"-",latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partAsh:0,partPulp:0,pileDescribe:"-",pileId:0,pipeMode:"",pipeStatus:"0",pulp:0,pulpPressure:0,pumpMode:"",realTime:0,recodeInterval:0,recordMode:"0",recordStatus:"3",returnPulp:0,returnPulpPressure:0,rotateSpeed:0,signal4g:23,signalLora:0,speed:0,startTime:0,totalAir:0,totalAsh:0,totalPulp:0,totalReturnPulp:0,totalWater:0,version:"0",vertical:0,water:0,waterCementRatio:0,waterPressure:0,xAngle:0,yAngle:0,lasttime:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],isPileIds:!0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},startTimefilters(e){return e?e.startTime==null?"-":e.startTime:"-"},pilefilter(e){return e==null?"--":e},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("HH:mm:ss")},pulpfilters(e){},numfilters(e,s){return s==null&&(s=2),isNaN(e)?e:parseFloat(e).toFixed(s)},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},sta1filters(e){return e=="1"?"\u4E0B\u94BB":e=="2"?"\u63D0\u94BB":e=="3"?"\u590D\u4E0B":e=="4"?"\u590D\u63D0":"\u505C\u6B62"},sta2filters(e){switch(e){case"1":return"\u55B7\u6D46";case"0":return"\u6B62\u55B7";default:return e}},recordfilters(e){switch(e){case"1":return"\u6DF1\u5EA6\u6A21\u5F0F";case"2":return"\u65F6\u95F4\u6A21\u5F0F";case"0":return"-";default:return e}},intervalfilters(e){switch(e.recordMode){case"1":return e.recodeInterval+"cm";case"2":return e.recodeInterval+"s";case"0":return"-";default:return e}},pumpfilters(e){if(e=="1")return"\u5355\u7BA1";if(e=="2")return"\u4E8C\u91CD\u7BA1";if(e=="3")return"\u4E09\u91CD\u7BA1";if(e=="")return"-"},pipfilters(e){return e=="1"?"\u5355\u6746":e=="2"?"\u63A5\u6746":"-"}},watch:{centerDialogVisible1(e,s){e==!1&&(this.getwatchData(),this.timer&&clearInterval(this.timer))}},methods:{getwatchData(){this.isPileIds=!0,this.pile=[],this.real={air:0,airPressure:0,deep:0,density:0,deviceKey:"-",latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partAsh:0,partPulp:0,pileDescribe:"-",pileId:0,pipeMode:"",pipeStatus:"0",pulp:0,pulpPressure:0,pumpMode:"",realTime:0,recodeInterval:0,recordMode:"0",recordStatus:"3",returnPulp:0,returnPulpPressure:0,rotateSpeed:0,signal4g:23,signalLora:0,speed:0,startTime:0,totalAir:0,totalAsh:0,totalPulp:0,totalReturnPulp:0,totalWater:0,version:"0",vertical:0,water:0,waterCementRatio:0,waterPressure:0,xAngle:0,yAngle:0,lasttime:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.myChart01.setOption(this.getOption1(e,this.deep,this.flow))},getOption1(e,s,t){return{title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:16},left:"center",top:"45%"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6D46\u91CF","\u6D46\u538B"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6D46\u91CF ",type:"value",inverse:!1,nameLocation:"start",max:80,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u6D46\u538B",type:"value",inverse:!1,nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6D46\u91CF",type:"line",showSymbol:!1,data:t},{name:"\u6D46\u538B",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:s}]}},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&(clearInterval(this.timer),this.getwatchData())},getPileId(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.isPileIds=!1)})},getData(){let e=this;Ee(this.selectItem.key,this.pileId,"realTime,pulp,pulpPressure,pipeStatus").then(s=>{const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var i=0;i<s.length;i++){let r=G(s[i].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),n=[],o=[];n.push(r,s[i].pulp.toFixed(2)),o.push(r,s[i].pulpPressure.toFixed(2)),this.flow.push(n),this.deep.push(o)}this.initEchart01(!1);var a=s[s.length-1];a!=null&&(a.pipeStatus=="1"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):a.pipeStatus=="2"?(this.pileStatusStr="\u63D0\u94BB",this.image="up"):a.pipeStatus=="3"?this.pileStatusStr="\u4E0B\u94BB":a.pipeStatus=="4"&&this.pilefilter=="\u63D0\u94BB",this.depth=a.deep,e.myFun(a.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(r=>{if(r!=null){this.isPileIds==!0&&this.getPileId(),this.real=r,this.setAngle(this.real.xAngle,this.real.yAngle),this.coordinates.position=[this.real.longitude,this.real.latitude],this.coordinates.center=[this.real.longitude,this.real.latitude],this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.isPileIds=!0),this.real.deep>this.depth?(this.pileStatusStr="\u4E0B\u94BB",this.pipeStatusClass="on",this.image="down"):this.real.deep<this.depth?(this.pileStatusStr="\u63D0\u94BB",this.pipeStatusClass="on",this.image="up"):this.pipeStatusClass="",this.depth=this.real.deep,this.real.nozzleStatus==0?this.nozzleStatusClass="":this.nozzleStatusClass="on";let n=G(r.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow[this.flow.length-1][0]!=n){let o=[],l=[];o.push(n,r.pulp.toFixed(2)),l.push(n,r.pulpPressure.toFixed(2)),this.flow.push(o),this.deep.push(l),this.real.lasttime=((r.realTime-r.startTime)/60).toFixed(0),this.myChart01.setOption(this.getOption1(!1,this.deep,this.flow)),e.myFun(this.real.deep)}}else this.isPileIds=!0,this.pile=[],this.real={air:0,airPressure:0,deep:0,density:0,deviceKey:"-",latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partAsh:0,partPulp:0,pileDescribe:"-",pileId:0,pipeMode:"",pipeStatus:"0",pulp:0,pulpPressure:0,pumpMode:"",realTime:0,recodeInterval:0,recordMode:"0",recordStatus:"3",returnPulp:0,returnPulpPressure:0,rotateSpeed:0,signal4g:23,signalLora:0,speed:0,startTime:0,totalAir:0,totalAsh:0,totalPulp:0,totalReturnPulp:0,totalWater:0,version:"0",vertical:0,water:0,waterCementRatio:0,waterPressure:0,xAngle:0,yAngle:0,lasttime:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.myChart01.setOption(this.getOption1(!0,this.deep,this.flow)),this.image="stop",e.myFun(this.real.deep);t.close()})},3e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]]),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"-":JSON.parse(this.selectItem.content).designUpSpeed,this.getPileId(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},vo={};var fv=fe(pv,dv,hv,!1,mv,"19e9eae7",null,null);function mv(e){for(let s in vo)this[s]=vo[s]}var vv=function(){return fv.exports}(),gv=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipeTime")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u94BB\u6746\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"pipeStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u55B7\u6D46\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"nozzleStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalSlurry"))),t("span",[e._v(e._s(i.realtime&&i.realtime.totalSlurry!=null?"(L)":""))])])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalAsh"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalAsh!=null?"(kg)":""))])])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.work,callback:function(i){e.$set(e.form,"work",i)},expression:"form.work"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",[t("div",{staticClass:"info",staticStyle:{width:"16rem",float:"left"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("pilefilter")(e.pile.pileDescribe)))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status",staticStyle:{width:"20rem",float:"right"}},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])]),t("li",{class:e.pipeStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.pileStatusStr))])]),t("li",{class:e.nozzleStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("sta2filters")(e.real.nozzleStatus)))])])])]),t("div",{staticStyle:{clear:"both"}})])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6C34\u7070\u6BD4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.waterCementRatio)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("recordfilters")(e.real.recordMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6DF1\u5EA6\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("deepModefilters")(e.real.deepMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6")]),t("div",{staticClass:"value"},[e._v(e._s(e.designUpSpeed)+" cm/min")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6")]),t("div",{staticClass:"value"},[e._v(e._s(e.designDownSpeed)+" cm/min")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u95F4\u9694")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("intervalfilters")(e.real)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u89E3\u6790\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("qfRtkfilters")(e.real.qfRtk)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6D41\u91CF(L/min)")]),t("ul",{staticClass:"item_ul_flow"},[t("li",{staticClass:"item_flow"},[t("h6",[e._v("1")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.flow1)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("2")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.flow2)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("3")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.flow3)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("4")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.flow4)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("5")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.flow5)))])]),t("div",{staticStyle:{clear:"both"}})])]),t("div",{staticClass:"item"},[t("h3",[e._v(e._s(e._f("devicefilters")(e.real.deviceMode)))]),t("ul",[t("li",{staticClass:"item_flow"},[t("h6",[e._v("1")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.pressure1)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("2")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.pressure2)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("3")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.pressure3)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("4")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.pressure4)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("5")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.pressure5)))])]),t("div",{staticStyle:{clear:"both"}})])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u6D41\u91CF\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"top"},[t("h2",[e._v("\u7535\u5B50\u5730\u56FE")])]),t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("numfilters")(e.real.xAngle,1)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("numfilters")(e.real.yAngle,1)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6301\u7EED\u65F6\u957F(min)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e.real.lasttime))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u5BC6\u5EA6(g/cm\xB3)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.density)))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7D2F\u8BA1\u6D46\u91CF(L)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.totalSlurry,1)))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7D2F\u8BA1\u7070\u91CF(kg)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.totalAsh,1)))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6BB5\u6D46\u91CF(L)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.averageSlurry,1)))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6BB5\u7070\u91CF(kg)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.averageAsh,1)))])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v("\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u603B\u6D41\u91CF"),t("em",[e._v(e._s(e._f("numfilters")(e.real.flow))+"(L/min)")])]),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},_v=[];const yv={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b4.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,designUpSpeed:"-",designDownSpeed:"-",recordStatusClass:"",pipeStatusClass:"",nozzleStatusClass:"",depth:0,pileStatusStr:"\u505C\u94BB",image:"stop",timer:null,deviceKey:"",pileId:"",pile:[],real:{air:0,airPressure:0,altitude:0,antennaHeight:0,averageAsh:0,averageSlurry:0,deep:0,deepMode:"0",density:0,deviceKey:"-",deviceMode:1,flow:0,flow1:0,flow2:0,flow3:0,flow4:0,flow5:0,latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partFlow:0,partFlow1:0,partFlow2:0,partFlow3:0,partFlow4:0,partFlow5:0,pileDescribe:"-",pileId:0,pipeStatus:"0",pressure1:0,pressure2:0,pressure3:0,pressure4:0,pressure5:0,qfRtk:0,realTime:0,recordInterval:"1",recordMode:"0",recordStatus:"3",speed:0,starRtk:0,startTime:0,totalAir:0,totalAsh:0,totalFlow:0,totalFlow1:0,totalFlow2:0,totalFlow3:0,totalFlow4:0,totalFlow5:0,totalSlurry:0,version:"-",verticality:0,waterCementRatio:0,xAngle:0,yAngle:0,lasttime:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0}},filters:{ofiltersPipeTime(e,s){return e?e[s]=="1970-01-01 08:00:00"||e[s]==null?"-":e[s]:"-"},ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},pilefilter(e){return e==null?"--":e},startTimefilters(e){return e?e.startTime==null?"-":e.startTime:"-"},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("HH:mm:ss")},numfilters(e,s){return s==null&&(s=2),isNaN(e)?e:parseFloat(e).toFixed(s)},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},sta2filters(e){switch(e){case"1":return"\u55B7\u6D46";default:return"\u6B62\u55B7"}},recordfilters(e){switch(e){case"0":return"\u6DF1\u5EA6\u6A21\u5F0F";case"1":return"\u65F6\u95F4\u6A21\u5F0F"}},intervalfilters(e){if(e.recordInterval==="0")return e.recordMode==="1"?"5s":"20cm";if(e.recordInterval==="1")return e.recordMode==="1"?"10s":"25cm";if(e.recordInterval==="2")return e.recordMode==="1"?"30s":"50cm";if(e.recordInterval==="3")return e.recordMode==="1"?"60s":"100cm"},deepModefilters(e){switch(e){case"1":return"RTK";default:return"\u7F16\u7801\u5668"}},qfRtkfilters(e){switch(e){case 1:return"\u5355\u70B9\u89E3";case 2:return"\u4F2A\u8DDD\u5DEE\u5206";case 4:return"\u56FA\u5B9A\u89E3";case 5:return"\u6D6E\u52A8\u89E3";default:return"\u65E0\u6548"}},devicefilters(e){return e!==1?"\u538B\u529B(MPa)":"\u7535\u6D41(A)"}},watch:{centerDialogVisible1(e,s){e==!1&&(this.getwatchData(),this.timer&&clearInterval(this.timer))}},methods:{getwatchData(){this.ispileIds=!0,this.pile=[],this.real={air:0,airPressure:0,altitude:0,antennaHeight:0,averageAsh:0,averageSlurry:0,deep:0,deepMode:"0",density:0,deviceKey:"-",deviceMode:1,flow:0,flow1:0,flow2:0,flow3:0,flow4:0,flow5:0,latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partFlow:0,partFlow1:0,partFlow2:0,partFlow3:0,partFlow4:0,partFlow5:0,pileDescribe:"-",pileId:0,pipeStatus:"0",pressure1:0,pressure2:0,pressure3:0,pressure4:0,pressure5:0,qfRtk:0,realTime:0,recordInterval:"1",recordMode:"0",recordStatus:"3",speed:0,starRtk:0,startTime:0,totalAir:0,totalAsh:0,totalFlow:0,totalFlow1:0,totalFlow2:0,totalFlow3:0,totalFlow4:0,totalFlow5:0,totalSlurry:0,version:"-",verticality:0,waterCementRatio:0,xAngle:0,yAngle:0,lasttime:0},this.depth=0,this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.myChart01.dispose(),this.image="stop"},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.myChart01.setOption(this.getoption1(e,this.deep,this.flow))},getoption1(e,s,t){return{title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:16},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u603B\u6D41\u91CF"]},grid:{top:"25%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m ",type:"value",inverse:!0,nameLocation:"end",max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u603B\u6D41\u91CF(L/min)",type:"value",inverse:!1,nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]},max:300}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:s,markPoint:{data:[{type:"max"}]}},{name:"\u603B\u6D41\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:t}]}},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&(clearInterval(this.timer),this.getwatchData())},getpileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.ispileIds=!1)})},getData(){let e=this;Ee(this.selectItem.key,this.pileId,"realTime,flow,deep,pipeStatus").then(s=>{const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var i=0;i<s.length;i++){let r=G(s[i].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),n=[],o=[];n.push(r,s[i].flow.toFixed(2)),o.push(r,s[i].deep.toFixed(2)),this.flow.push(n),this.deep.push(o)}this.initEchart01(!1);var a=s[s.length-1];a!=null&&(a.pipeStatus=="1"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):a.pipeStatus=="2"?(this.pileStatusStr="\u63D0\u94BB",this.image="up"):a.pipeStatus=="3"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):a.pipeStatus=="4"&&(this.pilefilter=="\u63D0\u94BB",this.image="up"),this.depth=a.deep,e.myFun(a.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(r=>{if(r!=null){this.ispileIds==!0&&this.getpileIds(),this.real=r,this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.setAngle(this.real.xAngle,this.real.yAngle),this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.ispileIds=!0),this.real.deep>this.depth?(this.pileStatusStr="\u4E0B\u94BB",this.pipeStatusClass="on",this.image="down"):this.real.deep<this.depth?(this.pileStatusStr="\u63D0\u94BB",this.pipeStatusClass="on",this.image="up"):this.real.pipeStatusClass=="",this.depth=this.real.deep,this.real.nozzleStatus=="1"?this.nozzleStatusClass="on":this.nozzleStatusClass="";let n=G(r.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow[this.flow.length-1][0]!==n){let o=[],l=[];o.push(n,r.flow.toFixed(2)),l.push(n,r.deep.toFixed(2)),this.flow.push(o),this.deep.push(l),this.myChart01.setOption(this.getoption1(!1,this.deep,this.flow))}this.real.lasttime=((r.realTime-r.startTime)/60).toFixed(0),e.myFun(this.real.deep)}else this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.ispileIds=!0,this.myChart01.setOption(this.getoption1(!1,this.deep,this.flow)),e.myFun(this.real.deep);t.close()})},3e3),setTimeout(()=>{t.close()},6e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=require("@/assets/images/map/b2.png"):this.coordinates.icon=require("@/assets/images/map/a2.png")),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"-":JSON.parse(this.selectItem.content).designUpSpeed,this.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"-":JSON.parse(this.selectItem.content).designDownSpeed,this.getpileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/30*98+"%"}}},go={};var bv=fe(yv,gv,_v,!1,Cv,"3d4fce1d",null,null);function Cv(e){for(let s in go)this[s]=go[s]}var Sv=function(){return bv.exports}(),Tv=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",[t("div",{staticClass:"info",staticStyle:{width:"16rem",float:"left"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.pile.pileDescribe))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status",staticStyle:{width:"150px",float:"right"}},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])])])]),t("div",{staticStyle:{clear:"both"}})])]),t("div",{staticClass:"bottom left_bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("recordfilters")(e.real.recordMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u95F4\u9694")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("intervalfilters")(e.real)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6869\u957F(m)")]),t("ul",{staticClass:"item_ul_flow"},[t("li",{staticClass:"item_flow"},[t("h6",[e._v("1")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length1)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("2")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length2)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("3")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length3)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("4")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length4)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("5")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length5)))])])])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u65F6\u957F(s)")]),t("ul",{staticClass:"item_ul_flow"},[t("li",{staticClass:"item_flow"},[t("h6",[e._v("1")]),t("p",[e._v(e._s(e.real.time1))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("2")]),t("p",[e._v(e._s(e.real.time2))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("3")]),t("p",[e._v(e._s(e.real.time3))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("4")]),t("p",[e._v(e._s(e.real.time4))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("5")]),t("p",[e._v(e._s(e.real.time5))])])])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u538B\u529B\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"top"},[t("h2",[e._v("\u7535\u5B50\u5730\u56FE")])]),t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("numfilters")(e.real.xAngle,1)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("numfilters")(e.real.yAngle,1)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6301\u7EED\u65F6\u957F(min)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e.real.lasttime))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6700\u5927\u6DF1\u5EA6(m)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.maxDeep)))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6DB2\u538B\u529B(MPa)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.waterPressure)))])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u5782\u76F4\u5EA6(%)")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.verticality)))])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v("\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u538B\u6869\u529B"),t("em",[e._v(e._s(e._f("numfilters")(e.real.pressure))+"(MPa)")])]),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},wv=[];const xv={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b4.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,recordStatusClass:"",image:"stop",depth:0,pileStatusStr:"\u505C\u94BB",timer:null,deviceKey:"",pileId:"",fields:"",pile:[],real:{deep:0,deepMode:"0",designLength1:0,designLength2:0,designLength3:0,designLength4:0,designLength5:0,designLength6:0,designLength7:0,designLength8:0,designPileAmount:0,deviceKey:"-",deviceType:"1",hammerPower:0,hammerTimes:0,latitude:0,length1:0,length2:0,length3:0,length4:0,length5:0,longitude:0,machineKey:"-",maxDeep:0,pileAmount:0,pileDescribe:"-",pileId:0,pressure:0,realTime:0,recordInterval:"0",recordMode:"0",recordStatus:"3",speed:0,startTime:0,time1:0,time2:0,time3:0,time4:0,time5:0,version:"0",verticality:0,waterPressure:0,weight:0,xAngle:0,yAngle:0,lasttime:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("HH:mm:ss")},numfilters(e,s){return s==null&&(s=2),isNaN(e)?e:parseFloat(e).toFixed(s)},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},recordfilters(e){switch(e){case"1":return"\u65F6\u95F4\u6A21\u5F0F";case"2":return"\u6DF1\u5EA6\u6A21\u5F0F";default:return e}},intervalfilters(e){if(e.recordInterval==="0")return e.recordMode==="1"?"5s":"20cm";if(e.recordInterval==="1")return e.recordMode==="1"?"10s":"25cm";if(e.recordInterval==="2")return e.recordMode==="1"?"30s":"50cm";if(e.recordInterval==="3")return e.recordMode==="1"?"60s":"100cm"}},watch:{centerDialogVisible1(e,s){e==!1&&(this.getwatchData(),this.timer&&clearInterval(this.timer))}},methods:{getwatchData(){this.ispileIds=!0,this.pile=[],this.real={deep:0,deepMode:"0",designLength1:0,designLength2:0,designLength3:0,designLength4:0,designLength5:0,designLength6:0,designLength7:0,designLength8:0,designPileAmount:0,deviceKey:"-",deviceType:"1",hammerPower:0,hammerTimes:0,latitude:0,length1:0,length2:0,length3:0,length4:0,length5:0,longitude:0,machineKey:"-",maxDeep:0,pileAmount:0,pileDescribe:"-",pileId:0,pressure:0,realTime:0,recordInterval:"0",recordMode:"0",recordStatus:"3",speed:0,startTime:0,time1:0,time2:0,time3:0,time4:0,time5:0,version:"0",verticality:0,waterPressure:0,weight:0,xAngle:0,yAngle:0,lasttime:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:16},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u538B\u6869\u529B"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m ",type:"value",inverse:!0,nameLocation:"end",axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u538B\u6869\u529B",type:"value",inverse:!1,nameLocation:"start",nameTextStyle:{padding:[10,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.deep,markPoint:{data:[{type:"max"}]}},{name:"\u538B\u6869\u529B",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getdata()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&(clearInterval(this.timer),this.getwatchData())},getPileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.ispileIds=!1)})},getdata(){let e=this;Ee(this.selectItem.key,this.pileId,"realTime,pressure,deep,pipeStatus").then(s=>{const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var i=0;i<s.length;i++){let r=G(s[i].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),n=[],o=[];n.push(r,s[i].pressure.toFixed(2)),o.push(r,s[i].deep.toFixed(2)),this.flow.push(n),this.deep.push(o)}this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.initEchart01(!1);var a=s[s.length-1];a!=null&&(a.pipeStatus=="1"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):a.pipeStatus=="2"?(this.pileStatusStr="\u63D0\u94BB",this.image="up"):a.pipeStatus=="3"?this.pileStatusStr="\u4E0B\u94BB":a.pipeStatus=="4"&&this.pilefilter=="\u63D0\u94BB",this.depth=a.deep,e.myFun(a.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(r=>{if(r!=null){this.ispileIds==!0&&this.getPileIds(),this.real=r,this.setAngle(this.real.xAngle,this.real.yAngle),this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.ispileIds=!0),this.real.deep>this.depth?(this.pileStatusStr="\u4E0B\u94BB",this.pipeStatusClass="on",this.image="down"):this.real.deep<this.depth?(this.pileStatusStr="\u63D0\u94BB",this.pipeStatusClass="on",this.image="up"):this.pipeStatusClass="",this.depth=this.real.deep;let n=G(r.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow[this.flow.length-1][0]!==n){let o=[],l=[];o.push(n,r.pressure.toFixed(2)),l.push(n,r.deep.toFixed(2)),this.flow.push(o),this.deep.push(l),this.initEchart01(!1)}this.real.lasttime=((r.realTime-r.startTime)/60).toFixed(0),e.myFun(this.real.deep)}else this.ispileIds=!0,this.pile=[],this.real={deep:0,deepMode:"0",designLength1:0,designLength2:0,designLength3:0,designLength4:0,designLength5:0,designLength6:0,designLength7:0,designLength8:0,designPileAmount:0,deviceKey:"-",deviceType:"1",hammerPower:0,hammerTimes:0,latitude:0,length1:0,length2:0,length3:0,length4:0,length5:0,longitude:0,machineKey:"-",maxDeep:0,pileAmount:0,pileDescribe:"-",pileId:0,pressure:0,realTime:0,recordInterval:"0",recordMode:"0",recordStatus:"3",speed:0,startTime:0,time1:0,time2:0,time3:0,time4:0,time5:0,version:"0",verticality:0,waterPressure:0,weight:0,xAngle:0,yAngle:0,lasttime:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.initEchart01(!0),this.image="stop",e.myFun(this.real.deep);t.close()})},3e3),setTimeout(()=>{t.close()},6e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=require("@/assets/images/map/b1.png"):this.coordinates.icon=require("@/assets/images/map/a1.png")),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getPileIds(),this.getdata();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},_o={};var kv=fe(xv,Tv,wv,!1,Iv,"2fa374d5",null,null);function Iv(e){for(let s in _o)this[s]=_o[s]}var Pv=function(){return kv.exports}(),Ev=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u55B7\u6D46\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"nozzleStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalSlurry"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalSlurry!=null?"(L)":""))])])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalAsh"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalAsh!=null?"(kg)":""))])])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",[t("div",{staticClass:"info",staticStyle:{width:"16rem",float:"left"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u5B54\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("pilefilter")(e.pile.pileDescribe)))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status",staticStyle:{width:"150px",float:"right"}},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])])])]),t("div",{staticStyle:{clear:"both"}})])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u5B54\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.real.pileDescribe))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6C34\u7070\u6BD4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.waterAsh)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u704C\u6D46\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("modefilters")(e.real.processMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u53C2\u6570\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("parfilters")(e.real.paramType)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u704C\u6D46\u65B9\u6CD5")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("metfilters")(e.real.processMethod)))])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6301\u7EED\u65F6\u957F")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.lasttime,0))+" \u5206\u949F")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u5CF0\u503C\u538B\u529B")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.pressurePeak))+" mpa")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.totGrout))+" L")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.totAsh))+" kg")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u5355\u4F4D\u6D46\u91CF")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.perGrout))+" L")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u5355\u4F4D\u7070\u91CF")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.perAsh))+" kg")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6CE8\u6D46")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.flow))+" L/min")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u8FDB\u6D46")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.flowIn))+" L/min")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u8FD4\u6D46")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.flowOut))+" L/min")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u538B\u529B")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.pressure))+" map")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u5BC6\u5EA6")]),t("p",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.density))+" g/cm\xB3")])])])])])]),t("el-col",{staticClass:"col",staticStyle:{height:"100%"},attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6CE8\u6D46\u538B\u529B\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"top"}),t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Av=[];const Ov={components:{gTabs:Se},props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b3.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,recordStatusClass:"",timer:null,deviceKey:"",pileId:"",pile:[],real:{recordStatus:3,startTime:0,xAngle:0,yAngle:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},pilefilter(e){return e==null?"--":e},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(e,s){return s==null&&(s=2),e==null?"-":isNaN(e)?e:parseFloat(e).toFixed(s)},stafilters(e){switch(e){case 1:return"\u8BB0\u5F55\u4E2D";case 2:return"\u6682\u505C";case 3:return"\u7ED3\u675F";default:return e}},parfilters(e){return e==0?"\u4E8C\u53C2\u6570":e==1?"\u4E09\u53C2\u6570":e==1?"\u56DB\u53C2\u6570":"-"},metfilters(e){return e==0?"\u5927\u5FAA\u73AF":e==1?"\u5C0F\u5FAA\u73AF":"-"},modefilters(e){return e==0?"\u704C\u6D46\u65BD\u5DE5\u8BB0\u5F55":e==1?"\u5C01\u5B54\u65BD\u5DE5\u8BB0\u5F55":e==2?"\u7B80\u6613\u538B\u6C34\u65BD\u5DE5\u8BB0\u5F55":e==3?"\u5355\u70B9\u538B\u6C34\u65BD\u5DE5\u8BB0\u5F55":e==4?"\u4E94\u70B9\u538B\u6C34\u65BD\u5DE5\u8BB0\u5F55":e==5?"\u88C2\u9699\u538B\u6C34\u65BD\u5DE5\u8BB0\u5F55":e==6?"\u5E37\u5E55\u704C\u6D46":e==7?"\u56FA\u7ED3\u704C\u6D46":e==8?"\u5CA9\u6EB6\u6CE8\u6D46":"-"}},watch:{centerDialogVisible1(e,s){e==!1&&(this.timer&&clearInterval(this.timer),this.getwatchData())}},methods:{getwatchData(){this.ispileIds=!0,this.flow=[],this.deep=[],!(this.myChart01===void 0||this.myChart01._disposed)&&this.myChart01.dispose()},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:28},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"3%",right:"10%",data:["\u6CE8\u6D46","\u538B\u529B"]},grid:{top:"22%",left:"4%",right:"4%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6CE8\u6D46   ",type:"value",inverse:!1,nameLocation:"start",nameTextStyle:{padding:[10,0,0,15]},axisLine:{show:!0}},{name:"  \u538B\u529B",type:"value",inverse:!1,nameLocation:"start",max:10,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6CE8\u6D46",type:"line",showSymbol:!1,data:this.deep},{name:"\u538B\u529B",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&(clearInterval(this.timer),this.getwatchData())},getPileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[1],this.ispileIds=!1)})},getData(){Ee(this.selectItem.key,this.pileId,"realTime,pressure,flow").then(e=>{const s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var t=0;t<e.length;t++){let i=G(e[t].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),a=[],r=[];a.push(i,e[t].pressure.toFixed(2)),r.push(i,e[t].flow.toFixed(2)),this.flow.push(a),this.deep.push(r)}this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.initEchart01(!1),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(i=>{if(i!=null){this.real=i,this.ispileIds==!0&&this.getPileIds(),this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.ispileIds=!0);let a=G(i.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow.length!=0||this.flow[this.flow.length-1][0]!=a){let r=[],n=[];r.push(a,i.pressure.toFixed(2)),n.push(a,i.flow.toFixed(2)),this.flow.push(r),this.deep.push(n),this.initEchart01(!1)}this.real.lasttime=((i.realTime-i.startTime)/60).toFixed(0)}else this.ispileIds=!0,this.flow=[],this.deep=[],this.initEchart01(!0);s.close()})},3e3),setTimeout(()=>{s.close()},6e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=require("@/assets/images/map/b3.png"):this.coordinates.icon=require("@/assets/images/map/a3.png")),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getPileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},yo={};var Dv=fe(Ov,Ev,Av,!1,Lv,"5336e958",null,null);function Lv(e){for(let s in yo)this[s]=yo[s]}var Mv=function(){return Dv.exports}(),Nv=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",{staticClass:"info"},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.pile.pileDescribe))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status"},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])])])])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("recordfilters")(e.real.recordMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u95F4\u9694")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("intervalfilters")(e.real)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u4F20\u611F\u5668\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("modefilters")(e.real.deepMode)))])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u7535\u6D41\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"top"},[t("h2",[e._v("\u7535\u5B50\u5730\u56FE")])]),t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("num2filters")(e.real.xAngle)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("num2filters")(e.real.yAngle)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",[e._v("\u6301\u7EED\u65F6\u957F")]),t("b",[e._v(e._s(e.real.lasttime)+"\u5206\u949F")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6700\u5927\u6DF1\u5EA6")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.maxDeep))+"m")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u586B\u6599\u91CF")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.totalWeight))+"kg")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u5782\u76F4\u5EA6")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.verticality))+"%")])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v("\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u7535\u6D41"),t("em",[e._v(e._s(e._f("numfilters")(e.real.current1))+"(A)")])]),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Rv=[];const Fv={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:xt,controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,recordStatusClass:"",image:"stop",depth:0,pileStatusStr:"\u505C\u94BB",timer:null,deviceKey:"",pileId:"",pile:[],real:[],flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},datafilters(e){return G(e*1e3).format("HH:mm:ss")},numfilters(e){return e==""?"-":parseFloat(e).toFixed(2)},num2filters(e){return parseFloat(e).toFixed(1)},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},recordfilters(e){return e==="1"?"\u65F6\u95F4\u6A21\u5F0F":"\u6DF1\u5EA6\u6A21\u5F0F"},intervalfilters(e){if(e.recordInterval==="0")return e.recordMode==="1"?"5s":"20cm";if(e.recordInterval==="1")return e.recordMode==="1"?"10s":"25cm";if(e.recordInterval==="2")return e.recordMode==="1"?"30s":"50cm";if(e.recordInterval==="3")return e.recordMode==="1"?"60s":"100cm"},modefilters(e){return e==="0"?"\u5355\u6746\u6A21\u5F0F":e==="1"?"\u63A5\u6746\u6A21\u5F0F":"RTK"}},watch:{centerDialogVisible1(e,s){this.timer&&clearInterval(this.timer),e==!1&&this.getwatchData()}},methods:{getwatchData(){this.ispileIds=!0,this.pile=[],this.defaultpile="",this.real={current:0,deep:0,density:0,deviceKey:"-",expandStatus:"0",flow:0,latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partAsh:0,partSlurry:0,pileDescribe:"-",pileId:0,pipeStatus:"0",pressure:0,processType:"00000000",realTime:0,recordStatus:"3",speed:0,startTime:0,totalAsh:0,totalSlurry:0,version:"-",waterCementRatio:0,xAngle:0,yAngle:0,lasttime:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:16},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7535\u6D41"]},grid:{top:"21%",left:"4%",right:"4%",bottom:"12%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m ",type:"value",inverse:!0,nameLocation:"end",max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"   \u7535\u6D41A",type:"value",inverse:!1,nameLocation:"start",max:300,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.deep},{name:"\u7535\u6D41",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&(clearInterval(this.timer),this.getwatchData())},getPileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.ispileIds=!1)})},getData(){let e=this;Ee(this.selectItem.key,this.pileId,"realTime,current1,deep,pipeStatus").then(s=>{const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var i=0;i<s.length;i++){let r=G(s[i].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),n=[],o=[];n.push(r,s[i].current1.toFixed(2)),o.push(r,s[i].deep.toFixed(2)),this.flow.push(n),this.deep.push(o)}this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.initEchart01(!1);var a=s[s.length-1];a!=null&&(a.pipeStatus=="1"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):a.pipeStatus=="2"?(this.pileStatusStr="\u63D0\u94BB",this.image="up"):a.pipeStatus=="3"?this.pileStatusStr="\u4E0B\u94BB":a.pipeStatus=="4"&&this.pilefilter=="\u63D0\u94BB",this.depth=a.deep,e.myFun(a.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(r=>{if(r!=null){this.ispileIds==!0&&this.getPileIds(),this.real=r,this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.ispileIds=!0),this.real.deep>this.depth?(this.pileStatusStr="\u4E0B\u94BB",this.pipeStatusClass="on",this.image="down"):this.real.deep<this.depth?(this.pileStatusStr="\u63D0\u94BB",this.pipeStatusClass="on",this.image="up"):this.pipeStatusClass="",this.depth=this.real.deep;let n=G(r.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow.length==0||this.flow[this.flow.length-1][0]!=n){let o=[],l=[];o.push(n,r.current1.toFixed(2)),l.push(n,r.deep.toFixed(2)),this.flow.push(o),this.deep.push(l),this.initEchart01(!1)}this.real.lasttime=((r.realTime-r.startTime)/60).toFixed(0),e.myFun(this.real.deep)}else this.ispileIds=!0,this.flow=[],this.deep=[],this.pile=[],this.defaultpile="",this.real={current:0,deep:0,density:0,deviceKey:"-",expandStatus:"0",flow:0,latitude:0,longitude:0,machineKey:"-",maxDeep:0,nozzleStatus:"0",partAsh:0,partSlurry:0,pileDescribe:"-",pileId:0,pipeStatus:"0",pressure:0,processType:"00000000",realTime:0,recordStatus:"3",speed:0,startTime:0,totalAsh:0,totalSlurry:0,version:"-",waterCementRatio:0,xAngle:0,yAngle:0,lasttime:0},this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.image="stop",this.initEchart01(!0),e.myFun(this.real.deep);t.close()})},3e3),setTimeout(()=>{t.close()},6e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=xt:this.coordinates.icon=xt),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getPileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},bo={};var Uv=fe(Fv,Nv,Rv,!1,zv,"e87852dc",null,null);function zv(e){for(let s in bo)this[s]=bo[s]}var Bv=function(){return Uv.exports}(),$v=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime "}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth "}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh "}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding "}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth "}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed "}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed "}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",[t("div",{staticClass:"info",staticStyle:{width:"16rem",float:"left"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.pile.pileDescribe))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status",staticStyle:{width:"150px",float:"right"}},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])])])]),t("div",{staticStyle:{clear:"both"}})])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("recordfilters")(e.real.recordMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u95F4\u9694")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("intervalfilters")(e.real)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6869\u957F(m)")]),t("ul",{staticClass:"item_ul_flow"},[t("li",{staticClass:"item_flow"},[t("h6",[e._v("1")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length1)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("2")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length2)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("3")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length3)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("4")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length4)))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("5")]),t("p",[e._v(e._s(e._f("numfilters")(e.real.length5)))])])])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u65F6\u957F(s)")]),t("ul",{staticClass:"item_ul_flow"},[t("li",{staticClass:"item_flow"},[t("h6",[e._v("1")]),t("p",[e._v(e._s(e.real.time1))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("2")]),t("p",[e._v(e._s(e.real.time2))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("3")]),t("p",[e._v(e._s(e.real.time3))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("4")]),t("p",[e._v(e._s(e.real.time4))])]),t("li",{staticClass:"item_flow"},[t("h6",[e._v("5")]),t("p",[e._v(e._s(e.real.time5))])])])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u6B21\u6570\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"top"},[t("h2",[e._v("\u7535\u5B50\u5730\u56FE")])]),t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("num2filters")(e.real.xAngle)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("num2filters")(e.real.yAngle)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",[e._v("\u6301\u7EED\u65F6\u957F")]),t("b",[e._v(e._s(e.real.lasttime)+"\u5206\u949F")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6700\u5927\u6DF1\u5EA6")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.maxDeep))+"m")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u9524\u51FB\u6B21\u6570")]),t("b",[e._v(e._s(e.real.hammerTimes))])]),t("div",{staticClass:"item"},[t("p",[e._v("\u5782\u76F4\u5EA6")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.verticality))+"%")])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v("\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u52A0\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(m/s)")])]),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},jv=[];const Hv={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:xt,controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,recordStatusClass:"",image:"stop",depth:0,pileStatusStr:"\u505C\u94BB",timer:null,deviceKey:"",pileId:"",pile:[],realls:[],real:{deep:0,deepMode:"0",designLength1:0,designLength2:0,designLength3:0,designLength4:0,designLength5:0,designLength6:0,designLength7:0,designLength8:0,designPileAmount:0,deviceKey:"-",deviceType:"2",hammerPower:0,hammerTimes:0,latitude:0,length1:0,length2:0,length3:0,length4:0,length5:0,longitude:0,machineKey:"",maxDeep:0,pileAmount:0,pileDescribe:"-",pileId:0,pressure:0,realTime:0,recordInterval:"0",recordMode:"1",recordStatus:"3",speed:0,startTime:0,time1:0,time2:0,time3:0,time4:0,time5:0,version:"1.01",verticality:0,waterPressure:0,weight:0,xAngle:0,yAngle:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(e){return parseFloat(e).toFixed(2)},num1filters(e){return parseFloat(e).toFixed(3)},num2filters(e){return parseFloat(e).toFixed(1)},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},recordfilters(e){switch(e){case"1":return"\u65F6\u95F4\u6A21\u5F0F";case"0":return"\u6DF1\u5EA6\u6A21\u5F0F";default:return e}},intervalfilters(e){if(e.recordInterval==="0")return e.recordMode==="1"?"5s":"20cm";if(e.recordInterval==="1")return e.recordMode==="1"?"10s":"25cm";if(e.recordInterval==="2")return e.recordMode==="1"?"30s":"50cm";if(e.recordInterval==="3")return e.recordMode==="1"?"60s":"100cm"}},watch:{centerDialogVisible1(e,s){e==!1&&(this.getwatchDate(),this.timer&&clearInterval(this.timer))}},methods:{getwatchDate(){this.ispileIds=!0,this.pile=[],this.real={deep:0,deepMode:"0",designLength1:0,designLength2:0,designLength3:0,designLength4:0,designLength5:0,designLength6:0,designLength7:0,designLength8:0,designPileAmount:0,deviceKey:"-",deviceType:"2",hammerPower:0,hammerTimes:0,latitude:0,length1:0,length2:0,length3:0,length4:0,length5:0,longitude:0,machineKey:"",maxDeep:0,pileAmount:0,pileDescribe:"-",pileId:0,pressure:0,realTime:0,recordInterval:"0",recordMode:"1",recordStatus:"3",speed:0,startTime:0,time1:0,time2:0,time3:0,time4:0,time5:0,version:"1.01",verticality:0,waterPressure:0,weight:0,xAngle:0,yAngle:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:16},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6B21\u6570"]},grid:{top:"23%",left:"3%",right:"3%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m ",type:"value",inverse:!0,max:80,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"    \u6B21\u6570",type:"value",inverse:!1,nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.deep},{name:"\u6B21\u6570",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&(clearInterval(this.timer),this.getwatchDate())},getPileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.ispileIds=!1)})},getData(){let e=this;Ee(this.selectItem.key,this.pileId,"realTime,hammerTimes,deep,pipeStatus").then(s=>{const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var i=0;i<s.length;i++){let r=G(s[i].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),n=[],o=[];n.push(r,s[i].hammerTimes),o.push(r,s[i].deep.toFixed(2)),this.flow.push(n),this.deep.push(o)}this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.initEchart01(!1);var a=s[s.length-1];a!=null&&(a.pipeStatus=="1"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):a.pipeStatus=="2"?(this.pileStatusStr="\u63D0\u94BB",this.image="up"):a.pipeStatus=="3"?this.pileStatusStr="\u4E0B\u94BB":a.pipeStatus=="4"&&this.pilefilter=="\u63D0\u94BB",this.depth=a.deep,e.myFun(a.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(r=>{if(r!=null){this.ispileIds==!0&&this.getPileIds(),this.real=r,this.setAngle(this.real.xAngle,this.real.yAngle),this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.ispileIds=!0),this.real.deep>this.depth?(this.pileStatusStr="\u4E0B\u94BB",this.pipeStatusClass="on",this.image="down"):this.real.deep<this.depth?(this.pileStatusStr="\u63D0\u94BB",this.pipeStatusClass="on",this.image="up"):(this.pipeStatusClass="",this.image="stop"),this.depth=this.real.deep;let n=G(r.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow.length==0||this.flow[this.flow.length-1][0]!=n){let o=[],l=[];o.push(n,r.hammerTime),l.push(n,r.deep.toFixed(2)),this.flow.push(o),this.deep.push(l),this.initEchart01(!1)}this.real.lasttime=((r.realTime-r.startTime)/60).toFixed(0),e.myFun(this.real.deep)}else this.ispileIds=!0,this.initEchart01(!0),e.myFun(this.real.deep);t.close()})},3e3),setTimeout(()=>{t.close()},6e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=xt:this.coordinates.icon=xt),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getPileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},Co={};var Vv=fe(Hv,$v,jv,!1,Wv,"1e4e4ff7",null,null);function Wv(e){for(let s in Co)this[s]=Co[s]}var Jv=function(){return Vv.exports}(),Gv=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.name,callback:function(i){e.$set(e.form,"name",i)},expression:"form.name"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.company,callback:function(i){e.$set(e.form,"company",i)},expression:"form.company"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.min,callback:function(i){e.$set(e.form,"min",i)},expression:"form.min"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.length,callback:function(i){e.$set(e.form,"length",i)},expression:"form.length"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.weight,callback:function(i){e.$set(e.form,"weight",i)},expression:"form.weight"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.margin,callback:function(i){e.$set(e.form,"margin",i)},expression:"form.margin"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.radius,callback:function(i){e.$set(e.form,"radius",i)},expression:"form.radius"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.upspeed,callback:function(i){e.$set(e.form,"upspeed",i)},expression:"form.upspeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.downspeed,callback:function(i){e.$set(e.form,"downspeed",i)},expression:"form.downspeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},qv=[];const Yv={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],data(){return{timer:null,deviceKey:"",pileId:"",fields:"",selectItem:[],centerDialogVisible:!1,form:{name:"",company:"",min:"",length:"",weight:"",margin:"",radius:"",upspeed:"",downspeed:""}}},methods:{handleCommand(e){let s=e.split("-")[0],t=e.split("-")[1];switch(this.selectItem=this.onlineList[s],t){case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){}}},So={};var Kv=fe(Yv,Gv,qv,!1,Xv,"1e37dcdb",null,null);function Xv(e){for(let s in So)this[s]=So[s]}var Zv=function(){return Kv.exports}(),Qv=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u94BB\u6746\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"pipeStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u55B7\u7070\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"nozzleStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalAsh"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalAsh!=null?"(kg)":""))])])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",{staticClass:"info"},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("pilefilter")(e.pile.pileDescribe)))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status"},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])]),t("li",{class:e.pipeStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.pileStatusStr))])]),t("li",{class:e.nozzleStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("sta2filters")(e.real.nozzleStatus)))])])])])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6")]),t("div",{staticClass:"value"},[e._v("- cm/min")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6")]),t("div",{staticClass:"value"},[e._v("- cm/min")])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u7070\u91CF\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"top"},[t("h2",[e._v("\u7535\u5B50\u5730\u56FE")])]),t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("numfilters")(e.real.xAngle,1)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("numfilters")(e.real.yAngle,1)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6301\u7EED\u65F6\u957F")]),t("b",{staticClass:"item_center"},[e._v(e._s(e.real.lasttime)+" min")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6700\u5927\u6DF1\u5EA6")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.maxDeep,1))+" m")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.totalAsh,1))+" kg")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6BB5\u7070\u91CF")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.partAsh))+" kg")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7070\u7F50\u4F59\u91CF")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.weight))+" kg")])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v("\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u7535\u6D41"),t("em",[e._v(e._s(e._f("numfilters")(e.real.current))+"(A)")])]),t("p",[e._v("\u55B7\u7070\u538B\u529B"),t("em",[e._v(e._s(e._f("numfilters")(e.real.pressure))+"(Mpa)")])]),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table m-tab-addAsh"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.addWeight,border:""}},[t("el-table-column",{attrs:{type:"index",label:"\u5E8F\u53F7",width:"200",align:"center"}}),t("el-table-column",{attrs:{prop:"beginTime",label:"\u5F00\u59CB\u65F6\u95F4",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[e._v(" "+e._s(e._f("timefilters")(i.row.beginTime))+" ")]}}])}),t("el-table-column",{attrs:{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[e._v(" "+e._s(e._f("timefilters")(i.row.endTime))+" ")]}}])}),t("el-table-column",{attrs:{prop:"weight",label:"\u52A0\u7070\u91CF(kg)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[e._v(" "+e._s(e._f("numfilters")(i.row.weight))+" ")]}}])})],1),t("el-footer",{staticClass:"m-footer-addAsh"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage,"page-size":e.pagesSize,layout:"slot, prev, pager, next",total:e.totalpage},on:{"current-change":e.handleCurrentChangeweight}},[t("button",{staticClass:"lastPage",on:{click:e.toWeightFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage,"page-size":e.pagesSize,layout:"slot,jumper",total:e.totalpage},on:{"current-change":e.handleCurrentChangeweight}},[t("button",{staticClass:"lastPage",on:{click:e.toWeightLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==4,expression:"tab2 == 4"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},eg=[];const tg={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b7.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,currentPage:1,pagesSize:10,totalpage:0,addWeight:[{beginTime:1642063786,deviceKey:"MP01123412341234",endTime:1642063797,realTime:1642063798,version:"1.00",weight:2.155098}],image:"stop",pipeStatusClass:"",nozzleStatusClass:"",recordStatusClass:"",depth:0,pileStatusStr:"\u505C\u94BB",timer:null,deviceKey:"",pileId:"",pile:[],real:{current:0,deep:0,deviceKey:"",latitude:0,longitude:0,machineKey:"0",maxDeep:0,nozzleStatus:"0",partAsh:0,partSlurry:0,pileDescribe:"",pileId:0,pipeStatus:"0",pressure:0,realTime:0,recordStatus:"3",speed:0,startTime:0,totalAsh:0,version:"0",vertical:0,weight:0,xAngle:0,yAngle:0,lasttime:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0}},filters:{timefilters(e){return G(e*1e3).format("YYYY-MM-DD HH:mm:ss")},pilefilter(e){return e==null?"--":e},ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("HH:mm:ss")},numfilters(e,s){return s==null&&(s=2),isNaN(e)?e:parseFloat(e).toFixed(s)},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},sta2filters(e){switch(e){case"1":return"\u55B7\u7070";default:return"\u6B62\u55B7"}}},watch:{centerDialogVisible1(e,s){this.tab2=0,this.timer&&clearInterval(this.timer),e==!1&&this.getwatchData()}},methods:{getwatchData(){this.ispileIds=!0,this.pile=[],this.real={current:0,deep:0,deviceKey:"",latitude:0,longitude:0,machineKey:"0",maxDeep:0,nozzleStatus:"0",partAsh:0,partSlurry:0,pileDescribe:"",pileId:0,pipeStatus:"0",pressure:0,realTime:0,recordStatus:"3",speed:0,startTime:0,totalAsh:0,version:"0",vertical:0,weight:0,xAngle:0,yAngle:0,lasttime:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},handleCurrentChangeweight(e){const s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.currentPage=e,pn(this.currentPage,this.pagesSize,this.selectItem.key).then(t=>{this.addWeight=t.content,this.totalpage=t.totalElements,s.close()})},toWeightFirstPage(){this.handleCurrentChangeweight(1)},toWeightLastPage(){this.handleCurrentChangeweight(Math.ceil(this.totalpage/this.pagesSize))},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:30},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7070\u91CF"]},grid:{top:"22%",left:"4%",right:"4%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m  ",type:"value",inverse:!0,nameLocation:"end",max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u7070\u91CFkg",type:"value",inverse:!1,nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.deep,markPoint:{data:[{type:"max"}]}},{name:"\u7070\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==3&&pn(1,10,this.selectItem.key).then(t=>{this.addWeight=t.content,this.totalpage=t.totalElements}),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==4&&this.timer&&(clearInterval(this.timer),this.getwatchData())},getPileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.ispileIds=!1)})},getData(){let e=this;Ee(this.selectItem.key,this.pileId,"realTime,totalAsh,deep,pipeStatus").then(s=>{const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var i=0;i<s.length;i++){let r=G(s[i].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),n=[],o=[];n.push(r,s[i].totalAsh.toFixed(2)),o.push(r,s[i].deep.toFixed(2)),this.flow.push(n),this.deep.push(o)}this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.initEchart01(!1);var a=s[s.length-1];a.pipeStatus=="1"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):a.pipeStatus=="2"?(this.pileStatusStr="\u63D0\u94BB",this.image="up"):a.pipeStatus=="3"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):a.pipeStatus=="4"&&(this.pilefilter=="\u63D0\u94BB",this.image="up"),this.depth=a.deep,e.myFun(a.deep),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(r=>{if(r!=null){this.ispileIds==!0&&this.getPileIds(),this.real=r,this.setAngle(this.real.xAngle,this.real.yAngle),this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.ispileIds=!0,this.recordStatusClass="",this.real.deep="--",this.real.speed="--",this.real.current="--",this.real.pressure="--"),this.real.deep>this.depth?(this.pileStatusStr="\u4E0B\u94BB",this.pipeStatusClass="on",this.image="down"):this.real.deep<this.depth&&(this.pileStatusStr="\u63D0\u94BB",this.pipeStatusClass="on",this.image="up"),this.depth=this.real.deep,this.real.nozzleStatus==1?this.nozzleStatusClass="on":this.nozzleStatusClass="";let n=G(r.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow[this.flow.length-1][0]!==n){let o=[],l=[];o.push(n,r.totalAsh.toFixed(2)),l.push(n,r.deep.toFixed(2)),this.flow.push(o),this.deep.push(l),this.initEchart01(!1)}this.real.lasttime=((r.realTime-r.startTime)/60).toFixed(0),e.myFun(this.real.deep)}else this.ispileIds=!0,this.pile=[],this.real={current:0,deep:0,deviceKey:"",latitude:0,longitude:0,machineKey:"0",maxDeep:0,nozzleStatus:"0",partAsh:0,partSlurry:0,pileDescribe:"",pileId:0,pipeStatus:"0",pressure:0,realTime:0,recordStatus:"3",speed:0,startTime:0,totalAsh:0,version:"0",vertical:0,weight:0,xAngle:0,yAngle:0,lasttime:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.initEchart01(!0),this.image="stop",this.myFun(this.real.deep);t.close()})},3e3)})},handleCommand(e){let s=e.split("-")[0],t=e.split("-")[1];if(this.selectItem=this.onlineList[s],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u540E\u53F0\u7070\u7F50"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u540E\u53F0\u7070\u7F50"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let i=0;i<this.cameraLive.length;i++){let a={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[i].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(a)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=require("@/assets/images/map/b7.png"):this.coordinates.icon=require("@/assets/images/map/a6.png")),t){case"0":{this.centerDialogVisible1=!0,this.getPileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},To={};var ig=fe(tg,Qv,eg,!1,sg,"5f81280e",null,null);function sg(e){for(let s in To)this[s]=To[s]}var ag=function(){return ig.exports}(),rg=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u94BB\u6746")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"pipeStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u55B7\u6D46")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"nozzleStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalSlurry"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalSlurry!=null?"(L)":""))])])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"totalAsh"))+" "),t("span",[e._v(e._s(i.realtime&&i.realtime.totalAsh!=null?"(kg)":""))])])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",{staticClass:"info"},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.pile.pileDescribe))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status"},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])]),t("li",{class:e.pipeStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.pileStatusStr))])]),t("li",{class:e.nozzleStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("sta2filters")(e.real.nozzleStatus)))])])])])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u6C34\u7070\u6BD4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.waterCementRatio)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6")]),t("div",{staticClass:"value"},[e._v("- cm/min")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6")]),t("div",{staticClass:"value"},[e._v("- cm/min")])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u6D41\u91CF\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"top"}),t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{staticClass:"icon"},[t("img",{attrs:{src:Oc,alt:""}})]),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("num2filters")(e.real.xAngle)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("num2filters")(e.real.yAngle)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",[e._v("\u6301\u7EED\u65F6\u957F")]),t("b",[e._v(e._s(e.real.lasttime)+"\u5206\u949F")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6700\u5927\u6DF1\u5EA6")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.maxDeep))+"m")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u7D2F\u8BA1\u6D46\u91CF")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.totalSlurry))+"L")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.totalAsh))+"kg")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6BB5\u6D46\u91CF")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.partSlurry))+"L")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6BB5\u7070\u91CF")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.partAsh))+"kg")])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v("\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u6D41\u91CF1"),t("em",[e._v(e._s(e._f("numfilters")(e.real.flow))+"(L/min)")])]),t("p",[e._v("\u6D41\u91CF2"),t("em",[e._v(e._s(e._f("numfilters")(e.real.flow))+"(L/min)")])]),t("p",[e._v("\u603B\u6D41\u91CF"),t("em",[e._v(e._s(e._f("numfilters")(e.real.flow))+"(L/min)")])]),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},ng=[];const og={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b8.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,image:"stop",pipeStatusClass:"",nozzleStatusClass:"",recordStatusClass:"",depth:0,pileStatusStr:"\u505C\u94BB",timer:null,deviceKey:"",pileId:"",pile:[],real:{recordStatus:"3",nozzleStatus:"0",pipeStatus:"0",startTime:0,xAngle:0,yAngle:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("YYYY-MM-DD HH:mm:ss")},numfilters(e){return e==null?"-":parseFloat(e).toFixed(2)},num1filters(e){return parseFloat(e).toFixed(3)},num2filters(e){return parseFloat(e).toFixed(1)},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},sta1filters(e){return e=="1"?"\u4E0B\u94BB":e=="2"?"\u63D0\u94BB":e=="3"?"\u590D\u4E0B":e=="4"?"\u590D\u63D0":"\u505C\u6B62"},sta2filters(e){switch(e){case"1":return"\u55B7\u6D46";case"0":return"\u6B62\u55B7";default:return e}}},watch:{centerDialogVisible1(e,s){e==!1&&(this.getwatchData(),this.timer&&clearInterval(this.timer))}},methods:{getwatchData(){this.ispileIds=!0,this.pile=[],this.real={recordStatus:"3",nozzleStatus:"0",pipeStatus:"0",startTime:0,xAngle:0,yAngle:0},this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:20},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u6D41\u91CF"]},grid:{top:"23%",left:"4%",right:"5.5%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m  ",type:"value",inverse:!0,max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:"\u6D41\u91CF(L/min)",type:"value",inverse:!1,nameLocation:"start",max:100,splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.deep},{name:"\u6D41\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&(clearInterval(this.timer),this.getwatchData())},getpileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.ispileIds=!1)})},getData(){let e=this;Ee(this.selectItem.key,this.pileId,"realTime,flow,deep,pipeStatus").then(s=>{const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var i=0;i<s.length;i++){let r=G(s[i].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),n=[],o=[];n.push(r,s[i].flow.toFixed(2)),o.push(r,s[i].deep.toFixed(2)),this.flow.push(n),this.deep.push(o)}this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.initEchart01(!1);var a=s[s.length-1];a!=null&&(a.pipeStatus=="1"?(this.pileStatusStr="\u4E0B\u94BB",this.image="down"):a.pipeStatus=="2"?(this.pileStatusStr="\u63D0\u94BB",this.image="up"):a.pipeStatus=="3"?this.pileStatusStr="\u4E0B\u94BB":a.pipeStatus=="4"&&this.pilefilter=="\u63D0\u94BB",this.depth=a.deep,e.myFun(a.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(r=>{if(r!=null){this.ispileIds==!0&&this.getpileIds(),this.real=r,this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.ispileIds=!0),this.real.deep>this.depth?(this.pileStatusStr="\u4E0B\u94BB",this.pipeStatusClass="on",this.image="down"):this.real.deep<this.depth?(this.pileStatusStr="\u63D0\u94BB",this.pipeStatusClass="on",this.image="up"):this.pipeStatusClass="",this.depth=this.real.deep,this.real.nozzleStatus==0?this.nozzleStatusClass="":this.nozzleStatusClass="on";let n=G(r.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow.length==0||this.flow[this.flow.length-1][0]!=n){let o=[],l=[];o.push(n,r.flow.toFixed(2)),l.push(n,r.deep.toFixed(2)),this.flow.push(o),this.deep.push(l),this.initEchart01(!1)}this.real.lasttime=((r.realTime-r.startTime)/60).toFixed(0),e.myFun(this.real.deep)}else this.ispileIds=!0,this.flow=[],this.deep=[],this.initEchart01(!0),e.myFun(this.real.deep);t.close()})},3e3),setTimeout(()=>{t.close()},6e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=require("@/assets/images/map/b8.png"):this.coordinates.icon=require("@/assets/images/map/a8.png")),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getpileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},wo={};var lg=fe(og,rg,ng,!1,ug,"88d3d1c4",null,null);function ug(e){for(let s in wo)this[s]=wo[s]}var cg=function(){return lg.exports}(),dg=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",{staticClass:"info"},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("pilefilter")(e.pile.pileDescribe)))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status"},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])]),t("li",{class:e.pileStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.pileStatusStr))])])])]),t("div",{staticStyle:{clear:"both"}})]),t("div",{staticClass:"bottom bottomdata"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u7535\u6D41")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.current))+" A")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("recordModefilters")(e.real.recordMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u95F4\u9694")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("Intervalfilters")(e.real)))])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u7535\u6D41\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"top"}),t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("numfilters")(e.real.xAngle,1)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("numfilters")(e.real.yAngle,1)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",[e._v("\u6301\u7EED\u65F6\u957F")]),t("b",[e._v(e._s(e.real.lasttime)+"\u5206\u949F")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6700\u5927\u6DF1\u5EA6")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.maxDeep))+"m")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6700\u5927\u7535\u6D41")]),t("b",[e._v(e._s(e._f("numfilters")(e.maxCurrents))+"A")])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v(e._s(e.pileStatusSpeed)),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u7535\u6D41"),t("em",[e._v(e._s(e._f("numfilters")(e.real.current))+"(A)")])]),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},hg=[];const pg={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:xt,controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,ztdepth:0,pileStatusSpeed:"\u901F\u5EA6",pileStatusStr:"\u505C\u94BB",recordStatusClass:"",pileStatusClass:"",image:"stop",timer:null,deviceKey:"",pileId:"",pile:[],real:{startTime:0,recordStatus:"3",nozzleStatus:"0",xAngle:0,yAngle:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0,maxCurrents:0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},pilefilter(e){return e==null?"--":e},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("YYYY-MM-DD HH:mm:ss")},recordModefilters(e){if(e=="0")return"\u6DF1\u5EA6\u6A21\u5F0F";if(e=="1")return"\u65F6\u95F4\u6A21\u5F0F"},Intervalfilters(e){if(e.recordMode=="0"){if(e.recordInterval=="0")return"20cm";if(e.recordInterval=="1")return"25cm";if(e.recordInterval=="2")return"50cm";if(e.recordInterval=="3")return"100cm"}else if(e.recordMode=="1"){if(e.recordInterval=="0")return"5s";if(e.recordInterval=="1")return"10s";if(e.recordInterval=="2")return"30s";if(e.recordInterval=="3")return"60s"}},numfilters(e,s){return e==null?"-":(s==null&&(s=2),isNaN(e)?e:parseFloat(e).toFixed(s))},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},downSpeed(e){return e>0?parseFloat(e).toFixed(2):0},upSpeed(e){return e<0?parseFloat(e).toFixed(2):0}},watch:{centerDialogVisible1(e,s){e==!1&&(this.getwatchData(),this.timer&&clearInterval(this.timer))}},methods:{getwatchData(){this.ispileIds=!0,this.flow=[],this.deep=[],this.pile=[],this.real={startTime:0,recordStatus:"3",nozzleStatus:"0",xAngle:0,yAngle:0},this.ztdepth=0,this.pileStatusStr="\u505C\u94BB",this.pileStatusSpeed="\u901F\u5EA6",this.recordStatusClass="",this.pileStatusClass="",!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:20},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7535\u6D41"]},grid:{top:"23%",left:"4%",right:"4%",bottom:"5%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m ",type:"value",inverse:!0,max:30,axisLine:{show:!0},nameTextstyle:{padding:[15,0,0,15]}},{name:" \u7535\u6D41(A)",type:"value",inverse:!1,nameLocation:"start",max:300,nameTextstyle:{padding:[25,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.deep,markPoint:{data:[{type:"max"}]}},{name:"\u7535\u6D41",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&(clearInterval(this.timer),this.getwatchData())},getpileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.ispileIds=!1)})},getData(){let e=this;var s=[];Ee(this.selectItem.key,this.pileId,"realTime,current,deep").then(t=>{const i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var a=0;a<t.length;a++){s.push(t[a].current);let n=G(t[a].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),o=[],l=[];o.push(n,t[a].current.toFixed(2)),l.push(n,t[a].deep.toFixed(2)),this.flow.push(o),this.deep.push(l)}this.maxCurrents=Math.max(...s),this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.initEchart01(!1);var r=t[t.length-1];r!=null&&(this.ztdepth=r.deep,e.myFun(r.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(n=>{if(n!=null){this.ispileIds==!0&&this.getpileIds(),this.real=n,n.current>this.maxCurrents&&(this.maxCurrents=n.current),this.setAngle(this.real.xAngle,this.real.yAngle),this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.ispileIds=!0),this.real.deep>this.ztdepth?(this.pileStatusStr="\u94BB\u5B54",this.pileStatusSpeed="\u94BB\u5B54\u901F\u5EA6",this.pileStatusClass="on",this.image="down"):this.real.deep<this.ztdepth&&(this.pileStatusStr="\u8D77\u62D4",this.pileStatusSpeed="\u8D77\u62D4\u901F\u5EA6",this.pileStatusClass="on",this.image="up"),this.ztdepth=this.real.deep;let o=G(n.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow.length==0||this.flow[this.flow.length-1][0]!=o){let l=[],u=[];l.push(o,n.current.toFixed(2)),u.push(o,n.deep.toFixed(2)),this.flow.push(l),this.deep.push(u),this.initEchart01(!1)}this.real.lasttime=((n.realTime-n.startTime)/60).toFixed(0),e.myFun(this.real.deep)}else this.ispileIds=!0,this.flow=[],this.deep=[],this.pile=[],this.real={startTime:0,recordStatus:"3",nozzleStatus:"0",xAngle:0,yAngle:0},this.ztdepth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pileStatusClass="",this.initEchart01(!0),e.myFun(this.real.deep);i.close()})},3e3),setTimeout(()=>{i.close()},6e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]]),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getpileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},xo={};var fg=fe(pg,dg,hg,!1,mg,"2420baec",null,null);function mg(e){for(let s in xo)this[s]=xo[s]}var vg=function(){return fg.exports}(),gg=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top",staticStyle:{background:"#0B85E3"}},[t("div",{staticClass:"right"},[t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.name,callback:function(i){e.$set(e.form,"name",i)},expression:"form.name"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.company,callback:function(i){e.$set(e.form,"company",i)},expression:"form.company"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.min,callback:function(i){e.$set(e.form,"min",i)},expression:"form.min"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.length,callback:function(i){e.$set(e.form,"length",i)},expression:"form.length"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.weight,callback:function(i){e.$set(e.form,"weight",i)},expression:"form.weight"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.margin,callback:function(i){e.$set(e.form,"margin",i)},expression:"form.margin"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.radius,callback:function(i){e.$set(e.form,"radius",i)},expression:"form.radius"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.upspeed,callback:function(i){e.$set(e.form,"upspeed",i)},expression:"form.upspeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.downspeed,callback:function(i){e.$set(e.form,"downspeed",i)},expression:"form.downspeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},_g=[];const yg={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],data(){return{timer:null,deviceKey:"",pileId:"",fields:"",selectItem:[],centerDialogVisible:!1,form:{name:"",company:"",min:"",length:"",weight:"",margin:"",radius:"",upspeed:"",downspeed:""}}},methods:{handleCommand(e){let s=e.split("-")[0],t=e.split("-")[1];switch(this.selectItem=this.onlineList[s],t){case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){}}},ko={};var bg=fe(yg,gg,_g,!1,Cg,"3478c2be",null,null);function Cg(e){for(let s in ko)this[s]=ko[s]}var Sg=function(){return bg.exports}(),Tg=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u94BB\u6746\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"pipeStatus")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u55B7\u7070\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"nozzleStatus")))])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01 m-pop-echart-two"},[t("el-row",{staticClass:"row echart"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",{staticClass:"info"},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("pilefilter")(e.pile.pileDescribe)))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status"},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.StatusPileStarts))])]),t("li",{class:e.pipeStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.pileStatusStr))])]),t("li",{class:e.nozzleStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.StatusAsh))])])])])]),t("div",{staticClass:"bottom bottomdata"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.StartTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u5F84")]),t("div",{staticClass:"value"},[e._v(e._s(e.real.pileWidth))])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u7070\u91CF\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("numfilters")(e.real.xAngle,1)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("numfilters")(e.real.yAngle,1)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6301\u7EED\u65F6\u957F")]),t("b",{staticClass:"item_center"},[e._v(e._s(e.lastTime)+"min")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6700\u5927\u6DF1\u5EA6")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.MaxDeeps))+" m")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u7D2F\u8BA1\u7070\u91CF")]),t("b",{staticClass:"item_center"},[e._v("- kg")])]),t("div",{staticClass:"item"},[t("p",{staticClass:"item_center"},[e._v("\u6BB5\u7070\u91CF")]),t("b",{staticClass:"item_center"},[e._v(e._s(e._f("numfilters")(e.real.ash))+" kg")])])])]),t("div",{staticClass:"picbox"},[t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.depth))+"(m)")])]),t("p",[e._v("\u901F\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u7535\u6D41"),t("em",[e._v(e._s(e._f("numfilters")(e.real.current))+"(A)")])]),t("p",[e._v("\u55B7\u7070\u538B\u529B"),t("em",[e._v(e._s(e._f("numfilters")(e.real.pressure))+"(Mpa)")])])])])]),t("div",{staticClass:"ashEchart"},[t("div",{staticStyle:{width:"100%",height:"100%"}},[t("div",{ref:"myChart02",style:{width:"100%",height:"100%"}})])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},wg=[];const xg={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b7.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,lastTime:0,StartTime:"\u505C\u6B62\u4E2D",StatusPileStarts:"\u7ED3\u675F",StatusAsh:"\u6B62\u55B7",image:"stop",pipeStatusClass:"",nozzleStatusClass:"",recordStatusClass:"",depth:0,pileStatusStr:"\u505C\u94BB",timer:null,deviceKey:"",pileId:"",pile:[],real:{ash:0,ashedDepth:0,current:0,dataType:1,depth:0,deviceKey:"2019032201",jianli:"JL00000001",latitude:33,longitude:45,pileDescribe:"",pileId:0,pileWidth:0,pressure:0,realTime:0,speed:0,storeSeq:1,userName:"TEST",xAngle:0,yAngle:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,scale:1,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}],ispileIds:!0,MaxDeeps:0,ashErrornum:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],videoCamera:!1}},filters:{timefilters(e){return G(e*1e3).format("YYYY-MM-DD HH:mm:ss")},pilefilter(e){return e==null?"--":e},ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},datafilters(e){return e=="\u505C\u6B62\u4E2D"?"\u505C\u6B62\u4E2D":G(e*1e3).format("HH:mm:ss")},numfilters(e,s){return s==null&&(s=2),isNaN(e)?e:parseFloat(e).toFixed(s)}},watch:{centerDialogVisible1(e,s){this.tab2=0,this.timer&&clearInterval(this.timer),e==!1&&(this.videofalse(),this.getwatchData())}},methods:{getwatchData(){this.lastTime=0,this.MaxDeeps=0,this.ispileIds=!0,this.pile=[],this.real={ash:0,ashedDepth:0,current:0,dataType:1,depth:0,deviceKey:"2019032201",jianli:"JL00000001",latitude:33,longitude:45,pileDescribe:"",pileId:0,pileWidth:0,pressure:0,realTime:0,speed:0,storeSeq:1,userName:"TEST",xAngle:0,yAngle:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.MaxDeeps=0,!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:30},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7070\u91CF"]},grid:{top:"15%",left:"4%",right:"4%",bottom:"13%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m  ",type:"value",inverse:!0,nameLocation:"end",max:30,axisLine:{show:!0},nameTextStyle:{padding:[10,0,0,15]}},{name:" \u7070\u91CFkg",type:"value",inverse:!1,nameLocation:"start",splitLine:{show:!1},nameTextStyle:{padding:[10,15,0,0]}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.deep,markPoint:{data:[{type:"max"}]}},{name:"\u7070\u91CF",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},initEchart02(){let e={title:{textStyle:{color:"#101D34",fontSize:30},left:"center",top:"center"},tooltip:{trigger:"axis"},grid:{top:"1%",left:"4%",right:"1%",bottom:"1%",containLabel:!0},yAxis:{type:"category",data:[0,1+"m",2+"m",3+"m",4+"m",5+"m",6+"m",7+"m",8+"m",9+"m",10+"m",11+"m",12+"m",13+"m",14+"m",15+"m",16+"m",17+"m",18+"m",19+"m",20+"m",21+"m",22+"m",23+"m",24+"m",25+"m",26+"m",27+"m",28+"m",29+"m",30+"m"],inverse:!0,position:"right"},xAxis:{type:"value",axisLine:{show:!0},inverse:!0},series:[{data:this.ashErrornum,type:"line",showSymbol:!1}]};this.myChart02.setOption(e)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData(),this.videofalse()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history"),this.videofalse(),clearInterval(this.timer)),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo"),this.videofalse(),clearInterval(this.timer)),e==3&&(this.timer&&(clearInterval(this.timer),this.getwatchData()),this.video())},getPileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.ispileIds=!1)})},getData(){let e=this;var s=[];Ee(this.selectItem.key,"","realTime,depth,ash").then(t=>{const i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var a=0;a<t.length;a++){s.push(t[a].depth);let n=G(t[a].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),o=[],l=[];o.push(n,t[a].ash.toFixed(2)),l.push(n,t[a].depth.toFixed(2)),this.flow.push(o),this.deep.push(l),this.ashErrornum[Math.ceil(t[a].depth-1)]==null&&(this.ashErrornum[Math.ceil(t[a].depth-1)]=0),this.ashErrornum[Math.ceil(t[a].depth-1)]+=Number(t[a].ash.toFixed(2))}s==""?this.MaxDeeps=0:this.MaxDeeps=Math.max(...s),this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.initEchart01(!1),this.myChart02=ie(this.$refs.myChart02,null,{renderer:"svg"}),this.initEchart02();var r=t[t.length-1];r==null?(this.StatusAsh="\u6B62\u55B7",this.nozzleStatusClass=""):(this.depth=r.depth,this.StartTime=t[0].realTime,this.lastTime=((r.realTime-t[0].realTime)/60).toFixed(1),e.myFun(r.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(n=>{if(n!=null){this.ispileIds==!0&&this.getPileIds(),this.real=n,n.depth>this.MaxDeeps&&(this.MaxDeeps=n.depth),this.setAngle(this.real.xAngle,this.real.yAngle),this.coordinates.position=[n.longitude,n.latitude],this.coordinates.center=[n.longitude,n.latitude],this.real!=null?(this.recordStatusClass="on",this.StatusPileStarts="\u5F00\u59CB"):(this.recordStatusClass="",this.StatusPileStarts="\u7ED3\u675F",this.ispileIds=!0),this.real.ash!=0?(this.StatusAsh="\u55B7\u7070",this.nozzleStatusClass="on"):(this.StatusAsh="\u6B62\u55B7",this.nozzleStatusClass=""),this.real.speed>0?(this.pileStatusStr="\u4E0B\u94BB",this.pipeStatusClass="on",this.image="down"):this.real.speed<0&&(this.pileStatusStr="\u63D0\u94BB",this.pipeStatusClass="on",this.image="up");let o=G(n.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow.length==0||this.flow[this.flow.length-1][0]!==o){let l=[],u=[];l.push(o,n.ash.toFixed(2)),u.push(o,n.depth.toFixed(2)),this.flow.push(l),this.deep.push(u),this.initEchart01(!1)}e.myFun(this.real.depth)}else this.ispileIds=!0,this.pile=[],this.real={ash:0,ashedDepth:0,current:0,dataType:1,depth:0,deviceKey:"2019032201",jianli:"JL00000001",latitude:33,longitude:45,pileDescribe:"",pileId:0,pileWidth:0,pressure:0,realTime:0,speed:0,storeSeq:1,userName:"TEST",xAngle:0,yAngle:0},this.flow=[],this.deep=[],this.depth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pipeStatusClass="",this.nozzleStatusClass="",this.initEchart01(!0),this.image="stop",this.myFun(this.real.depth);i.close()})},3e3)})},video(){this.playerOptions=[];for(let e=0;e<this.cameraLive.length;e++){let s={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[e].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(s)}},videofalse(){this.playerOptions=[{sources:[{type:"application/x-mpegURL",src:""}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5"}]},handleCommand(e){let s=e.split("-")[0],t=e.split("-")[1];switch(this.selectItem=this.onlineList[s],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive!=null&&(this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.videofalse()),this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.selectItem.onlineStatus==0?this.coordinates.icon=require("@/assets/images/map/b7.png"):this.coordinates.icon=require("@/assets/images/map/a6.png")),t){case"0":{this.centerDialogVisible1=!0,this.getPileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},Io={};var kg=fe(xg,Tg,wg,!1,Ig,"1cee8908",null,null);function Ig(e){for(let s in Io)this[s]=Io[s]}var Pg=function(){return kg.exports}(),Eg=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name",attrs:{title:i.name}},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Ag=[];const Og={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],data(){return{index:0,designDepth:30,deviceKey:"",pileId:"",fields:"",pile:[{pileDescribe:"--",pileId:""}],selectItem:[],centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""}}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("HH:mm:ss")},numfilters(e,s){return s==null&&(s=2),isNaN(e)?e:parseFloat(e).toFixed(s)},startTimefilters(e){return e?e.startTime==null?"-":e.startTime:"-"},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},sta2filters(e){switch(e){case"1":return"\u55B7\u6D46";case"0":return"\u6B62\u55B7";default:return e}},pilefilter(e){return e==null?"--":e}},methods:{closePop(e){this[e]=!1},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},handleCommand(e){let s=e.split("-")[0],t=e.split("-")[1];switch(this.selectItem=this.onlineList[s],this.index=s,t){case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}}}},Po={};var Dg=fe(Og,Eg,Ag,!1,Lg,"095a6668",null,null);function Lg(e){for(let s in Po)this[s]=Po[s]}var Mg=function(){return Dg.exports}(),Ng=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("el-container",{staticClass:"row-con row-previewOnline"},[t("div",{staticClass:"m-previewOnline"},[t("ul",{staticClass:"ul-previewOnline"},e._l(e.onlineList,function(i,a){return t("li",{key:i.id,class:{offline:!i.onlineStatus==1}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"right"},[t("div",{staticClass:"status"},[t("span",{staticClass:"icon"}),i.onlineStatus==1?t("span",{staticClass:"value"},[e._v("\u5728\u7EBF")]):t("span",{staticClass:"value"},[e._v("\u79BB\u7EBF")])]),t("el-dropdown",{attrs:{trigger:"click",placement:"top-start"},on:{command:e.handleCommand}},[t("span",{staticClass:"more icon-more"}),t("el-dropdown-menu",{staticClass:"g-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:a+"-"+0}},[t("span",{staticClass:"icon icon01"}),t("span",{staticClass:"name"},[e._v("\u8FD0\u884C\u72B6\u6001")])]),t("el-dropdown-item",{attrs:{command:a+"-"+1}},[t("span",{staticClass:"icon icon02"}),t("span",{staticClass:"name"},[e._v("\u5386\u53F2\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+2}},[t("span",{staticClass:"icon icon03"}),t("span",{staticClass:"name"},[e._v("\u9884\u8B66\u4FE1\u606F")])]),t("el-dropdown-item",{attrs:{command:a+"-"+3}},[t("span",{staticClass:"icon icon04"}),t("span",{staticClass:"name"},[e._v("\u8F6C\u573A\u8BB0\u5F55")])]),t("el-dropdown-item",{attrs:{command:a+"-"+4}},[t("span",{staticClass:"icon icon05"}),t("span",{staticClass:"name"},[e._v("\u8BBE\u8BA1\u53C2\u6570")])])],1)],1)],1),t("div",{staticClass:"left"},[t("div",{staticClass:"pic",style:{"background-image":"url("+e.iconImg+")"}}),t("div",{staticClass:"type"},[e._v(e._s(i.typeName||""))]),t("div",{staticClass:"name"},[e._v(e._s(i.name||""))])])]),t("div",{staticClass:"detail"},[t("div",{staticClass:"item"},[t("h4",[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(i.key||""))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"startTime")))])]),t("div",{staticClass:"item"},[t("h4",[e._v("\u8BB0\u5F55\u72B6\u6001")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("ofiltersPipe")(i.realtime,"recordStatus")))])])])])])}),0)])]),t("el-dialog",{staticClass:"m-pop",attrs:{title:"\u8BBE\u8BA1\u53C2\u6570-"+e.selectItem.key,visible:e.centerDialogVisible},on:{"update:visible":function(i){e.centerDialogVisible=i}}},[t("div",{staticClass:"m-params-edit"},[t("div",{staticClass:"g-notifacition"},[t("span",{staticClass:"icon"}),t("span",{staticClass:"value"},[e._v("\u8BBE\u8BA1\u53C2\u6570\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u4FEE\u6539")])]),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:24}},[t("h3",[e._v("\u5DE5\u7A0B\u540D\u79F0")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u540D\u79F0"},model:{value:e.form.projectName,callback:function(i){e.$set(e.form,"projectName",i)},expression:"form.projectName"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u65BD\u5DE5\u5355\u4F4D")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u5355\u4F4D"},model:{value:e.form.worker,callback:function(i){e.$set(e.form,"worker",i)},expression:"form.worker"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6700\u77ED\u6210\u6869\u65F6\u95F4(min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6700\u77ED\u6210\u6869\u65F6\u95F4"},model:{value:e.form.minPileTime,callback:function(i){e.$set(e.form,"minPileTime",i)},expression:"form.minPileTime"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u6869\u957F(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u6869\u957F"},model:{value:e.form.designDepth,callback:function(i){e.$set(e.form,"designDepth",i)},expression:"form.designDepth"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6C34\u6CE5\u63BA\u91CF(kg/m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6C34\u6CE5\u63BA\u91CF"},model:{value:e.form.designAsh,callback:function(i){e.$set(e.form,"designAsh",i)},expression:"form.designAsh"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u95F4\u8DDD(m)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u95F4\u8DDD"},model:{value:e.form.designPilePadding,callback:function(i){e.$set(e.form,"designPilePadding",i)},expression:"form.designPilePadding"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u6869\u5F84(cm)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u6869\u5F84"},model:{value:e.form.pileWidth,callback:function(i){e.$set(e.form,"pileWidth",i)},expression:"form.pileWidth"}})],1)],1),t("el-form-item",{staticClass:"item"},[t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u63D0\u94BB\u901F\u5EA6"},model:{value:e.form.designUpSpeed,callback:function(i){e.$set(e.form,"designUpSpeed",i)},expression:"form.designUpSpeed"}})],1),t("el-col",{attrs:{span:12}},[t("h3",[e._v("\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6(cm/min)")]),t("el-input",{attrs:{type:"number",min:0,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u8BA1\u4E0B\u94BB\u901F\u5EA6"},model:{value:e.form.designDownSpeed,callback:function(i){e.$set(e.form,"designDownSpeed",i)},expression:"form.designDownSpeed"}})],1)],1),t("el-form-item",{staticClass:"item submit"},[t("el-col",{attrs:{span:24}},[t("el-button",{staticClass:"btn submit-btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("\u4FDD\u5B58")]),t("el-button",{staticClass:"btn",on:{click:function(i){return e.closePop("centerDialogVisible")}}},[e._v("\u53D6\u6D88")])],1)],1)],1)],1)]),t("el-dialog",{directives:[{name:"el-dialog-drag",rawName:"v-el-dialog-drag"}],staticClass:"m-pop m-pop-detail",attrs:{visible:e.centerDialogVisible1},on:{"update:visible":function(i){e.centerDialogVisible1=i}}},[t("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"left"},[t("gTabs",{attrs:{current:e.tab2,list:e.tab2List},on:{change:e.changeHandle}})],1)]),t("div",{staticClass:"dialog-content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2===0,expression:"tab2 === 0"}],staticClass:"m-tab-table m-tab-echartTable"},[t("div",{staticClass:"m-pop-echart m-pop-echart-f01"},[t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner inner1"},[t("div",{staticClass:"m-statusinfo"},[t("div",{staticClass:"top"},[t("h3",[e._v(e._s(e.selectItem.name))]),t("div",{staticClass:"info"},[t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u6869\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("pilefilter")(e.pile.pileDescribe)))])]),t("div",{staticClass:"item"},[t("div",{staticClass:"tit"},[e._v("\u8BBE\u5907\u7F16\u53F7")]),t("div",{staticClass:"value"},[e._v(e._s(e.selectItem.key))])])]),t("div",{staticClass:"status"},[t("ul",{staticClass:"ul-status"},[t("li",{class:e.recordStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e._f("stafilters")(e.real.recordStatus)))])]),t("li",{class:e.pileStatusClass},[t("div",{staticClass:"btn"},[e._v(e._s(e.pileStatusStr))])])])]),t("div",{staticStyle:{clear:"both"}})]),t("div",{staticClass:"bottom bottomdata"},[t("div",{staticClass:"item"},[t("h3",[e._v("\u5F00\u59CB\u65F6\u95F4")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("datafilters")(e.real.startTime)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u7535\u6D41")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("numfilters")(e.real.current))+" A")])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u6A21\u5F0F")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("recordModefilters")(e.real.recordMode)))])]),t("div",{staticClass:"item"},[t("h3",[e._v("\u8BB0\u5F55\u95F4\u9694")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("Intervalfilters")(e.real)))])])])])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("h2",[e._v("\u6DF1\u5EA6\u3001\u7535\u6D41\u65F6\u95F4\u66F2\u7EBF")]),t("div",{ref:"myChart01",style:{width:"100%",height:"100%"}})])])],1),t("el-row",{staticClass:"row"},[t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"m-box m-map"},[t("div",{staticClass:"top"}),t("div",{staticClass:"con"},[t("div",{staticClass:"mapDiv"},[t("tdt-map",{attrs:{center:e.coordinates.center,zoom:e.coordinates.zoom,controls:e.coordinates.controls}},[t("tdt-marker",{attrs:{position:e.coordinates.position,icon:e.coordinates.icon,draggable:e.coordinates.draggable}}),t("tdt-control",{attrs:{position:"topright",visible:e.coordinates.visible}})],1)],1)])])]),t("el-col",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"m-datab1"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left"},[t("div",{ref:"angle",staticClass:"icon"}),t("div",{staticClass:"t1"},[t("p",[e._v("X"),t("b",[e._v(e._s(e._f("numfilters")(e.real.xAngle,1)))])]),t("p",[e._v("Y"),t("b",[e._v(e._s(e._f("numfilters")(e.real.yAngle,1)))])])])]),t("div",{staticClass:"oh"},[t("div",{staticClass:"item"},[t("p",[e._v("\u6301\u7EED\u65F6\u957F")]),t("b",[e._v(e._s(e.real.lasttime)+"\u5206\u949F")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6700\u5927\u6DF1\u5EA6")]),t("b",[e._v(e._s(e._f("numfilters")(e.real.maxDeep))+"m")])]),t("div",{staticClass:"item"},[t("p",[e._v("\u6700\u5927\u7535\u6D41")]),t("b",[e._v(e._s(e._f("numfilters")(e.maxCurrents))+"A")])])])]),t("div",{staticClass:"picbox"},[t("img",{staticClass:"bg",attrs:{src:Ge,alt:""}}),t("div",{staticClass:"databar"},[t("div",{staticClass:"data",style:{bottom:e.ztTop}},[t("img",{class:e.image,attrs:{src:qe,alt:""}}),t("img",{staticClass:"zt",attrs:{src:Ye,alt:""}}),t("div",{staticClass:"info"},[t("p",[t("b",[e._v(e._s(e.pileStatusStr))])]),t("p",[e._v("\u6DF1\u5EA6"),t("em",[e._v(e._s(e._f("numfilters")(e.real.deep))+"(m)")])]),t("p",[e._v(e._s(e.pileStatusSpeed)),t("em",[e._v(e._s(e._f("numfilters")(e.real.speed))+"(cm/min)")])]),t("p",[e._v("\u7535\u6D41"),t("em",[e._v(e._s(e._f("numfilters")(e.real.current))+"(A)")])]),t("img",{staticClass:"line",attrs:{src:Ke,alt:""}})])])])])])])])],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==1,expression:"tab2 == 1"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==2,expression:"tab2 == 2"}],staticClass:"m-tab-table"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab2==3,expression:"tab2 == 3"}],staticClass:"m-tab-table"},[t("div",{staticClass:"block"},[t("el-carousel",{staticClass:"swiper_video",attrs:{trigger:"click",autoplay:!1,arrow:"never"}},e._l(e.cameraLive,function(i,a){return t("el-carousel-item",{key:a,staticClass:"swiper_item",attrs:{label:a+1}},[t("video-player",{ref:"videoPlayer",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{options:e.playerOptions[a]}})],1)}),1)],1)])])]),t("el-footer",{staticClass:"m-selectAll"},[t("div",{staticClass:"right"},[t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"sizes,slot,  prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toFirstPage}},[t("i",{staticClass:"el-icon-d-arrow-left"})])]),t("el-pagination",{staticClass:"pages",attrs:{"current-page":e.currentPage4,"page-sizes":[4,8,12,16],"page-size":e.pageSize,layout:"slot , jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[t("button",{staticClass:"lastPage",on:{click:e.toLastPage}},[t("i",{staticClass:"el-icon-d-arrow-right"})])])],1)])],1)},Rg=[];const Fg={props:["onlineList","iconImg","total","currentPage4","handleCurrentChange","handleSizeChange","pageSize","toLastPage","toFirstPage"],components:{gTabs:Se},data(){return{coordinates:{center:[0,0],zoom:11,draggable:!1,position:[0,0],icon:require("@/assets/images/map/b4.png"),controls:["Zoom","Scale",{name:"MapType",position:"topright",mapTypes:[{title:"\u5730\u56FE",icon:"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png",layer:"TMAP_NORMAL_MAP"},{title:"\u536B\u661F",icon:" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png",layer:"TMAP_SATELLITE_MAP"}]}],visible:!0,copyright:!0},cameraLive:[],playerOptions:[],message:String,index:0,ztdepth:0,pileStatusSpeed:"\u901F\u5EA6",pileStatusStr:"\u505C\u94BB",recordStatusClass:"",pileStatusClass:"",image:"stop",timer:null,deviceKey:"",pileId:"",pile:[],real:{startTime:0,recordStatus:"3",nozzleStatus:"0",xAngle:0,yAngle:0},flow:[],deep:[],selectItem:[],ztTop:0,y:0,centerDialogVisible:!1,form:{projectName:"",worker:"",minPileTime:"",designDepth:"",designAsh:"",designPilePadding:"",pileWidth:"",designUpSpeed:"",designDownSpeed:""},centerDialogVisible1:!1,tab2:0,tab2List:[],ispileIds:!0,maxCurrents:0}},filters:{ofiltersPipe(e,s){return e?e[s]==null?"-":e[s]:"-"},pilefilter(e){return e==null?"--":e},datafilters(e){return e==0?"\u505C\u6B62\u4E2D":G(e*1e3).format("YYYY-MM-DD HH:mm:ss")},recordModefilters(e){if(e=="0")return"\u6DF1\u5EA6\u6A21\u5F0F";if(e=="1")return"\u65F6\u95F4\u6A21\u5F0F"},Intervalfilters(e){if(e.recordMode=="0"){if(e.recordInterval=="0")return"20cm";if(e.recordInterval=="1")return"25cm";if(e.recordInterval=="2")return"50cm";if(e.recordInterval=="3")return"100cm"}else if(e.recordMode=="1"){if(e.recordInterval=="0")return"5s";if(e.recordInterval=="1")return"10s";if(e.recordInterval=="2")return"30s";if(e.recordInterval=="3")return"60s"}},numfilters(e,s){return e==null?"-":(s==null&&(s=2),isNaN(e)?e:parseFloat(e).toFixed(s))},stafilters(e){switch(e){case"1":return"\u8BB0\u5F55\u4E2D";case"2":return"\u6682\u505C";case"3":return"\u7ED3\u675F";default:return e}},downSpeed(e){return e>0?parseFloat(e).toFixed(2):0},upSpeed(e){return e<0?parseFloat(e).toFixed(2):0}},watch:{centerDialogVisible1(e,s){e==!1&&(this.getwatchData(),this.timer&&clearInterval(this.timer))}},methods:{getwatchData(){this.ispileIds=!0,this.flow=[],this.deep=[],this.pile=[],this.real={startTime:0,recordStatus:"3",nozzleStatus:"0",xAngle:0,yAngle:0},this.ztdepth=0,this.pileStatusStr="\u505C\u94BB",this.pileStatusSpeed="\u901F\u5EA6",this.recordStatusClass="",this.pileStatusClass="",!(this.myChart01===void 0||this.myChart01._disposed)&&(this.myChart01.dispose(),this.image="stop")},setAngle(e,s){let t={tooltip:{show:!1,trigger:"axis",formatter:"x: "+e+"<br />y :"+s},grid:{left:"0",top:"0",right:"0",bottom:"0"},xAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},yAxis:{type:"value",min:"-15",max:"15",axisLabel:{show:!1}},series:[{symbolSize:10,data:[[e,s]],type:"scatter"}]};this.angle==null&&(this.angle=ie(this.$refs.angle)),this.angle.setOption(t)},initEchart01(e){let s={title:{show:e,text:"\u6682\u65E0\u6570\u636E",textStyle:{color:"#101D34",fontSize:20},left:"center",top:"center"},tooltip:{trigger:"axis"},legend:{top:"5%",right:"10%",data:["\u6DF1\u5EA6","\u7535\u6D41"]},grid:{top:"23%",left:"4%",right:"4%",bottom:"5%",containLabel:!0},toolbox:{right:"3%",top:"3%",feature:{saveAsImage:{}}},xAxis:{type:"time",axisLabel:{formatter:"{HH}:{mm}"}},yAxis:[{name:"\u6DF1\u5EA6m ",type:"value",inverse:!0,max:30,axisLine:{show:!0},nameTextstyle:{padding:[15,0,0,15]}},{name:" \u7535\u6D41(A)",type:"value",inverse:!1,nameLocation:"start",max:300,nameTextstyle:{padding:[25,15,0,0]},splitLine:{show:!1}}],series:[{name:"\u6DF1\u5EA6",type:"line",showSymbol:!1,data:this.deep,markPoint:{data:[{type:"max"}]}},{name:"\u7535\u6D41",yAxisIndex:1,type:"line",splitLine:{lineStyle:{type:"dashed"}},showSymbol:!1,data:this.flow}]};this.myChart01.setOption(s)},changeHandle(e){let s=this;this.tab2=e,e==0&&(this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getData()),e==1&&(sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history")),e==2&&(sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo")),e==3&&(clearInterval(this.timer),this.getwatchData())},getpileIds(){Pe(this.selectItem.key).then(e=>{e!=null&&(this.pile=e[0],this.ispileIds=!1)})},getData(){let e=this;var s=[];Ee(this.selectItem.key,this.pileId,"realTime,current,deep").then(t=>{const i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});for(var a=0;a<t.length;a++){s.push(t[a].current);let n=G(t[a].realTime*1e3).format("YYYY-MM-DD HH:mm:ss"),o=[],l=[];o.push(n,t[a].current.toFixed(2)),l.push(n,t[a].deep.toFixed(2)),this.flow.push(o),this.deep.push(l)}this.maxCurrents=Math.max(...s),this.myChart01=ie(this.$refs.myChart01,null,{renderer:"svg"}),this.initEchart01(!1);var r=t[t.length-1];r!=null&&(this.ztdepth=r.deep,e.myFun(r.deep)),this.timer=setInterval(()=>{Ae(this.selectItem.key,this.pileId).then(n=>{if(n!=null){this.ispileIds==!0&&this.getpileIds(),this.real=n,n.current>this.maxCurrents&&(this.maxCurrents=n.current),this.setAngle(this.real.xAngle,this.real.yAngle),this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.real.recordStatus=="1"?this.recordStatusClass="on":this.real.recordStatus=="2"?this.recordStatusClass="pause":this.real.recordStatus=="3"&&(this.recordStatusClass="",this.ispileIds=!0),this.real.deep>this.ztdepth?(this.pileStatusStr="\u94BB\u5B54",this.pileStatusSpeed="\u94BB\u5B54\u901F\u5EA6",this.pileStatusClass="on",this.image="down"):this.real.deep<this.ztdepth&&(this.pileStatusStr="\u8D77\u62D4",this.pileStatusSpeed="\u8D77\u62D4\u901F\u5EA6",this.pileStatusClass="on",this.image="up"),this.ztdepth=this.real.deep;let o=G(n.realTime*1e3).format("YYYY-MM-DD HH:mm:ss");if(this.flow.length==0||this.flow[this.flow.length-1][0]!=o){let l=[],u=[];l.push(o,n.current.toFixed(2)),u.push(o,n.deep.toFixed(2)),this.flow.push(l),this.deep.push(u),this.initEchart01(!1)}this.real.lasttime=((n.realTime-n.startTime)/60).toFixed(0),e.myFun(this.real.deep)}else this.ispileIds=!0,this.flow=[],this.deep=[],this.pile=[],this.real={startTime:0,recordStatus:"3",nozzleStatus:"0",xAngle:0,yAngle:0},this.ztdepth=0,this.pileStatusStr="\u505C\u94BB",this.recordStatusClass="",this.pileStatusClass="",this.initEchart01(!0),e.myFun(this.real.deep);i.close()})},3e3),setTimeout(()=>{i.close()},6e3)})},handleCommand(e){let s=this,t=e.split("-")[0],i=e.split("-")[1];if(this.selectItem=this.onlineList[t],this.cameraLive=JSON.parse(this.selectItem.cameraLive),this.cameraLive==null)this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"}];else{this.tab2List=[{name:"\u8FD0\u884C\u72B6\u51B5"},{name:"\u5386\u53F2\u8BB0\u5F55"},{name:"\u9884\u8B66\u4FE1\u606F"},{name:"\u5B9E\u65F6\u76D1\u63A7"}],this.playerOptions=[];for(let a=0;a<this.cameraLive.length;a++){let r={playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:this.cameraLive[a].liveUrl}],notSupportedMessage:"\u6B64\u89C6\u9891\u6682\u65E0\u6CD5\u64AD\u653E,\u8BF7\u7A0D\u540E\u518D\u8BD5",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}};this.playerOptions.push(r)}}switch(this.selectItem.position==""?this.selectItem.position="0,0":(this.coordinates.position=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]],this.coordinates.center=[this.selectItem.position.split(",")[0],this.selectItem.position.split(",")[1]]),i){case"0":{this.centerDialogVisible1=!0,this.$nextTick(()=>{window.onresize=function(){s.myChart01.resize()}}),this.getpileIds(),this.getData();break}case"1":{sessionStorage.type=this.selectItem.type,sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/history");break}case"2":{sessionStorage.deviceKey=this.selectItem.key,this.$router.push("/alertInfo");break}case"3":{this.$router.push("/previewOnline#");break}case"4":{this.centerDialogVisible=!0,this.form.projectName=JSON.parse(this.selectItem.content).projectName==null?"":JSON.parse(this.selectItem.content).projectName,this.form.worker=JSON.parse(this.selectItem.content).worker==null?"":JSON.parse(this.selectItem.content).worker,this.form.minPileTime=JSON.parse(this.selectItem.content).minPileTime==null?"":JSON.parse(this.selectItem.content).minPileTime,this.form.designDepth=JSON.parse(this.selectItem.content).designDepth==null?"":JSON.parse(this.selectItem.content).designDepth,this.form.designAsh=JSON.parse(this.selectItem.content).designAsh==null?"":JSON.parse(this.selectItem.content).designAsh,this.form.designPilePadding=JSON.parse(this.selectItem.content).designPilePadding==null?"":JSON.parse(this.selectItem.content).designPilePadding,this.form.pileWidth=JSON.parse(this.selectItem.content).pileWidth==null?"":JSON.parse(this.selectItem.content).pileWidth,this.form.designUpSpeed=JSON.parse(this.selectItem.content).designUpSpeed==null?"":JSON.parse(this.selectItem.content).designUpSpeed,this.form.designDownSpeed=JSON.parse(this.selectItem.content).designDownSpeed==null?"":JSON.parse(this.selectItem.content).designDownSpeed;break}}},destroyed(){this.timer&&clearInterval(this.timer)},onSubmit(){Te(this.form,this.selectItem.id).then(e=>{this.onlineList[this.index].content=JSON.stringify(this.form)}),this.centerDialogVisible=!1},closePop(e){this[e]=!1},myFun(e){var s=this;s.y=Number(e).toFixed(2),s.ztTop=100-e/40*100+"%"}}},Eo={};var Ug=fe(Fg,Ng,Rg,!1,zg,"72e2f207",null,null);function zg(e){for(let s in Eo)this[s]=Eo[s]}var Bg=function(){return Ug.exports}(),$g=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row-history"},[t("div",{staticClass:"m-topNav"},[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.tab,callback:function(i){e.tab=i},expression:"tab"}},e._l(e.tabList,function(i){return t("el-tab-pane",{key:i.name,attrs:{label:i.label,name:i.name}})}),1)],1),t(e.tab,{tag:"component",attrs:{iconImg:e.iconImg,onlineList:e.onlineList,pageSize:e.pageSize,total:e.total,currentPage4:e.currentPage4,handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange,toLastPage:e.toLastPage,toFirstPage:e.toFirstPage}})],1)},jg=[];const Hg={name:"previewOnline",components:{gTabs:Se,JBZ:av,GH:cv,GYXPZ:vv,GFZ:Sv,GZ:Pv,GJ:Mv,CGSZ:Bv,CP:Jv,HTZJ:Zv,FPZ:ag,DK:cg,CFG:vg,XWZ:Sg,ZKFPZ:Pg,DP:Mg,LG:Bg},data(){return{tab:"JBZ",iconImg:"",pageSize:8,total:0,currentPage4:1,tabList:[{label:"\u56FA\u5316\u571F",name:"0"},{label:"\u7C89\u55B7\u6869",name:"1"},{label:"\u9AD8\u538B\u65CB\u55B7\u6869",name:"2"},{label:"\u5DE5\u6CD5\u6869",name:"3"},{label:"\u6C89\u7BA1\u7802\u6869",name:"4"},{label:"\u6405\u62CC\u6869",name:"5"}],onlineList:[{id:"1",icon:"@/assets/images/previewOnline/icon-list01.png",typeName:"\u6405\u62CC\u6869",name:"\u53CC\u5934\u6405\u62CC\u6869\u6D4B\u8BD5",key:"MX02808020020100",startTime:"2021-04-14 10:34",createAt:1540102966,online:!0,status:1,zuangan:"\u4E0B\u94BB",penhui:"\u55B7\u7070",weight:126.26}],selectItem:{}}},mounted(){Ac().then(e=>{this.tabList=e,sessionStorage.type!=null?this.tab=sessionStorage.type:this.tab=this.tabList[0].name,this.iconImg="@/assets/images/previewOnline/"+this.tab+".png",qi(this.pageSize,0,this.tab).then(s=>{this.onlineList=s.result.records,this.total=s.result.total})})},filters:{datafilters(e){return G(e*1e3).format("YYYY-MM-DD HH:mm:ss")}},methods:{handleSizeChange(e){this.pageSize=e,qi(this.pageSize,0,this.tab).then(s=>{this.onlineList=s.result.records,this.total=s.result.total})},handleCurrentChange(e){const s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.currentPage4=e,qi(this.pageSize,this.currentPage4,this.tab).then(t=>{this.onlineList=t.result.records,this.total=t.result.total,s.close()}),setTimeout(()=>{s.close()},6e3)},toFirstPage(){this.handleCurrentChange(1)},toLastPage(){this.handleCurrentChange(Math.ceil(this.total/this.pageSize))},handleClick(){const e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.iconImg="@assets/images/previewOnline/"+this.tab+".png",this.currentPage4=1,qi(this.pageSize,0,this.tab).then(s=>{this.onlineList=s.result.records,this.total=s.result.total,sessionStorage.type=this.tab,e.close()}),setTimeout(()=>{e.close()},6e3)}}},Ao={};var Vg=fe(Hg,$g,jg,!1,Wg,"1d227429",null,null);function Wg(e){for(let s in Ao)this[s]=Ao[s]}var e0=function(){return Vg.exports}();export{e0 as default};
